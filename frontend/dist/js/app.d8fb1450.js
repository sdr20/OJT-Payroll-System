(function(){"use strict";var e={5451:function(e,t,s){var a=s(3751),l=s(641);function o(e,t,s,a,o,r){const n=(0,l.g2)("router-view");return(0,l.uX)(),(0,l.Wv)(n)}var r={name:"App"},n=s(6262);const i=(0,n.A)(r,[["render",o]]);var d=i,c=(s(4114),s(8111),s(3579),s(5220)),u=s(6278),p=(0,u.y$)({state:{user:null},mutations:{setUser(e,t){e.user=t},clearUser(e){e.user=null}},actions:{login({commit:e},t){e("setUser",t)},logout({commit:e}){e("clearUser")}},modules:{}}),m=s.p+"img/pic.0d65ba36.png";const g={class:"flex min-h-screen bg-gray-900 text-gray-200"},y={class:"w-full lg:w-1/2 flex items-center justify-center p-8"},h={class:"max-w-md w-full"},x={class:"space-y-4"};function b(e,t,s,a,o,r){const n=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",g,[t[4]||(t[4]=(0,l.Lk)("div",{class:"hidden lg:flex lg:w-1/2 items-center justify-center bg-gray-100 border-r border-gray-700"},[(0,l.Lk)("img",{src:m,alt:"Payroll System",class:"object-cover w-3/4 h-3/4"})],-1)),(0,l.Lk)("div",y,[(0,l.Lk)("div",h,[t[2]||(t[2]=(0,l.Lk)("div",{class:"text-center mb-12"},[(0,l.Lk)("h1",{class:"text-3xl font-semibold mb-2 text-gray-100"},"Payroll System"),(0,l.Lk)("p",{class:"text-gray-400"},"Select your login type")],-1)),(0,l.Lk)("div",x,[(0,l.bF)(n,{to:"/admin-login",class:"block w-full bg-gray-800 border border-gray-700 text-gray-300 text-center py-3 rounded-lg font-medium hover:bg-gray-700 transition duration-300"},{default:(0,l.k6)((()=>t[0]||(t[0]=[(0,l.eW)(" Admin Login ")]))),_:1}),(0,l.bF)(n,{to:"/employee-login",class:"block w-full bg-gray-800 border border-gray-700 text-gray-300 text-center py-3 rounded-lg font-medium hover:bg-gray-700 transition duration-300"},{default:(0,l.k6)((()=>t[1]||(t[1]=[(0,l.eW)(" Employee Login ")]))),_:1})]),t[3]||(t[3]=(0,l.Lk)("div",{class:"mt-8 text-center text-xs text-gray-500"},[(0,l.Lk)("p",null,"© 2025 Payroll System. All rights reserved.")],-1))])])])}var f={name:"LoginSelection"};const v=(0,n.A)(f,[["render",b]]);var k=v,L=s(33);const w={class:"min-h-screen bg-gradient-to-br from-purple-50 to-indigo-100 flex items-center justify-center p-4"},E={class:"w-full max-w-md"},S={class:"bg-white/80 backdrop-blur-lg rounded-2xl shadow-xl p-8 space-y-6"},P={key:0,class:"bg-red-50 text-red-700 p-4 rounded-lg flex items-center gap-2"},M={class:"text-sm"},C={class:"space-y-1"},q={class:"relative"},R={class:"space-y-1"},D={class:"relative"},I=["disabled"],A={key:0},_={key:1};function N(e,t,s,o,r,n){return(0,l.uX)(),(0,l.CE)("div",w,[(0,l.Lk)("div",E,[(0,l.Lk)("div",S,[t[9]||(t[9]=(0,l.Fv)('<div class="text-center space-y-2" data-v-1e7c83b0><div class="bg-indigo-600 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4" data-v-1e7c83b0><svg xmlns="http://www.w3.org/2000/svg" class="w-8 h-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-1e7c83b0><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.618 5.984A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016zM12 9v2m0 4h.01" data-v-1e7c83b0></path></svg></div><h1 class="text-2xl font-bold text-gray-900" data-v-1e7c83b0>Admin Portal</h1><p class="text-gray-500 text-sm" data-v-1e7c83b0>Secure administrative access</p></div>',1)),r.loginError?((0,l.uX)(),(0,l.CE)("div",P,[t[3]||(t[3]=(0,l.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[(0,l.Lk)("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})],-1)),(0,l.Lk)("span",M,(0,L.v_)(r.errorMessage),1)])):(0,l.Q3)("",!0),(0,l.Lk)("form",{onSubmit:t[2]||(t[2]=(0,a.D$)(((...e)=>n.login&&n.login(...e)),["prevent"])),class:"space-y-4"},[(0,l.Lk)("div",C,[t[5]||(t[5]=(0,l.Lk)("label",{for:"username",class:"text-sm font-medium text-gray-700"},"Admin Username",-1)),(0,l.Lk)("div",q,[t[4]||(t[4]=(0,l.Lk)("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[(0,l.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,l.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})])],-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>r.username=e),type:"text",id:"username",name:"username",class:(0,L.C4)(["block w-full pl-10 pr-3 py-2.5 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white/50 backdrop-blur-sm transition",r.loginError?"border-red-300":"border-gray-300"]),placeholder:"Enter admin username",required:""},null,2),[[a.Jo,r.username]])])]),(0,l.Lk)("div",R,[t[7]||(t[7]=(0,l.Lk)("label",{for:"password",class:"text-sm font-medium text-gray-700"},"Password",-1)),(0,l.Lk)("div",D,[t[6]||(t[6]=(0,l.Lk)("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[(0,l.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,l.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})])],-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>r.password=e),type:"password",id:"password",name:"password",class:(0,L.C4)(["block w-full pl-10 pr-3 py-2.5 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white/50 backdrop-blur-sm transition",r.loginError?"border-red-300":"border-gray-300"]),placeholder:"Enter your password",required:""},null,2),[[a.Jo,r.password]])])]),t[8]||(t[8]=(0,l.Lk)("div",{class:"flex items-center justify-end"},[(0,l.Lk)("button",{type:"button",class:"text-sm text-indigo-600 hover:text-indigo-700"}," Forgot password? ")],-1)),(0,l.Lk)("button",{type:"submit",disabled:r.isLoading,class:"w-full bg-indigo-600 text-white py-2.5 rounded-lg font-medium hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},[r.isLoading?((0,l.uX)(),(0,l.CE)("span",_,"Signing in...")):((0,l.uX)(),(0,l.CE)("span",A,"Sign in as Admin"))],8,I)],32),t[10]||(t[10]=(0,l.Lk)("div",{class:"text-center text-sm text-gray-500"}," Protected administrative area ",-1))])])])}var F={name:"AdminLogin",data(){return{username:"",password:"",loginError:!1,errorMessage:"",isLoading:!1,testCredentials:{username:"admin",password:"admin123"}}},methods:{async login(){this.isLoading=!0,this.loginError=!1;try{if(await new Promise((e=>setTimeout(e,1e3))),this.username!==this.testCredentials.username||this.password!==this.testCredentials.password)throw new Error("Invalid credentials. Please check the test credentials above.");await this.$store.dispatch("login",{username:this.username,role:"admin"}),this.$router.push("/admin")}catch(e){this.loginError=!0,this.errorMessage=e.message||"An error occurred during login. Please try again.",this.password=""}finally{this.isLoading=!1}}},watch:{username(){this.loginError=!1},password(){this.loginError=!1}}};const X=(0,n.A)(F,[["render",N],["__scopeId","data-v-1e7c83b0"]]);var T=X;const $={class:"min-h-screen bg-gradient-to-br from-blue-50 to-cyan-100 flex items-center justify-center p-4"},H={class:"w-full max-w-md"},U={class:"bg-white/80 backdrop-blur-lg rounded-2xl shadow-xl p-8 space-y-6"},j={class:"space-y-1"},V={class:"space-y-1"},J={key:0,class:"text-red-500 text-sm text-center"},O=["disabled"],W={class:"text-center"},B={class:"text-sm text-gray-700"},Q={key:0,class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50"},z={class:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto"},G={class:"col-span-2"},K={class:"grid grid-cols-2 gap-4"},Y={class:"space-y-1"},Z={class:"space-y-1"},ee={class:"space-y-1"},te={class:"space-y-1"},se={class:"space-y-1"},ae=["value"],le={class:"space-y-1"},oe={class:"col-span-2"},re={class:"grid grid-cols-2 gap-4"},ne={class:"space-y-1"},ie={class:"space-y-1"},de={class:"space-y-1"},ce={class:"space-y-1"},ue={class:"col-span-2"},pe={class:"grid grid-cols-2 gap-4"},me={class:"space-y-1"},ge={class:"space-y-1"},ye={class:"col-span-2 flex justify-end space-x-2 mt-6"},he=["disabled"],xe=["disabled"];function be(e,t,s,o,r,n){return(0,l.uX)(),(0,l.CE)("div",$,[(0,l.Lk)("div",H,[(0,l.Lk)("div",U,[t[21]||(t[21]=(0,l.Fv)('<div class="text-center space-y-2" data-v-86c36790><div class="bg-blue-500 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4" data-v-86c36790><svg xmlns="http://www.w3.org/2000/svg" class="w-8 h-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-86c36790><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" data-v-86c36790></path></svg></div><h1 class="text-2xl font-bold text-gray-900" data-v-86c36790>Employee Portal</h1><p class="text-gray-500 text-sm" data-v-86c36790>Welcome to your workspace</p></div>',1)),(0,l.Lk)("form",{onSubmit:t[2]||(t[2]=(0,a.D$)(((...e)=>n.login&&n.login(...e)),["prevent"])),class:"space-y-4"},[(0,l.Lk)("div",j,[t[18]||(t[18]=(0,l.Lk)("label",{for:"username",class:"text-sm font-medium text-gray-700"},"Username",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>r.username=e),type:"text",id:"username",class:"block w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your username",required:""},null,512),[[a.Jo,r.username]])]),(0,l.Lk)("div",V,[t[19]||(t[19]=(0,l.Lk)("label",{for:"password",class:"text-sm font-medium text-gray-700"},"Password",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>r.password=e),type:"password",id:"password",class:"block w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your password",required:""},null,512),[[a.Jo,r.password]])]),r.loginError?((0,l.uX)(),(0,l.CE)("div",J,(0,L.v_)(r.loginError),1)):(0,l.Q3)("",!0),(0,l.Lk)("button",{type:"submit",class:"w-full bg-blue-500 text-white py-2.5 rounded-lg hover:bg-blue-600 transition duration-200",disabled:r.isLoggingIn},(0,L.v_)(r.isLoggingIn?"Signing in...":"Sign in"),9,O)],32),(0,l.Lk)("div",W,[(0,l.Lk)("p",B,[t[20]||(t[20]=(0,l.eW)("Don't have an account? ")),(0,l.Lk)("a",{href:"#",onClick:t[3]||(t[3]=e=>r.showRegisterModal=!0),class:"text-blue-500 hover:underline"},"Request an account")])])])]),r.showRegisterModal?((0,l.uX)(),(0,l.CE)("div",Q,[(0,l.Lk)("div",z,[t[38]||(t[38]=(0,l.Lk)("h2",{class:"text-2xl font-bold mb-6 text-gray-900"},"Request Account Creation",-1)),(0,l.Lk)("form",{onSubmit:t[17]||(t[17]=(0,a.D$)(((...e)=>n.submitRequest&&n.submitRequest(...e)),["prevent"])),class:"grid grid-cols-2 gap-6"},[(0,l.Lk)("div",G,[t[29]||(t[29]=(0,l.Lk)("h3",{class:"text-lg font-semibold text-gray-800 mb-4"},"Basic Information",-1)),(0,l.Lk)("div",K,[(0,l.Lk)("div",Y,[t[22]||(t[22]=(0,l.Lk)("label",{for:"firstName",class:"text-sm font-medium text-gray-700"},"First Name",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>r.newRequest.firstName=e),type:"text",id:"firstName",class:"block w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your first name",required:""},null,512),[[a.Jo,r.newRequest.firstName]])]),(0,l.Lk)("div",Z,[t[23]||(t[23]=(0,l.Lk)("label",{for:"lastName",class:"text-sm font-medium text-gray-700"},"Last Name",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>r.newRequest.lastName=e),type:"text",id:"lastName",class:"block w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your last name",required:""},null,512),[[a.Jo,r.newRequest.lastName]])]),(0,l.Lk)("div",ee,[t[24]||(t[24]=(0,l.Lk)("label",{for:"email",class:"text-sm font-medium text-gray-700"},"Email",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>r.newRequest.email=e),type:"email",id:"email",class:"block w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your email",required:""},null,512),[[a.Jo,r.newRequest.email]])]),(0,l.Lk)("div",te,[t[25]||(t[25]=(0,l.Lk)("label",{for:"contactNumber",class:"text-sm font-medium text-gray-700"},"Contact Number",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[7]||(t[7]=e=>r.newRequest.contactNumber=e),type:"text",id:"contactNumber",class:"block w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"123-456-7890",required:"",pattern:"\\d{3}-\\d{3}-\\d{4}",title:"Format: 123-456-7890"},null,512),[[a.Jo,r.newRequest.contactNumber]])]),(0,l.Lk)("div",se,[t[26]||(t[26]=(0,l.Lk)("label",{for:"positionApplied",class:"text-sm font-medium text-gray-700"},"Position Applying For",-1)),(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":t[8]||(t[8]=e=>r.newRequest.positionApplied=e),id:"positionApplied",class:"block w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:""},[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.positions,(e=>((0,l.uX)(),(0,l.CE)("option",{key:e,value:e},(0,L.v_)(e),9,ae)))),128))],512),[[a.u1,r.newRequest.positionApplied]])]),(0,l.Lk)("div",le,[t[28]||(t[28]=(0,l.Lk)("label",{for:"civilStatus",class:"text-sm font-medium text-gray-700"},"Civil Status",-1)),(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":t[9]||(t[9]=e=>r.newRequest.civilStatus=e),id:"civilStatus",class:"block w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:""},t[27]||(t[27]=[(0,l.Lk)("option",{value:"Single"},"Single",-1),(0,l.Lk)("option",{value:"Married"},"Married",-1),(0,l.Lk)("option",{value:"Divorced"},"Divorced",-1),(0,l.Lk)("option",{value:"Widowed"},"Widowed",-1)]),512),[[a.u1,r.newRequest.civilStatus]])])])]),(0,l.Lk)("div",oe,[t[34]||(t[34]=(0,l.Lk)("h3",{class:"text-lg font-semibold text-gray-800 mb-4"},"Financial Information",-1)),(0,l.Lk)("div",re,[(0,l.Lk)("div",ne,[t[30]||(t[30]=(0,l.Lk)("label",{for:"salary",class:"text-sm font-medium text-gray-700"},"Proposed Salary",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[10]||(t[10]=e=>r.newRequest.salary=e),type:"number",id:"salary",class:"block w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter proposed salary",required:"",min:"0"},null,512),[[a.Jo,r.newRequest.salary,void 0,{number:!0}]])]),(0,l.Lk)("div",ie,[t[31]||(t[31]=(0,l.Lk)("label",{for:"sss",class:"text-sm font-medium text-gray-700"},"SSS Number",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[11]||(t[11]=e=>r.newRequest.sss=e),type:"text",id:"sss",class:"block w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your SSS number"},null,512),[[a.Jo,r.newRequest.sss]])]),(0,l.Lk)("div",de,[t[32]||(t[32]=(0,l.Lk)("label",{for:"philhealth",class:"text-sm font-medium text-gray-700"},"PhilHealth Number",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[12]||(t[12]=e=>r.newRequest.philhealth=e),type:"text",id:"philhealth",class:"block w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your PhilHealth number"},null,512),[[a.Jo,r.newRequest.philhealth]])]),(0,l.Lk)("div",ce,[t[33]||(t[33]=(0,l.Lk)("label",{for:"hdmf",class:"text-sm font-medium text-gray-700"},"Pag-IBIG Number",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[13]||(t[13]=e=>r.newRequest.hdmf=e),type:"text",id:"hdmf",class:"block w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your Pag-IBIG number"},null,512),[[a.Jo,r.newRequest.hdmf]])])])]),(0,l.Lk)("div",ue,[t[37]||(t[37]=(0,l.Lk)("h3",{class:"text-lg font-semibold text-gray-800 mb-4"},"Login Credentials",-1)),(0,l.Lk)("div",pe,[(0,l.Lk)("div",me,[t[35]||(t[35]=(0,l.Lk)("label",{for:"username",class:"text-sm font-medium text-gray-700"},"Username",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[14]||(t[14]=e=>r.newRequest.username=e),type:"text",id:"username",class:"block w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Choose a username",required:""},null,512),[[a.Jo,r.newRequest.username]])]),(0,l.Lk)("div",ge,[t[36]||(t[36]=(0,l.Lk)("label",{for:"password",class:"text-sm font-medium text-gray-700"},"Password",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[15]||(t[15]=e=>r.newRequest.password=e),type:"password",id:"password",class:"block w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Choose a password",required:""},null,512),[[a.Jo,r.newRequest.password]])])])]),(0,l.Lk)("div",ye,[(0,l.Lk)("button",{type:"button",onClick:t[16]||(t[16]=e=>r.showRegisterModal=!1),class:"bg-gray-500 text-white py-2 px-4 rounded-lg hover:bg-gray-600 transition duration-200",disabled:r.isSubmitting},"Cancel",8,he),(0,l.Lk)("button",{type:"submit",class:"bg-blue-500 text-white py-2 px-4 rounded-lg hover:bg-blue-600 transition duration-200",disabled:r.isSubmitting},(0,L.v_)(r.isSubmitting?"Submitting...":"Submit Request"),9,xe)])],32),r.statusMessage?((0,l.uX)(),(0,l.CE)("div",{key:0,class:(0,L.C4)([r.statusMessage.includes("successfully")?"bg-green-50 text-green-700":"bg-red-50 text-red-700","mt-4 p-3 rounded-lg text-center"])},(0,L.v_)(r.statusMessage),3)):(0,l.Q3)("",!0)])])):(0,l.Q3)("",!0)])}var fe=s(4335),ve={name:"EmployeeLogin",data(){return{username:"",password:"",loginError:"",showRegisterModal:!1,isSubmitting:!1,isLoggingIn:!1,statusMessage:"",newRequest:{username:"",password:"",firstName:"",lastName:"",positionApplied:"",civilStatus:"",contactNumber:"",email:"",salary:0,sss:"",philhealth:"",hdmf:"",deductions:{sss:0,philhealth:0,pagibig:0},earnings:{travelExpenses:0,otherEarnings:0},status:"pending"},positions:["Manager","Assistant","Developer"],testCredentials:{username:"employee",password:"employee123"}}},methods:{async login(){this.isLoggingIn=!0,this.loginError="";try{if(this.username!==this.testCredentials.username||this.password!==this.testCredentials.password)throw new Error("Invalid credentials");this.$store.dispatch("login",{username:this.username,role:"employee"}),localStorage.setItem("userId","1"),localStorage.setItem("userRole","employee"),localStorage.setItem("userName","Test Employee"),this.$router.push("/employee")}catch(e){console.error("Login error:",e),this.loginError="Wrong username or password. Please try again.",this.password=""}finally{this.isLoggingIn=!1}},async submitRequest(){this.isSubmitting=!0,this.statusMessage="";try{console.log("Fetching max ID...");const e=await fe.A.get("http://localhost:7777/api/pending-requests/max-id");if(console.log("Max ID response:",e.data),200!==e.status)throw new Error("Failed to fetch max ID");const t=(e.data.maxId||0)+1,s={id:t,name:`${this.newRequest.firstName} ${this.newRequest.lastName}`,positionApplied:this.newRequest.positionApplied,email:this.newRequest.email,contactNumber:this.newRequest.contactNumber,salary:this.newRequest.salary,deductions:{sss:this.newRequest.sss?200:0,philhealth:this.newRequest.philhealth?150:0,pagibig:this.newRequest.hdmf?100:0},earnings:{travelExpenses:0,otherEarnings:0},status:"pending"};console.log("Submitting request:",s);const a=await fe.A.post("http://localhost:7777/api/pending-requests",s);console.log("POST response:",a.data),201===a.status&&(this.showRegisterModal=!1,this.resetNewRequest(),this.showSuccessMessage("Account request submitted successfully! Please wait for admin approval."))}catch(e){console.error("Failed to submit request:",e),e.response?(console.error("Error details:",e.response.data),this.showErrorMessage(`Endpoint failed: ${e.response.config.url} with status ${e.response.status}`)):this.showErrorMessage("Failed to connect to server. Ensure backend is running on port 7777.")}finally{this.isSubmitting=!1}},resetNewRequest(){this.newRequest={username:"",password:"",firstName:"",lastName:"",positionApplied:"",civilStatus:"",contactNumber:"",email:"",salary:0,sss:"",philhealth:"",hdmf:"",deductions:{sss:0,philhealth:0,pagibig:0},earnings:{travelExpenses:0,otherEarnings:0},status:"pending"}},showSuccessMessage(e){this.statusMessage=e,setTimeout((()=>this.statusMessage=""),3e3)},showErrorMessage(e){this.statusMessage=e,setTimeout((()=>this.statusMessage=""),3e3)}}};const ke=(0,n.A)(ve,[["render",be],["__scopeId","data-v-86c36790"]]);var Le=ke;const we={class:"flex items-center justify-center min-h-screen bg-gray-100"},Ee={class:"bg-white p-8 rounded shadow-md w-full max-w-md"},Se={key:0,class:"mb-4 p-4 bg-red-100 text-red-700 rounded"},Pe={key:1,class:"mb-4 p-4 bg-green-100 text-green-700 rounded"},Me={class:"mb-6 bg-gray-50 p-4 rounded"},Ce={class:"mb-4"},qe={key:0,class:"text-red-500 text-sm mt-1"},Re={class:"mb-4"},De={key:0,class:"text-red-500 text-sm mt-1"},Ie={class:"mb-6 bg-gray-50 p-4 rounded"},Ae={class:"mb-4"},_e={class:"mb-4"},Ne={class:"mb-4"},Fe={class:"mb-4"},Xe={class:"mb-6 bg-gray-50 p-4 rounded"},Te={class:"mb-4"},$e={class:"mb-4"},He={class:"mb-6 bg-gray-50 p-4 rounded"},Ue={class:"mb-4"},je={key:0,class:"text-red-500 text-sm mt-1"},Ve={class:"mb-4"};function Je(e,t,s,o,r,n){return(0,l.uX)(),(0,l.CE)("div",null,[(0,l.Lk)("div",we,[(0,l.Lk)("div",Ee,[r.error?((0,l.uX)(),(0,l.CE)("div",Se,(0,L.v_)(r.error),1)):(0,l.Q3)("",!0),r.success?((0,l.uX)(),(0,l.CE)("div",Pe," Registration successful! Redirecting to login... ")):(0,l.Q3)("",!0),t[28]||(t[28]=(0,l.Lk)("h1",{class:"text-2xl font-bold mb-4 text-center"},"Employee Registration",-1)),(0,l.Lk)("form",{onSubmit:t[10]||(t[10]=(0,a.D$)(((...e)=>n.validateAndRegister&&n.validateAndRegister(...e)),["prevent"]))},[(0,l.Lk)("div",Me,[t[14]||(t[14]=(0,l.Lk)("h2",{class:"text-lg font-semibold mb-3"},"Login Information",-1)),(0,l.Lk)("div",Ce,[t[11]||(t[11]=(0,l.Lk)("label",{for:"username",class:"block text-gray-700"},"Username/Email",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>r.username=e),type:"text",id:"username",class:(0,L.C4)(["w-full p-2 border rounded mt-1",{"border-red-500":r.usernameError}]),placeholder:"username or user@example.com",required:""},null,2),[[a.Jo,r.username]]),r.usernameError?((0,l.uX)(),(0,l.CE)("p",qe,(0,L.v_)(r.usernameError),1)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",Re,[t[12]||(t[12]=(0,l.Lk)("label",{for:"password",class:"block text-gray-700"},"Password",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>r.password=e),type:"password",id:"password",class:(0,L.C4)(["w-full p-2 border rounded mt-1",{"border-red-500":r.passwordError}]),required:""},null,2),[[a.Jo,r.password]]),t[13]||(t[13]=(0,l.Lk)("p",{class:"text-sm text-gray-500 mt-1"},"Must be at least 8 characters long",-1)),r.passwordError?((0,l.uX)(),(0,l.CE)("p",De,(0,L.v_)(r.passwordError),1)):(0,l.Q3)("",!0)])]),(0,l.Lk)("div",Ie,[t[20]||(t[20]=(0,l.Lk)("h2",{class:"text-lg font-semibold mb-3"},"Personal Information",-1)),(0,l.Lk)("div",Ae,[t[15]||(t[15]=(0,l.Lk)("label",{for:"firstName",class:"block text-gray-700"},"First Name",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>r.firstName=e),type:"text",id:"firstName",class:"w-full p-2 border rounded mt-1",required:""},null,512),[[a.Jo,r.firstName]])]),(0,l.Lk)("div",_e,[t[16]||(t[16]=(0,l.Lk)("label",{for:"lastName",class:"block text-gray-700"},"Last Name",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>r.lastName=e),type:"text",id:"lastName",class:"w-full p-2 border rounded mt-1",required:""},null,512),[[a.Jo,r.lastName]])]),(0,l.Lk)("div",Ne,[t[17]||(t[17]=(0,l.Lk)("label",{for:"birthday",class:"block text-gray-700"},"Birthday",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>r.birthday=e),type:"date",id:"birthday",class:"w-full p-2 border rounded mt-1",required:""},null,512),[[a.Jo,r.birthday]])]),(0,l.Lk)("div",Fe,[t[19]||(t[19]=(0,l.Lk)("label",{for:"civilStatus",class:"block text-gray-700"},"Civil Status",-1)),(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":t[5]||(t[5]=e=>r.civilStatus=e),id:"civilStatus",class:"w-full p-2 border rounded mt-1",required:""},t[18]||(t[18]=[(0,l.Fv)('<option value="" data-v-571d5936>Select Status</option><option value="Single" data-v-571d5936>Single</option><option value="Married" data-v-571d5936>Married</option><option value="Widowed" data-v-571d5936>Widowed</option><option value="Divorced" data-v-571d5936>Divorced</option>',5)]),512),[[a.u1,r.civilStatus]])])]),(0,l.Lk)("div",Xe,[t[23]||(t[23]=(0,l.Lk)("h2",{class:"text-lg font-semibold mb-3"},"Employment Information",-1)),(0,l.Lk)("div",Te,[t[21]||(t[21]=(0,l.Lk)("label",{for:"hireDate",class:"block text-gray-700"},"Hire Date",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>r.hireDate=e),type:"date",id:"hireDate",class:"w-full p-2 border rounded mt-1",required:""},null,512),[[a.Jo,r.hireDate]])]),(0,l.Lk)("div",$e,[t[22]||(t[22]=(0,l.Lk)("label",{for:"position",class:"block text-gray-700"},"Position",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[7]||(t[7]=e=>r.position=e),type:"text",id:"position",class:"w-full p-2 border rounded mt-1",required:""},null,512),[[a.Jo,r.position]])])]),(0,l.Lk)("div",He,[t[26]||(t[26]=(0,l.Lk)("h2",{class:"text-lg font-semibold mb-3"},"Contact Information",-1)),(0,l.Lk)("div",Ue,[t[24]||(t[24]=(0,l.Lk)("label",{for:"email",class:"block text-gray-700"},"Email Address",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[8]||(t[8]=e=>r.email=e),type:"email",id:"email",class:(0,L.C4)(["w-full p-2 border rounded mt-1",{"border-red-500":r.emailError}]),required:""},null,2),[[a.Jo,r.email]]),r.emailError?((0,l.uX)(),(0,l.CE)("p",je,(0,L.v_)(r.emailError),1)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",Ve,[t[25]||(t[25]=(0,l.Lk)("label",{for:"contactInfo",class:"block text-gray-700"},"Contact Number",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[9]||(t[9]=e=>r.contactInfo=e),type:"text",id:"contactInfo",class:"w-full p-2 border rounded mt-1",placeholder:"Enter mobile number",required:""},null,512),[[a.Jo,r.contactInfo]])])]),t[27]||(t[27]=(0,l.Lk)("button",{type:"submit",class:"w-full bg-blue-500 text-white font-bold py-2 px-4 rounded hover:bg-blue-700"}," Create Account ",-1))],32)])])])}s(7588);var Oe={name:"EmployeeRegister",data(){return{username:"",password:"",firstName:"",lastName:"",birthday:"",hireDate:"",position:"",civilStatus:"",contactInfo:"",email:"",error:null,success:!1,usernameError:"",passwordError:"",emailError:""}},methods:{validateForm(){let e=!0;return this.usernameError="",this.passwordError="",this.emailError="",this.username?this.isValidUsername(this.username)||(this.usernameError="Enter a valid username or email address",e=!1):(this.usernameError="Username is required",e=!1),this.password.length<8&&(this.passwordError="Password must be at least 8 characters long",e=!1),this.isValidEmail(this.email)||(this.emailError="Please enter a valid email address",e=!1),e},isValidEmail(e){const t=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return t.test(e)},isValidUsername(e){const t=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,s=/^[a-zA-Z0-9_]{3,20}$/;return t.test(e)||s.test(e)},async validateAndRegister(){this.validateForm()&&await this.register()},async register(){try{this.error=null,this.success=!1;const e=await fe.A.post("http://localhost:3000/api/register",{username:this.username,password:this.password,firstName:this.firstName,lastName:this.lastName,birthday:this.birthday,hireDate:this.hireDate,position:this.position,civilStatus:this.civilStatus,contactInfo:this.contactInfo,email:this.email});200===e.status&&(this.success=!0,Object.keys(this.$data).forEach((e=>{"string"===typeof this.$data[e]&&(this.$data[e]="")})),setTimeout((()=>{this.$router.push("/employee-login")}),1500))}catch(e){this.error=e.response?.data?.error||"Registration failed",console.error("Failed to register:",e)}}}};const We=(0,n.A)(Oe,[["render",Je],["__scopeId","data-v-571d5936"]]);var Be=We;const Qe={class:"min-h-screen bg-gray-50"},ze={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},Ge={class:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4"},Ke={class:"bg-white overflow-hidden shadow rounded-lg"},Ye={class:"p-5"},Ze={class:"flex items-center"},et={class:"ml-5 w-0 flex-1"},tt={class:"text-2xl font-semibold text-gray-900"},st={class:"bg-gray-50 px-5 py-3"},at={class:"text-sm"},lt={class:"bg-white overflow-hidden shadow rounded-lg"},ot={class:"p-5"},rt={class:"flex items-center"},nt={class:"ml-5 w-0 flex-1"},it={class:"text-2xl font-semibold text-gray-900"},dt={class:"bg-gray-50 px-5 py-3"},ct={class:"text-sm"},ut={class:"bg-white overflow-hidden shadow rounded-lg"},pt={class:"p-5"},mt={class:"flex items-center"},gt={class:"ml-5 w-0 flex-1"},yt={class:"text-2xl font-semibold text-gray-900"},ht={class:"bg-gray-50 px-5 py-3"},xt={class:"text-sm"},bt={class:"bg-white overflow-hidden shadow rounded-lg"},ft={class:"p-5"},vt={class:"flex items-center"},kt={class:"ml-5 w-0 flex-1"},Lt={class:"text-2xl font-semibold text-gray-900"},wt={class:"bg-gray-50 px-5 py-3"},Et={class:"text-sm"},St=["disabled"],Pt={class:"mt-8 bg-white shadow overflow-hidden sm:rounded-lg"},Mt={class:"px-4 py-5 sm:px-6 flex justify-between items-center"},Ct={class:"flex space-x-3"},qt={class:"overflow-x-auto"},Rt={class:"min-w-full divide-y divide-gray-200"},Dt={class:"bg-white divide-y divide-gray-200"},It={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},At={class:"px-6 py-4 whitespace-nowrap"},_t={class:"flex items-center"},Nt={class:"h-10 w-10 flex-shrink-0"},Ft=["src"],Xt={class:"ml-4"},Tt={class:"text-sm font-medium text-gray-900"},$t={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},Ht={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},Ut={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},jt={class:"px-6 py-4 whitespace-nowrap text-sm"},Vt=["onClick"],Jt=["onClick"],Ot={key:0},Wt={key:0,class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50"},Bt={class:"bg-white rounded-xl shadow-xl w-full max-w-2xl m-4 p-6"},Qt={class:"space-y-4"},zt={class:"mt-6 flex justify-end"};function Gt(e,t,s,a,o,r){const n=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",Qe,[t[26]||(t[26]=(0,l.Fv)('<nav class="bg-white shadow-sm" data-v-9455e7f2><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8" data-v-9455e7f2><div class="flex justify-between h-16" data-v-9455e7f2><div class="flex items-center" data-v-9455e7f2><h1 class="text-xl font-bold text-gray-900" data-v-9455e7f2>Admin Dashboard</h1></div><div class="flex items-center space-x-4" data-v-9455e7f2><span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-indigo-100 text-indigo-800" data-v-9455e7f2> Admin </span></div></div></div></nav>',1)),(0,l.Lk)("div",ze,[(0,l.Lk)("div",Ge,[(0,l.Lk)("div",Ke,[(0,l.Lk)("div",Ye,[(0,l.Lk)("div",Ze,[t[6]||(t[6]=(0,l.Lk)("div",{class:"flex-shrink-0"},[(0,l.Lk)("div",{class:"rounded-md bg-indigo-500 p-3"},[(0,l.Lk)("svg",{class:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,l.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})])])],-1)),(0,l.Lk)("div",et,[(0,l.Lk)("dl",null,[t[5]||(t[5]=(0,l.Lk)("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Total Employees",-1)),(0,l.Lk)("dd",tt,(0,L.v_)(o.totalEmployees),1)])])])]),(0,l.Lk)("div",st,[(0,l.Lk)("div",at,[(0,l.bF)(n,{to:"/manage-employees",class:"font-medium text-indigo-600 hover:text-indigo-900"},{default:(0,l.k6)((()=>t[7]||(t[7]=[(0,l.eW)("View all")]))),_:1})])])]),(0,l.Lk)("div",lt,[(0,l.Lk)("div",ot,[(0,l.Lk)("div",rt,[t[9]||(t[9]=(0,l.Lk)("div",{class:"flex-shrink-0"},[(0,l.Lk)("div",{class:"rounded-md bg-green-500 p-3"},[(0,l.Lk)("svg",{class:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,l.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])])],-1)),(0,l.Lk)("div",nt,[(0,l.Lk)("dl",null,[t[8]||(t[8]=(0,l.Lk)("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Present Today",-1)),(0,l.Lk)("dd",it,(0,L.v_)(o.totalPresentToday),1)])])])]),(0,l.Lk)("div",dt,[(0,l.Lk)("div",ct,[(0,l.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>r.refreshAttendance&&r.refreshAttendance(...e)),class:"font-medium text-green-600 hover:text-green-900"},"Refresh")])])]),(0,l.Lk)("div",ut,[(0,l.Lk)("div",pt,[(0,l.Lk)("div",mt,[t[11]||(t[11]=(0,l.Lk)("div",{class:"flex-shrink-0"},[(0,l.Lk)("div",{class:"rounded-md bg-yellow-500 p-3"},[(0,l.Lk)("svg",{class:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,l.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])])],-1)),(0,l.Lk)("div",gt,[(0,l.Lk)("dl",null,[t[10]||(t[10]=(0,l.Lk)("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Late Today",-1)),(0,l.Lk)("dd",yt,(0,L.v_)(o.totalLateToday),1)])])])]),(0,l.Lk)("div",ht,[(0,l.Lk)("div",xt,[(0,l.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>r.refreshAttendance&&r.refreshAttendance(...e)),class:"font-medium text-yellow-600 hover:text-yellow-900"},"Refresh")])])]),(0,l.Lk)("div",bt,[(0,l.Lk)("div",ft,[(0,l.Lk)("div",vt,[t[13]||(t[13]=(0,l.Lk)("div",{class:"flex-shrink-0"},[(0,l.Lk)("div",{class:"rounded-md bg-blue-500 p-3"},[(0,l.Lk)("svg",{class:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,l.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])])],-1)),(0,l.Lk)("div",kt,[(0,l.Lk)("dl",null,[t[12]||(t[12]=(0,l.Lk)("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Eligible for Salary",-1)),(0,l.Lk)("dd",Lt,(0,L.v_)(o.totalEligibleForSalaryToday),1)])])])]),(0,l.Lk)("div",wt,[(0,l.Lk)("div",Et,[(0,l.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>r.processPayroll&&r.processPayroll(...e)),class:"font-medium text-blue-600 hover:text-blue-900",disabled:o.isProcessingPayroll},(0,L.v_)(o.isProcessingPayroll?"Processing...":"Process Payroll"),9,St)])])])]),(0,l.Lk)("div",Pt,[(0,l.Lk)("div",Mt,[t[14]||(t[14]=(0,l.Lk)("h2",{class:"text-lg leading-6 font-medium text-gray-900"},"Attendance Today",-1)),(0,l.Lk)("div",Ct,[(0,l.Lk)("button",{onClick:t[3]||(t[3]=(...e)=>r.exportAttendance&&r.exportAttendance(...e)),class:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors duration-200"}," Export to CSV ")])]),(0,l.Lk)("div",qt,[(0,l.Lk)("table",Rt,[t[16]||(t[16]=(0,l.Lk)("thead",{class:"bg-gray-50"},[(0,l.Lk)("tr",null,[(0,l.Lk)("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Employee ID"),(0,l.Lk)("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Name"),(0,l.Lk)("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Position"),(0,l.Lk)("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Sign In Time"),(0,l.Lk)("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Sign Out Time"),(0,l.Lk)("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),(0,l.Lk)("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),(0,l.Lk)("tbody",Dt,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.attendanceRecords,(e=>((0,l.uX)(),(0,l.CE)("tr",{key:e.id,class:"hover:bg-gray-50"},[(0,l.Lk)("td",It,(0,L.v_)(e.employeeId),1),(0,l.Lk)("td",At,[(0,l.Lk)("div",_t,[(0,l.Lk)("div",Nt,[(0,l.Lk)("img",{class:"h-10 w-10 rounded-full",src:`https://ui-avatars.com/api/?name=${e.firstName}+${e.lastName}`,alt:""},null,8,Ft)]),(0,l.Lk)("div",Xt,[(0,l.Lk)("div",Tt,(0,L.v_)(e.firstName)+" "+(0,L.v_)(e.lastName),1)])])]),(0,l.Lk)("td",$t,(0,L.v_)(e.position),1),(0,l.Lk)("td",Ht,(0,L.v_)(e.signInTime||"--"),1),(0,l.Lk)("td",Ut,(0,L.v_)(e.signOutTime||"--"),1),(0,l.Lk)("td",{class:(0,L.C4)(["px-6 py-4 whitespace-nowrap text-sm",r.getStatusClass(e.status)])},(0,L.v_)(e.status||"Absent"),3),(0,l.Lk)("td",jt,[(0,l.Lk)("button",{onClick:t=>r.viewEmployeeDetails(e),class:"text-blue-600 hover:text-blue-900 mr-2"},"View",8,Vt),(0,l.Lk)("button",{onClick:t=>r.deleteAttendance(e.id),class:"text-red-600 hover:text-red-900"},"Delete",8,Jt)])])))),128)),0===o.attendanceRecords.length?((0,l.uX)(),(0,l.CE)("tr",Ot,t[15]||(t[15]=[(0,l.Lk)("td",{colspan:"7",class:"px-6 py-4 text-center text-sm text-gray-500"},"No attendance records for today.",-1)]))):(0,l.Q3)("",!0)])])])]),o.showDetailsModal?((0,l.uX)(),(0,l.CE)("div",Wt,[(0,l.Lk)("div",Bt,[t[25]||(t[25]=(0,l.Lk)("h2",{class:"text-2xl font-bold text-gray-800 mb-4"},"Employee Details",-1)),(0,l.Lk)("div",Qt,[(0,l.Lk)("p",null,[t[17]||(t[17]=(0,l.Lk)("strong",null,"ID:",-1)),(0,l.eW)(" "+(0,L.v_)(o.selectedEmployee.employeeId),1)]),(0,l.Lk)("p",null,[t[18]||(t[18]=(0,l.Lk)("strong",null,"Name:",-1)),(0,l.eW)(" "+(0,L.v_)(o.selectedEmployee.firstName)+" "+(0,L.v_)(o.selectedEmployee.lastName),1)]),(0,l.Lk)("p",null,[t[19]||(t[19]=(0,l.Lk)("strong",null,"Position:",-1)),(0,l.eW)(" "+(0,L.v_)(o.selectedEmployee.position),1)]),(0,l.Lk)("p",null,[t[20]||(t[20]=(0,l.Lk)("strong",null,"Email:",-1)),(0,l.eW)(" "+(0,L.v_)(o.selectedEmployee.email),1)]),(0,l.Lk)("p",null,[t[21]||(t[21]=(0,l.Lk)("strong",null,"Sign In Time:",-1)),(0,l.eW)(" "+(0,L.v_)(o.selectedEmployee.signInTime||"N/A"),1)]),(0,l.Lk)("p",null,[t[22]||(t[22]=(0,l.Lk)("strong",null,"Sign Out Time:",-1)),(0,l.eW)(" "+(0,L.v_)(o.selectedEmployee.signOutTime||"N/A"),1)]),(0,l.Lk)("p",null,[t[23]||(t[23]=(0,l.Lk)("strong",null,"Status:",-1)),t[24]||(t[24]=(0,l.eW)()),(0,l.Lk)("span",{class:(0,L.C4)(r.getStatusClass(o.selectedEmployee.status))},(0,L.v_)(o.selectedEmployee.status||"Absent"),3)])]),(0,l.Lk)("div",zt,[(0,l.Lk)("button",{onClick:t[4]||(t[4]=e=>o.showDetailsModal=!1),class:"bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition duration-200"},"Close")])])])):(0,l.Q3)("",!0),o.statusMessage?((0,l.uX)(),(0,l.CE)("div",{key:1,class:(0,L.C4)([o.statusMessage.includes("successfully")?"bg-green-50 text-green-700":"bg-red-50 text-red-700","fixed bottom-4 right-4 p-4 rounded-lg shadow-md z-50"])},(0,L.v_)(o.statusMessage),3)):(0,l.Q3)("",!0)])])}s(2489),s(1701),s(4603),s(7566),s(8721);var Kt={name:"AdminDashboard",data(){return{totalEmployees:0,totalPresentToday:0,totalLateToday:0,totalEligibleForSalaryToday:0,attendanceRecords:[],isProcessingPayroll:!1,showDetailsModal:!1,selectedEmployee:{},statusMessage:""}},created(){this.fetchDashboardData()},methods:{async fetchDashboardData(){await Promise.all([this.fetchTotalEmployees(),this.fetchAttendanceRecords(),this.fetchTotalLateToday(),this.fetchEligibleForSalary()])},async fetchTotalEmployees(){try{const e=await fe.A.get("http://localhost:7777/api/employees/count");this.totalEmployees=e.data.total||0}catch(e){console.error("Failed to fetch total employees:",e),this.totalEmployees=0,this.showErrorMessage("Failed to fetch total employees.")}},async fetchAttendanceRecords(){try{const e=(new Date).toISOString().split("T")[0],t=await fe.A.get(`http://localhost:7777/api/attendance?date=${e}`);this.attendanceRecords=t.data||[],this.totalPresentToday=this.attendanceRecords.filter((e=>e.signInTime)).length}catch(e){console.error("Failed to fetch attendance records:",e),this.attendanceRecords=[],this.totalPresentToday=0,this.showErrorMessage("Failed to fetch attendance records.")}},async fetchTotalLateToday(){try{const e=(new Date).toISOString().split("T")[0],t=await fe.A.get(`http://localhost:7777/api/attendance/late?date=${e}`);this.totalLateToday=t.data.total||0}catch(e){console.error("Failed to fetch total late today:",e),this.totalLateToday=0,this.showErrorMessage("Failed to fetch late employees count.")}},async fetchEligibleForSalary(){try{const e=await fe.A.get("http://localhost:7777/api/employees/eligible-for-salary");this.totalEligibleForSalaryToday=e.data.total||0}catch(e){console.error("Failed to fetch eligible for salary:",e),this.totalEligibleForSalaryToday=0,this.showErrorMessage("Failed to fetch salary eligibility data.")}},async refreshAttendance(){try{await this.fetchAttendanceRecords(),await this.fetchTotalLateToday(),this.showSuccessMessage("Attendance data refreshed successfully!")}catch(e){this.showErrorMessage("Failed to refresh attendance data.")}},async processPayroll(){this.isProcessingPayroll=!0;try{const e=await fe.A.post("http://localhost:7777/api/payroll/process");e.data.success?(this.showSuccessMessage("Payroll processed successfully!"),await this.fetchEligibleForSalary()):this.showErrorMessage("Failed to process payroll.")}catch(e){console.error("Failed to process payroll:",e),this.showErrorMessage("Error processing payroll. Please try again.")}finally{this.isProcessingPayroll=!1}},async exportAttendance(){try{const e=[["Employee ID","Name","Position","Sign In Time","Sign Out Time","Status"],...this.attendanceRecords.map((e=>[e.employeeId,`${e.firstName} ${e.lastName}`,e.position,e.signInTime||"N/A",e.signOutTime||"N/A",e.status||"Absent"]))].map((e=>e.join(","))).join("\n"),t=new Blob([e],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a");s.href=URL.createObjectURL(t),s.download=`attendance_${(new Date).toISOString().split("T")[0]}.csv`,document.body.appendChild(s),s.click(),document.body.removeChild(s),this.showSuccessMessage("Attendance exported successfully!")}catch(e){console.error("Failed to export attendance:",e),this.showErrorMessage("Failed to export attendance data.")}},viewEmployeeDetails(e){this.selectedEmployee={...e},this.showDetailsModal=!0},async deleteAttendance(e){if(confirm("Are you sure you want to delete this attendance record?"))try{const t=await fe.A.delete(`http://localhost:7777/api/attendance/${e}`);204===t.status&&(this.attendanceRecords=this.attendanceRecords.filter((t=>t.id!==e)),this.totalPresentToday=this.attendanceRecords.filter((e=>e.signInTime)).length,this.showSuccessMessage("Attendance record deleted successfully!"))}catch(t){console.error("Failed to delete attendance:",t),this.showErrorMessage("Failed to delete attendance record.")}},logout(){localStorage.removeItem("userId"),localStorage.removeItem("userRole"),this.$router.push("/login")},getStatusClass(e){switch(e?.toLowerCase()){case"on time":return"text-green-600 font-medium";case"late":return"text-yellow-600 font-medium";case"absent":return"text-red-600 font-medium";default:return"text-gray-600"}},showSuccessMessage(e){this.statusMessage=e,setTimeout((()=>this.statusMessage=""),3e3)},showErrorMessage(e){this.statusMessage=e,setTimeout((()=>this.statusMessage=""),3e3)}}};const Yt=(0,n.A)(Kt,[["render",Gt],["__scopeId","data-v-9455e7f2"]]);var Zt=Yt;const es={class:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100"},ts={class:"p-4"},ss={class:"mb-6 bg-white rounded-xl shadow-sm p-6"},as={class:"flex items-center space-x-4"},ls={class:"h-12 w-12 rounded-full bg-blue-100 flex items-center justify-center"},os={class:"text-blue-600 font-semibold text-lg"},rs={class:"text-xl font-bold text-gray-800"},ns={class:"text-sm text-gray-500"},is={class:"grid grid-cols-1 lg:grid-cols-4 gap-6"},ds={class:"lg:col-span-3 space-y-6"},cs={class:"bg-white rounded-xl shadow-sm p-6"},us={class:"flex justify-between items-center"},ps={class:"text-sm text-gray-500"},ms={class:"flex space-x-3"},gs=["disabled"],ys=["disabled"],hs={class:"bg-white rounded-xl shadow-sm overflow-hidden"},xs={class:"overflow-x-auto"},bs={class:"min-w-full divide-y divide-gray-200"},fs={class:"bg-white divide-y divide-gray-200"},vs={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},ks={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Ls={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},ws={class:"px-6 py-4 whitespace-nowrap text-sm"},Es={class:"lg:col-span-1"},Ss={class:"bg-white rounded-xl shadow-sm p-6"},Ps={class:"pt-4 border-t-2 border-gray-200"},Ms={class:"flex justify-between items-center"},Cs={class:"text-lg font-bold text-blue-600"};function qs(e,t,s,a,o,r){return(0,l.uX)(),(0,l.CE)("div",es,[(0,l.Lk)("div",ts,[(0,l.Lk)("div",ss,[(0,l.Lk)("div",as,[(0,l.Lk)("div",ls,[(0,l.Lk)("span",os,(0,L.v_)(r.employeeInitials),1)]),(0,l.Lk)("div",null,[(0,l.Lk)("h1",rs,(0,L.v_)(o.employeeData.name),1),(0,l.Lk)("p",ns,"ID: "+(0,L.v_)(o.employeeData.employeeId)+" | "+(0,L.v_)(o.employeeData.position),1)])])]),(0,l.Lk)("div",is,[(0,l.Lk)("div",ds,[(0,l.Lk)("div",cs,[(0,l.Lk)("div",us,[(0,l.Lk)("div",ps," Current Pay Period: "+(0,L.v_)(r.currentPayPeriod),1),(0,l.Lk)("div",ms,[(0,l.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>r.timeIn&&r.timeIn(...e)),class:"bg-emerald-500 text-white px-4 py-2 rounded-lg hover:bg-emerald-600 transition-colors duration-200 shadow-sm disabled:bg-gray-400 disabled:cursor-not-allowed",disabled:o.isTimedIn||o.isLoading},(0,L.v_)(o.isLoading&&!o.isTimedIn?"Processing...":"Time In"),9,gs),(0,l.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>r.timeOut&&r.timeOut(...e)),class:"bg-rose-500 text-white px-4 py-2 rounded-lg hover:bg-rose-600 transition-colors duration-200 shadow-sm disabled:bg-gray-400 disabled:cursor-not-allowed",disabled:!o.isTimedIn||o.isLoading},(0,L.v_)(o.isLoading&&o.isTimedIn?"Processing...":"Time Out"),9,ys)])])]),(0,l.Lk)("div",hs,[t[3]||(t[3]=(0,l.Lk)("div",{class:"p-6 border-b border-gray-100"},[(0,l.Lk)("h2",{class:"text-lg font-semibold text-gray-800"},"My Attendance Records")],-1)),(0,l.Lk)("div",xs,[(0,l.Lk)("table",bs,[t[2]||(t[2]=(0,l.Lk)("thead",{class:"bg-gray-50"},[(0,l.Lk)("tr",null,[(0,l.Lk)("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Date"),(0,l.Lk)("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Time In"),(0,l.Lk)("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Time Out"),(0,l.Lk)("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status")])],-1)),(0,l.Lk)("tbody",fs,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.attendanceRecords,(e=>((0,l.uX)(),(0,l.CE)("tr",{key:e.id,class:"hover:bg-gray-50"},[(0,l.Lk)("td",vs,(0,L.v_)(e.date),1),(0,l.Lk)("td",ks,(0,L.v_)(e.timeIn||"--"),1),(0,l.Lk)("td",Ls,(0,L.v_)(e.timeOut||"--"),1),(0,l.Lk)("td",ws,[(0,l.Lk)("span",{class:(0,L.C4)(r.getStatusClass(e.status))},(0,L.v_)(e.status),3)])])))),128))])])])])]),(0,l.Lk)("div",Es,[(0,l.Lk)("div",Ss,[t[5]||(t[5]=(0,l.Lk)("h2",{class:"text-lg font-semibold text-gray-800"},"Salary Details",-1)),(0,l.Lk)("div",Ps,[(0,l.Lk)("div",Ms,[t[4]||(t[4]=(0,l.Lk)("span",{class:"text-base font-semibold text-gray-800"},"Net Salary",-1)),(0,l.Lk)("span",Cs,"₱"+(0,L.v_)(r.netSalary.toLocaleString()),1)])])])])])])])}s(116),s(8237);var Rs={name:"EmployeeDashboard",data(){return{employeeData:{name:"",employeeId:"",position:"",earnings:[],deductions:[],attendance:[]},attendanceRecords:[],totalAbsences:0,totalLate:0,totalOnTime:0,isTimedIn:!1,isLoading:!1}},computed:{employeeInitials(){return this.employeeData.name?this.employeeData.name.split(" ").map((e=>e[0])).join("").toUpperCase():""},currentPayPeriod(){const e=new Date;return`${e.toLocaleString("default",{month:"long"})} 1-15, ${e.getFullYear()}`},totalEarnings(){return this.employeeData.earnings?.reduce(((e,t)=>e+t.amount),0)||0},totalDeductions(){return this.employeeData.deductions?.reduce(((e,t)=>e+t.amount),0)||0},netSalary(){return this.totalEarnings-this.totalDeductions}},methods:{async fetchEmployeeData(){try{const e=localStorage.getItem("userId");if(!e)throw new Error("No user ID found in localStorage");const t=await fe.A.get(`http://localhost:7777/api/employees/${e}`);this.employeeData=t.data||{},this.attendanceRecords=t.data.attendance||[];const s=(new Date).toISOString().split("T")[0],a=this.attendanceRecords.find((e=>e.date===s));this.isTimedIn=a&&a.timeIn&&!a.timeOut,this.totalAbsences=t.data.totalAbsences||0,this.totalLate=t.data.totalLate||0,this.totalOnTime=t.data.totalOnTime||0}catch(e){console.error("Error fetching employee data:",e),alert("Failed to load employee data. Please try again.")}},async timeIn(){this.isLoading=!0;try{const e=this.employeeData.employeeId,t=await fe.A.post("http://localhost:7777/api/employees/time-in",{userId:e,time:(new Date).toISOString()});200===t.status&&(await this.fetchEmployeeData(),this.isTimedIn=!0,alert("Successfully timed in!"))}catch(e){console.error("Error during Time In:",e),alert("Failed to record Time In. Please try again.")}finally{this.isLoading=!1}},async timeOut(){this.isLoading=!0;try{const e=this.employeeData.employeeId,t=await fe.A.post("http://localhost:7777/api/employees/time-out",{userId:e,time:(new Date).toISOString()});200===t.status&&(await this.fetchEmployeeData(),this.isTimedIn=!1,alert("Successfully timed out!"))}catch(e){console.error("Error during Time Out:",e),alert("Failed to record Time Out. Please try again.")}finally{this.isLoading=!1}},getStatusClass(e){switch(e?.toLowerCase()){case"on time":return"text-green-600 font-medium";case"late":return"text-yellow-600 font-medium";case"absent":return"text-red-600 font-medium";default:return"text-gray-600"}}},async created(){await this.fetchEmployeeData()}};const Ds=(0,n.A)(Rs,[["render",qs],["__scopeId","data-v-223150dc"]]);var Is=Ds;const As={class:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 p-1"},_s={class:"max-w-6xl mx-auto"},Ns={class:"bg-white p-4 rounded-xl shadow-md mb-8"},Fs={class:"col-span-1"},Xs={class:"col-span-1"},Ts={class:"bg-white p-5 rounded-xl shadow-md"},$s={class:"min-w-full divide-y divide-gray-200"},Hs={class:"bg-white divide-y divide-gray-200"},Us={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},js={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Vs={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},Js=["onClick"];function Os(e,t,s,o,r,n){return(0,l.uX)(),(0,l.CE)("div",As,[(0,l.Lk)("div",_s,[(0,l.Lk)("div",Ns,[(0,l.Lk)("form",{onSubmit:t[2]||(t[2]=(0,a.D$)(((...e)=>n.addPosition&&n.addPosition(...e)),["prevent"])),class:"grid grid-cols-1 gap-3 sm:grid-cols-2 lg:grid-cols-3"},[(0,l.Lk)("div",Fs,[t[3]||(t[3]=(0,l.Lk)("label",{for:"positionName",class:"block text-gray-700 mb-1 font-medium text-sm"},"Position Name",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>r.newPosition.name=e),type:"text",id:"positionName",class:"w-full p-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all text-sm",required:""},null,512),[[a.Jo,r.newPosition.name]])]),(0,l.Lk)("div",Xs,[t[4]||(t[4]=(0,l.Lk)("label",{for:"positionSalary",class:"block text-gray-700 mb-1 font-medium text-sm"},"Salary",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>r.newPosition.salary=e),type:"number",id:"positionSalary",class:"w-full p-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all text-sm",required:""},null,512),[[a.Jo,r.newPosition.salary]])]),t[5]||(t[5]=(0,l.Lk)("div",{class:"col-span-1 flex items-end"},[(0,l.Lk)("button",{type:"submit",class:"w-auto bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-700 transition-all duration-200 shadow-md hover:shadow-lg text-sm"}," Submit ")],-1))],32)]),(0,l.Lk)("div",Ts,[(0,l.Lk)("table",$s,[t[7]||(t[7]=(0,l.Lk)("thead",{class:"bg-gray-50"},[(0,l.Lk)("tr",null,[(0,l.Lk)("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Position Name"),(0,l.Lk)("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Salary"),(0,l.Lk)("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),(0,l.Lk)("tbody",Hs,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.positions,(e=>((0,l.uX)(),(0,l.CE)("tr",{key:e.id},[(0,l.Lk)("td",Us,(0,L.v_)(e.name),1),(0,l.Lk)("td",js,"P "+(0,L.v_)(e.salary.toLocaleString())+" / month",1),(0,l.Lk)("td",Vs,[(0,l.Lk)("button",{onClick:t=>n.removePosition(e.id),class:"bg-red-50 text-red-600 font-semibold py-1.5 px-3 rounded-lg hover:bg-red-100 transition-all duration-200 flex items-center gap-2 text-xs"},t[6]||(t[6]=[(0,l.Lk)("span",{class:"material-icons"},"delete",-1)]),8,Js)])])))),128))])])])])])}var Ws={data(){return{positions:[],newPosition:{name:"",salary:""}}},methods:{addPosition(){this.newPosition.name&&this.newPosition.salary&&(this.positions.push({id:Date.now(),name:this.newPosition.name,salary:this.newPosition.salary}),this.newPosition.name="",this.newPosition.salary="")},removePosition(e){this.positions=this.positions.filter((t=>t.id!==e))}}};const Bs=(0,n.A)(Ws,[["render",Os]]);var Qs=Bs;const zs={class:"min-h-screen bg-gray-50 p-4"},Gs={class:"bg-white p-4 rounded-lg shadow-md max-w-xs w-full mb-6"},Ks={class:"bg-white rounded-lg shadow-lg overflow-hidden"},Ys={class:"overflow-x-auto"},Zs={class:"min-w-full divide-y divide-gray-200"},ea={class:"bg-white divide-y divide-gray-200"},ta={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-600"},sa={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-600"},aa={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-600"},la={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-600"},oa={key:0};function ra(e,t,s,o,r,n){return(0,l.uX)(),(0,l.CE)("div",zs,[(0,l.Lk)("div",Gs,[t[2]||(t[2]=(0,l.Lk)("label",{for:"attendanceDate",class:"block text-gray-700 font-medium text-sm mb-1"},"Select Date",-1)),(0,l.bo)((0,l.Lk)("input",{type:"date","onUpdate:modelValue":t[0]||(t[0]=e=>r.selectedDate=e),id:"attendanceDate",class:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all text-sm",onChange:t[1]||(t[1]=(...e)=>n.fetchAttendance&&n.fetchAttendance(...e))},null,544),[[a.Jo,r.selectedDate]])]),(0,l.Lk)("div",Ks,[t[5]||(t[5]=(0,l.Lk)("div",{class:"p-3 border-b border-gray-200"},[(0,l.Lk)("h2",{class:"text-lg font-semibold text-gray-700"},"Employees Information")],-1)),(0,l.Lk)("div",Ys,[(0,l.Lk)("table",Zs,[t[4]||(t[4]=(0,l.Lk)("thead",{class:"bg-gray-50"},[(0,l.Lk)("tr",null,[(0,l.Lk)("th",{class:"px-6 py-4 text-xs font-medium text-gray-500 uppercase tracking-wider"},"Employee ID"),(0,l.Lk)("th",{class:"px-6 py-4 text-xs font-medium text-gray-500 uppercase tracking-wider"},"Name"),(0,l.Lk)("th",{class:"px-6 py-4 text-xs font-medium text-gray-500 uppercase tracking-wider"},"Position"),(0,l.Lk)("th",{class:"px-6 py-4 text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status")])],-1)),(0,l.Lk)("tbody",ea,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.filteredAttendance,(e=>((0,l.uX)(),(0,l.CE)("tr",{key:e.id,class:"hover:bg-gray-50 transition-colors"},[(0,l.Lk)("td",ta,(0,L.v_)(e.id),1),(0,l.Lk)("td",sa,(0,L.v_)(e.name),1),(0,l.Lk)("td",aa,(0,L.v_)(e.position),1),(0,l.Lk)("td",la,(0,L.v_)(e.status),1)])))),128)),0===n.filteredAttendance.length?((0,l.uX)(),(0,l.CE)("tr",oa,t[3]||(t[3]=[(0,l.Lk)("td",{colspan:"4",class:"px-6 py-4 text-center text-sm text-gray-500"},"No attendance records for this date.",-1)]))):(0,l.Q3)("",!0)])])])]),r.statusMessage?((0,l.uX)(),(0,l.CE)("div",{key:0,class:(0,L.C4)([r.statusMessage.includes("successfully")?"bg-green-50 text-green-700":"bg-red-50 text-red-700","fixed bottom-4 right-4 p-4 rounded-lg shadow-md z-50"])},(0,L.v_)(r.statusMessage),3)):(0,l.Q3)("",!0)])}var na={data(){return{selectedDate:(new Date).toISOString().split("T")[0],attendanceRecords:[],statusMessage:""}},computed:{filteredAttendance(){return this.attendanceRecords.filter((e=>e.date===this.selectedDate))}},created(){this.fetchAttendance()},methods:{async fetchAttendance(){try{const e=await fe.A.get(`http://localhost:7777/api/attendance?date=${this.selectedDate}`);this.attendanceRecords=e.data||[]}catch(e){console.error("Error fetching attendance:",e),this.showErrorMessage("Failed to load attendance records.")}},showSuccessMessage(e){this.statusMessage=e,setTimeout((()=>this.statusMessage=""),3e3)},showErrorMessage(e){this.statusMessage=e,setTimeout((()=>this.statusMessage=""),3e3)}}};const ia=(0,n.A)(na,[["render",ra],["__scopeId","data-v-6fb36831"]]);var da=ia;const ca={class:"min-h-screen bg-gray-50 p-4"},ua={class:"flex gap-6"},pa={class:"flex-1"},ma={class:"bg-white rounded-xl shadow-sm overflow-hidden"},ga={class:"p-6 flex justify-between items-center"},ya={class:"overflow-x-auto"},ha={class:"w-full"},xa={class:"divide-y divide-gray-100"},ba={class:"px-6 py-4 text-sm text-gray-900"},fa={class:"px-6 py-4 text-sm text-gray-900"},va={class:"px-6 py-4 text-sm text-gray-900"},ka={class:"px-6 py-4 text-sm text-gray-900"},La={class:"px-6 py-4 text-right flex justify-end gap-3"},wa=["onClick"],Ea=["onClick"],Sa=["onClick"],Pa={key:0},Ma={class:"w-96"},Ca={class:"bg-white rounded-xl shadow-sm overflow-hidden"},qa={class:"p-6 border-b border-gray-100 flex justify-between items-center"},Ra={class:"divide-y divide-gray-100"},Da={class:"flex justify-between items-start mb-2"},Ia={class:"text-sm font-medium text-gray-900"},Aa={class:"text-sm text-gray-500"},_a={class:"flex gap-2"},Na=["onClick"],Fa=["onClick"],Xa=["onClick"],Ta={key:0,class:"p-4 text-center text-sm text-gray-500"},$a={key:0,class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50"},Ha={class:"bg-white rounded-xl shadow-xl w-full max-w-2xl m-4 max-h-[90vh] overflow-y-auto"},Ua={class:"p-6"},ja={class:"mb-6"},Va={class:"grid grid-cols-2 gap-6"},Ja={class:"space-y-2"},Oa={key:1,class:"text-lg text-gray-900"},Wa={class:"space-y-2"},Ba=["value"],Qa={key:1,class:"text-lg text-gray-900"},za={class:"space-y-2"},Ga={key:1,class:"text-lg text-gray-900"},Ka={class:"space-y-2"},Ya={key:1,class:"text-lg text-gray-900"},Za={class:"mb-6"},el={class:"grid grid-cols-2 gap-6"},tl={class:"space-y-2"},sl={key:1,class:"text-lg text-gray-900"},al={class:"space-y-4"},ll={class:"space-y-2"},ol={key:1,class:"text-sm text-gray-900"},rl={class:"space-y-2"},nl={key:1,class:"text-sm text-gray-900"},il={class:"space-y-2"},dl={key:1,class:"text-sm text-gray-900"},cl={class:"space-y-4"},ul={class:"space-y-2"},pl={key:1,class:"text-sm text-gray-900"},ml={class:"space-y-2"},gl={key:1,class:"text-sm text-gray-900"},yl={key:0,class:"mt-6 p-4 bg-gray-50 rounded-lg"},hl={class:"flex justify-between items-center"},xl={class:"text-lg font-semibold text-gray-900"},bl={class:"mt-6 flex justify-end gap-3"},fl={key:1,class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50"},vl={class:"bg-white rounded-xl shadow-xl w-full max-w-2xl m-4"},kl={class:"p-6 border-b flex justify-between items-center"},Ll={class:"p-6"},wl={class:"grid grid-cols-2 gap-6"},El={class:"col-span-2"},Sl={class:"grid grid-cols-2 gap-4"},Pl={class:"space-y-2"},Ml={class:"text-base text-gray-900"},Cl={class:"space-y-2"},ql={class:"text-base text-gray-900"},Rl={class:"space-y-2"},Dl={class:"text-base text-gray-900"},Il={class:"space-y-2"},Al={class:"text-base text-gray-900"},_l={class:"col-span-2"},Nl={class:"grid grid-cols-2 gap-4"},Fl={class:"space-y-2"},Xl={class:"text-base text-gray-900"},Tl={class:"space-y-2"},$l={class:"space-y-1"},Hl={class:"text-sm text-gray-900"},Ul={class:"text-sm text-gray-900"},jl={class:"text-sm text-gray-900"},Vl={class:"space-y-2"},Jl={class:"space-y-1"},Ol={class:"text-sm text-gray-900"},Wl={class:"text-sm text-gray-900"},Bl={class:"space-y-2"},Ql={class:"text-base font-semibold text-gray-900"},zl={class:"p-6 border-t bg-gray-50"},Gl={class:"flex justify-end gap-3"},Kl={key:2,class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50"},Yl={class:"bg-white rounded-xl shadow-xl w-full max-w-2xl m-4 max-h-[90vh] overflow-y-auto"},Zl={class:"p-6"},eo={class:"mb-6"},to={class:"grid grid-cols-2 gap-6"},so={class:"space-y-2"},ao={class:"space-y-2"},lo={class:"space-y-2"},oo=["value"],ro={class:"space-y-2"},no={class:"space-y-2"},io={class:"space-y-2"},co={class:"mb-6"},uo={class:"grid grid-cols-2 gap-6"},po={class:"space-y-4"},mo={class:"space-y-2"},go={class:"space-y-2"},yo={class:"space-y-2"},ho={class:"space-y-4"},xo={class:"space-y-2"},bo={class:"space-y-2"},fo={class:"mt-6 p-4 bg-gray-50 rounded-lg"},vo={class:"flex justify-between items-center"},ko={class:"text-lg font-semibold text-gray-900"},Lo={class:"p-6 border-t bg-gray-50"},wo={class:"flex justify-end gap-3"},Eo=["disabled"],So={key:3,class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50"},Po={class:"bg-white rounded-xl shadow-xl w-full max-w-md m-4"},Mo={class:"p-6"},Co={class:"text-gray-600"},qo={class:"p-6 border-t bg-gray-50"},Ro={class:"flex justify-end gap-3"},Do=["disabled"];function Io(e,t,s,o,r,n){return(0,l.uX)(),(0,l.CE)("div",ca,[(0,l.Lk)("div",ua,[(0,l.Lk)("div",pa,[(0,l.Lk)("div",ma,[(0,l.Lk)("div",ga,[t[33]||(t[33]=(0,l.Lk)("h2",{class:"text-xl font-bold text-gray-800"},"Employee List",-1)),(0,l.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>n.refreshEmployees&&n.refreshEmployees(...e)),class:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition duration-200"}," Refresh ")]),(0,l.Lk)("div",ya,[(0,l.Lk)("table",ha,[t[38]||(t[38]=(0,l.Lk)("thead",{class:"bg-gray-50"},[(0,l.Lk)("tr",null,[(0,l.Lk)("th",{class:"px-6 py-4 text-left text-sm font-medium text-gray-500"},"Employee ID"),(0,l.Lk)("th",{class:"px-6 py-4 text-left text-sm font-medium text-gray-500"},"Name"),(0,l.Lk)("th",{class:"px-6 py-4 text-left text-sm font-medium text-gray-500"},"Position"),(0,l.Lk)("th",{class:"px-6 py-4 text-left text-sm font-medium text-gray-500"},"Total Salary"),(0,l.Lk)("th",{class:"px-6 py-4 text-right text-sm font-medium text-gray-500"},"Actions")])],-1)),(0,l.Lk)("tbody",xa,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.employees,(e=>((0,l.uX)(),(0,l.CE)("tr",{key:e.id,class:"hover:bg-gray-50 transition duration-200"},[(0,l.Lk)("td",ba,(0,L.v_)(e.id),1),(0,l.Lk)("td",fa,(0,L.v_)(e.firstName)+" "+(0,L.v_)(e.lastName),1),(0,l.Lk)("td",va,(0,L.v_)(e.position),1),(0,l.Lk)("td",ka,"₱"+(0,L.v_)(n.calculateNetSalary(e).toLocaleString()),1),(0,l.Lk)("td",La,[(0,l.Lk)("button",{onClick:t=>n.viewEmployeeDetails(e),class:"text-blue-600 hover:text-blue-800 transition duration-200"},t[34]||(t[34]=[(0,l.Lk)("span",{class:"material-icons-outlined"},"info",-1)]),8,wa),(0,l.Lk)("button",{onClick:t=>n.editEmployee(e),class:"text-yellow-600 hover:text-yellow-800 transition duration-200"},t[35]||(t[35]=[(0,l.Lk)("span",{class:"material-icons-outlined"},"edit",-1)]),8,Ea),(0,l.Lk)("button",{onClick:t=>n.confirmDelete(e),class:"text-red-600 hover:text-red-800 transition duration-200"},t[36]||(t[36]=[(0,l.Lk)("span",{class:"material-icons-outlined"},"delete",-1)]),8,Sa)])])))),128)),0===r.employees.length?((0,l.uX)(),(0,l.CE)("tr",Pa,t[37]||(t[37]=[(0,l.Lk)("td",{colspan:"5",class:"px-6 py-4 text-center text-sm text-gray-500"},"No employees found.",-1)]))):(0,l.Q3)("",!0)])])])])]),(0,l.Lk)("div",Ma,[(0,l.Lk)("div",Ca,[(0,l.Lk)("div",qa,[t[39]||(t[39]=(0,l.Lk)("h2",{class:"text-xl font-bold text-gray-800"},"Pending Approvals",-1)),(0,l.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>n.refreshPendingRequests&&n.refreshPendingRequests(...e)),class:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition duration-200"}," Refresh ")]),(0,l.Lk)("div",Ra,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.pendingRequests,(e=>((0,l.uX)(),(0,l.CE)("div",{key:e.id,class:"p-4"},[(0,l.Lk)("div",Da,[(0,l.Lk)("div",null,[(0,l.Lk)("h3",Ia,(0,L.v_)(e.name),1),(0,l.Lk)("p",Aa,(0,L.v_)(e.positionApplied),1)]),t[40]||(t[40]=(0,l.Lk)("span",{class:"px-2 py-1 text-xs font-medium bg-yellow-100 text-yellow-800 rounded-full"}," Pending ",-1))]),(0,l.Lk)("div",_a,[(0,l.Lk)("button",{onClick:t=>n.viewRequestInfo(e),class:"text-sm px-3 py-1 text-blue-600 hover:bg-blue-50 rounded-md transition duration-200"}," View Info ",8,Na),(0,l.Lk)("button",{onClick:t=>n.approveRequest(e),class:"text-sm px-3 py-1 text-green-600 hover:bg-green-50 rounded-md transition duration-200"}," Approve ",8,Fa),(0,l.Lk)("button",{onClick:t=>n.rejectRequest(e.id),class:"text-sm px-3 py-1 text-red-600 hover:bg-red-50 rounded-md transition duration-200"}," Reject ",8,Xa)])])))),128)),0===r.pendingRequests.length?((0,l.uX)(),(0,l.CE)("div",Ta," No pending approvals. ")):(0,l.Q3)("",!0)])])])]),r.showRequestModal?((0,l.uX)(),(0,l.CE)("div",$a,[(0,l.Lk)("div",Ha,[t[56]||(t[56]=(0,l.Lk)("div",{class:"p-6 border-b"},[(0,l.Lk)("h2",{class:"text-2xl font-bold text-gray-800"},"Application Details")],-1)),(0,l.Lk)("div",Ua,[(0,l.Lk)("div",ja,[t[45]||(t[45]=(0,l.Lk)("h3",{class:"text-lg font-semibold text-gray-800 mb-4"},"Basic Information",-1)),(0,l.Lk)("div",Va,[(0,l.Lk)("div",Ja,[t[41]||(t[41]=(0,l.Lk)("p",{class:"text-sm font-medium text-gray-700"},"Full Name",-1)),r.isEditingRequest?(0,l.bo)(((0,l.uX)(),(0,l.CE)("input",{key:0,"onUpdate:modelValue":t[2]||(t[2]=e=>r.selectedRequest.name=e),class:"w-full p-2 border border-gray-200 rounded-lg",required:""},null,512)),[[a.Jo,r.selectedRequest.name]]):((0,l.uX)(),(0,l.CE)("p",Oa,(0,L.v_)(r.selectedRequest.name),1))]),(0,l.Lk)("div",Wa,[t[42]||(t[42]=(0,l.Lk)("p",{class:"text-sm font-medium text-gray-700"},"Position Applied",-1)),r.isEditingRequest?(0,l.bo)(((0,l.uX)(),(0,l.CE)("select",{key:0,"onUpdate:modelValue":t[3]||(t[3]=e=>r.selectedRequest.positionApplied=e),class:"w-full p-2 border border-gray-200 rounded-lg",required:""},[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.adminPositions,(e=>((0,l.uX)(),(0,l.CE)("option",{key:e,value:e},(0,L.v_)(e),9,Ba)))),128))],512)),[[a.u1,r.selectedRequest.positionApplied]]):((0,l.uX)(),(0,l.CE)("p",Qa,(0,L.v_)(r.selectedRequest.positionApplied),1))]),(0,l.Lk)("div",za,[t[43]||(t[43]=(0,l.Lk)("p",{class:"text-sm font-medium text-gray-700"},"Email",-1)),r.isEditingRequest?(0,l.bo)(((0,l.uX)(),(0,l.CE)("input",{key:0,"onUpdate:modelValue":t[4]||(t[4]=e=>r.selectedRequest.email=e),type:"email",class:"w-full p-2 border border-gray-200 rounded-lg",required:""},null,512)),[[a.Jo,r.selectedRequest.email]]):((0,l.uX)(),(0,l.CE)("p",Ga,(0,L.v_)(r.selectedRequest.email),1))]),(0,l.Lk)("div",Ka,[t[44]||(t[44]=(0,l.Lk)("p",{class:"text-sm font-medium text-gray-700"},"Contact Number",-1)),r.isEditingRequest?(0,l.bo)(((0,l.uX)(),(0,l.CE)("input",{key:0,"onUpdate:modelValue":t[5]||(t[5]=e=>r.selectedRequest.contactNumber=e),class:"w-full p-2 border border-gray-200 rounded-lg",required:""},null,512)),[[a.Jo,r.selectedRequest.contactNumber]]):((0,l.uX)(),(0,l.CE)("p",Ya,(0,L.v_)(r.selectedRequest.contactNumber),1))])])]),(0,l.Lk)("div",Za,[t[55]||(t[55]=(0,l.Lk)("h3",{class:"text-lg font-semibold text-gray-800 mb-4"},"Financial Information",-1)),(0,l.Lk)("div",el,[(0,l.Lk)("div",tl,[t[46]||(t[46]=(0,l.Lk)("p",{class:"text-sm font-medium text-gray-700"},"Proposed Salary",-1)),r.isEditingRequest?(0,l.bo)(((0,l.uX)(),(0,l.CE)("input",{key:0,"onUpdate:modelValue":t[6]||(t[6]=e=>r.selectedRequest.salary=e),type:"number",class:"w-full p-2 border border-gray-200 rounded-lg",required:"",min:"0"},null,512)),[[a.Jo,r.selectedRequest.salary,void 0,{number:!0}]]):((0,l.uX)(),(0,l.CE)("p",sl,"₱"+(0,L.v_)(r.selectedRequest.salary.toLocaleString()),1))]),(0,l.Lk)("div",al,[t[50]||(t[50]=(0,l.Lk)("p",{class:"text-sm font-medium text-gray-700"},"Monthly Deductions",-1)),(0,l.Lk)("div",ll,[t[47]||(t[47]=(0,l.Lk)("label",{class:"text-sm text-gray-600"},"SSS",-1)),r.isEditingRequest?(0,l.bo)(((0,l.uX)(),(0,l.CE)("input",{key:0,"onUpdate:modelValue":t[7]||(t[7]=e=>r.selectedRequest.deductions.sss=e),type:"number",class:"w-full p-2 border border-gray-200 rounded-lg",min:"0"},null,512)),[[a.Jo,r.selectedRequest.deductions.sss,void 0,{number:!0}]]):((0,l.uX)(),(0,l.CE)("p",ol,"₱"+(0,L.v_)(r.selectedRequest.deductions?.sss||0),1))]),(0,l.Lk)("div",rl,[t[48]||(t[48]=(0,l.Lk)("label",{class:"text-sm text-gray-600"},"PhilHealth",-1)),r.isEditingRequest?(0,l.bo)(((0,l.uX)(),(0,l.CE)("input",{key:0,"onUpdate:modelValue":t[8]||(t[8]=e=>r.selectedRequest.deductions.philhealth=e),type:"number",class:"w-full p-2 border border-gray-200 rounded-lg",min:"0"},null,512)),[[a.Jo,r.selectedRequest.deductions.philhealth,void 0,{number:!0}]]):((0,l.uX)(),(0,l.CE)("p",nl,"₱"+(0,L.v_)(r.selectedRequest.deductions?.philhealth||0),1))]),(0,l.Lk)("div",il,[t[49]||(t[49]=(0,l.Lk)("label",{class:"text-sm text-gray-600"},"Pag-IBIG",-1)),r.isEditingRequest?(0,l.bo)(((0,l.uX)(),(0,l.CE)("input",{key:0,"onUpdate:modelValue":t[9]||(t[9]=e=>r.selectedRequest.deductions.pagibig=e),type:"number",class:"w-full p-2 border border-gray-200 rounded-lg",min:"0"},null,512)),[[a.Jo,r.selectedRequest.deductions.pagibig,void 0,{number:!0}]]):((0,l.uX)(),(0,l.CE)("p",dl,"₱"+(0,L.v_)(r.selectedRequest.deductions?.pagibig||0),1))])]),(0,l.Lk)("div",cl,[t[53]||(t[53]=(0,l.Lk)("p",{class:"text-sm font-medium text-gray-700"},"Additional Earnings",-1)),(0,l.Lk)("div",ul,[t[51]||(t[51]=(0,l.Lk)("label",{class:"text-sm text-gray-600"},"Travel Expenses",-1)),r.isEditingRequest?(0,l.bo)(((0,l.uX)(),(0,l.CE)("input",{key:0,"onUpdate:modelValue":t[10]||(t[10]=e=>r.selectedRequest.earnings.travelExpenses=e),type:"number",class:"w-full p-2 border border-gray-200 rounded-lg",min:"0"},null,512)),[[a.Jo,r.selectedRequest.earnings.travelExpenses,void 0,{number:!0}]]):((0,l.uX)(),(0,l.CE)("p",pl,"₱"+(0,L.v_)(r.selectedRequest.earnings?.travelExpenses||0),1))]),(0,l.Lk)("div",ml,[t[52]||(t[52]=(0,l.Lk)("label",{class:"text-sm text-gray-600"},"Other Earnings",-1)),r.isEditingRequest?(0,l.bo)(((0,l.uX)(),(0,l.CE)("input",{key:0,"onUpdate:modelValue":t[11]||(t[11]=e=>r.selectedRequest.earnings.otherEarnings=e),type:"number",class:"w-full p-2 border border-gray-200 rounded-lg",min:"0"},null,512)),[[a.Jo,r.selectedRequest.earnings.otherEarnings,void 0,{number:!0}]]):((0,l.uX)(),(0,l.CE)("p",gl,"₱"+(0,L.v_)(r.selectedRequest.earnings?.otherEarnings||0),1))])])]),r.isEditingRequest?((0,l.uX)(),(0,l.CE)("div",yl,[(0,l.Lk)("div",hl,[t[54]||(t[54]=(0,l.Lk)("span",{class:"text-sm font-medium text-gray-700"},"Net Salary Preview:",-1)),(0,l.Lk)("span",xl,"₱"+(0,L.v_)(n.calculateRequestNetSalary(r.selectedRequest).toLocaleString()),1)])])):(0,l.Q3)("",!0)]),(0,l.Lk)("div",bl,[r.isEditingRequest?((0,l.uX)(),(0,l.CE)("button",{key:0,onClick:t[12]||(t[12]=(...e)=>n.saveRequestChanges&&n.saveRequestChanges(...e)),class:"px-6 py-2.5 bg-indigo-600 text-white font-medium rounded-lg hover:bg-indigo-700 transition duration-200"}," Save ")):((0,l.uX)(),(0,l.CE)("button",{key:1,onClick:t[13]||(t[13]=e=>r.isEditingRequest=!0),class:"px-6 py-2.5 bg-yellow-600 text-white font-medium rounded-lg hover:bg-yellow-700 transition duration-200"}," Edit ")),(0,l.Lk)("button",{onClick:t[14]||(t[14]=e=>{r.showRequestModal=!1,r.isEditingRequest=!1}),class:"px-6 py-2.5 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50 transition duration-200"}," Close ")])])])])):(0,l.Q3)("",!0),r.showDetailsModal?((0,l.uX)(),(0,l.CE)("div",fl,[(0,l.Lk)("div",vl,[(0,l.Lk)("div",kl,[t[58]||(t[58]=(0,l.Lk)("h2",{class:"text-2xl font-bold text-gray-800"},"Employee Details",-1)),(0,l.Lk)("button",{onClick:t[15]||(t[15]=e=>r.showDetailsModal=!1),class:"text-gray-500 hover:text-gray-700"},t[57]||(t[57]=[(0,l.Lk)("span",{class:"material-icons-outlined"},"close",-1)]))]),(0,l.Lk)("div",Ll,[(0,l.Lk)("div",wl,[(0,l.Lk)("div",El,[t[63]||(t[63]=(0,l.Lk)("h3",{class:"text-lg font-semibold text-gray-800 mb-4"},"Basic Information",-1)),(0,l.Lk)("div",Sl,[(0,l.Lk)("div",Pl,[t[59]||(t[59]=(0,l.Lk)("p",{class:"text-sm font-medium text-gray-500"},"Full Name",-1)),(0,l.Lk)("p",Ml,(0,L.v_)(r.selectedEmployee.firstName)+" "+(0,L.v_)(r.selectedEmployee.lastName),1)]),(0,l.Lk)("div",Cl,[t[60]||(t[60]=(0,l.Lk)("p",{class:"text-sm font-medium text-gray-500"},"Position",-1)),(0,l.Lk)("p",ql,(0,L.v_)(r.selectedEmployee.position),1)]),(0,l.Lk)("div",Rl,[t[61]||(t[61]=(0,l.Lk)("p",{class:"text-sm font-medium text-gray-500"},"Email",-1)),(0,l.Lk)("p",Dl,(0,L.v_)(r.selectedEmployee.email),1)]),(0,l.Lk)("div",Il,[t[62]||(t[62]=(0,l.Lk)("p",{class:"text-sm font-medium text-gray-500"},"Contact Info",-1)),(0,l.Lk)("p",Al,(0,L.v_)(r.selectedEmployee.contactInfo),1)])])]),(0,l.Lk)("div",_l,[t[68]||(t[68]=(0,l.Lk)("h3",{class:"text-lg font-semibold text-gray-800 mb-4"},"Financial Information",-1)),(0,l.Lk)("div",Nl,[(0,l.Lk)("div",Fl,[t[64]||(t[64]=(0,l.Lk)("p",{class:"text-sm font-medium text-gray-500"},"Base Salary",-1)),(0,l.Lk)("p",Xl,"₱"+(0,L.v_)(r.selectedEmployee.salary.toLocaleString()),1)]),(0,l.Lk)("div",Tl,[t[65]||(t[65]=(0,l.Lk)("p",{class:"text-sm font-medium text-gray-500"},"Monthly Deductions",-1)),(0,l.Lk)("div",$l,[(0,l.Lk)("p",Hl,"SSS: ₱"+(0,L.v_)(r.selectedEmployee.deductions?.sss||0),1),(0,l.Lk)("p",Ul,"PhilHealth: ₱"+(0,L.v_)(r.selectedEmployee.deductions?.philhealth||0),1),(0,l.Lk)("p",jl,"Pag-IBIG: ₱"+(0,L.v_)(r.selectedEmployee.deductions?.pagibig||0),1)])]),(0,l.Lk)("div",Vl,[t[66]||(t[66]=(0,l.Lk)("p",{class:"text-sm font-medium text-gray-500"},"Additional Earnings",-1)),(0,l.Lk)("div",Jl,[(0,l.Lk)("p",Ol,"Travel: ₱"+(0,L.v_)(r.selectedEmployee.earnings?.travelExpenses||0),1),(0,l.Lk)("p",Wl,"Other: ₱"+(0,L.v_)(r.selectedEmployee.earnings?.otherEarnings||0),1)])]),(0,l.Lk)("div",Bl,[t[67]||(t[67]=(0,l.Lk)("p",{class:"text-sm font-medium text-gray-500"},"Net Salary",-1)),(0,l.Lk)("p",Ql,"₱"+(0,L.v_)(n.calculateNetSalary(r.selectedEmployee).toLocaleString()),1)])])])])]),(0,l.Lk)("div",zl,[(0,l.Lk)("div",Gl,[(0,l.Lk)("button",{onClick:t[16]||(t[16]=e=>n.editEmployee(r.selectedEmployee)),class:"px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 transition duration-200"}," Edit Details "),(0,l.Lk)("button",{onClick:t[17]||(t[17]=e=>r.showDetailsModal=!1),class:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100 transition duration-200"}," Close ")])])])])):(0,l.Q3)("",!0),r.showEditModal?((0,l.uX)(),(0,l.CE)("div",Kl,[(0,l.Lk)("div",Yl,[t[85]||(t[85]=(0,l.Lk)("div",{class:"p-6 border-b"},[(0,l.Lk)("h2",{class:"text-2xl font-bold text-gray-800"},"Edit Employee")],-1)),(0,l.Lk)("div",Zl,[(0,l.Lk)("div",eo,[t[75]||(t[75]=(0,l.Lk)("h3",{class:"text-lg font-semibold text-gray-800 mb-4"},"Basic Information",-1)),(0,l.Lk)("div",to,[(0,l.Lk)("div",so,[t[69]||(t[69]=(0,l.Lk)("label",{class:"text-sm font-medium text-gray-700"},"First Name",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[18]||(t[18]=e=>r.selectedEmployee.firstName=e),class:"w-full p-2 border border-gray-200 rounded-lg",required:""},null,512),[[a.Jo,r.selectedEmployee.firstName]])]),(0,l.Lk)("div",ao,[t[70]||(t[70]=(0,l.Lk)("label",{class:"text-sm font-medium text-gray-700"},"Last Name",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[19]||(t[19]=e=>r.selectedEmployee.lastName=e),class:"w-full p-2 border border-gray-200 rounded-lg",required:""},null,512),[[a.Jo,r.selectedEmployee.lastName]])]),(0,l.Lk)("div",lo,[t[71]||(t[71]=(0,l.Lk)("label",{class:"text-sm font-medium text-gray-700"},"Position",-1)),(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":t[20]||(t[20]=e=>r.selectedEmployee.position=e),class:"w-full p-2 border border-gray-200 rounded-lg",required:""},[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.adminPositions,(e=>((0,l.uX)(),(0,l.CE)("option",{key:e,value:e},(0,L.v_)(e),9,oo)))),128))],512),[[a.u1,r.selectedEmployee.position]])]),(0,l.Lk)("div",ro,[t[72]||(t[72]=(0,l.Lk)("label",{class:"text-sm font-medium text-gray-700"},"Base Salary",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[21]||(t[21]=e=>r.selectedEmployee.salary=e),type:"number",class:"w-full p-2 border border-gray-200 rounded-lg",required:"",min:"0"},null,512),[[a.Jo,r.selectedEmployee.salary,void 0,{number:!0}]])]),(0,l.Lk)("div",no,[t[73]||(t[73]=(0,l.Lk)("label",{class:"text-sm font-medium text-gray-700"},"Email",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[22]||(t[22]=e=>r.selectedEmployee.email=e),type:"email",class:"w-full p-2 border border-gray-200 rounded-lg",required:""},null,512),[[a.Jo,r.selectedEmployee.email]])]),(0,l.Lk)("div",io,[t[74]||(t[74]=(0,l.Lk)("label",{class:"text-sm font-medium text-gray-700"},"Contact Info",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[23]||(t[23]=e=>r.selectedEmployee.contactInfo=e),class:"w-full p-2 border border-gray-200 rounded-lg",required:""},null,512),[[a.Jo,r.selectedEmployee.contactInfo]])])])]),(0,l.Lk)("div",co,[t[83]||(t[83]=(0,l.Lk)("h3",{class:"text-lg font-semibold text-gray-800 mb-4"},"Financial Information",-1)),(0,l.Lk)("div",uo,[(0,l.Lk)("div",po,[t[79]||(t[79]=(0,l.Lk)("p",{class:"text-sm font-medium text-gray-700"},"Monthly Deductions",-1)),(0,l.Lk)("div",mo,[t[76]||(t[76]=(0,l.Lk)("label",{class:"text-sm text-gray-600"},"SSS",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[24]||(t[24]=e=>r.selectedEmployee.deductions.sss=e),type:"number",class:"w-full p-2 border border-gray-200 rounded-lg",min:"0"},null,512),[[a.Jo,r.selectedEmployee.deductions.sss,void 0,{number:!0}]])]),(0,l.Lk)("div",go,[t[77]||(t[77]=(0,l.Lk)("label",{class:"text-sm text-gray-600"},"PhilHealth",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[25]||(t[25]=e=>r.selectedEmployee.deductions.philhealth=e),type:"number",class:"w-full p-2 border border-gray-200 rounded-lg",min:"0"},null,512),[[a.Jo,r.selectedEmployee.deductions.philhealth,void 0,{number:!0}]])]),(0,l.Lk)("div",yo,[t[78]||(t[78]=(0,l.Lk)("label",{class:"text-sm text-gray-600"},"Pag-IBIG",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[26]||(t[26]=e=>r.selectedEmployee.deductions.pagibig=e),type:"number",class:"w-full p-2 border border-gray-200 rounded-lg",min:"0"},null,512),[[a.Jo,r.selectedEmployee.deductions.pagibig,void 0,{number:!0}]])])]),(0,l.Lk)("div",ho,[t[82]||(t[82]=(0,l.Lk)("p",{class:"text-sm font-medium text-gray-700"},"Additional Earnings",-1)),(0,l.Lk)("div",xo,[t[80]||(t[80]=(0,l.Lk)("label",{class:"text-sm text-gray-600"},"Travel Expenses",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[27]||(t[27]=e=>r.selectedEmployee.earnings.travelExpenses=e),type:"number",class:"w-full p-2 border border-gray-200 rounded-lg",min:"0"},null,512),[[a.Jo,r.selectedEmployee.earnings.travelExpenses,void 0,{number:!0}]])]),(0,l.Lk)("div",bo,[t[81]||(t[81]=(0,l.Lk)("label",{class:"text-sm text-gray-600"},"Other Earnings",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[28]||(t[28]=e=>r.selectedEmployee.earnings.otherEarnings=e),type:"number",class:"w-full p-2 border border-gray-200 rounded-lg",min:"0"},null,512),[[a.Jo,r.selectedEmployee.earnings.otherEarnings,void 0,{number:!0}]])])])])]),(0,l.Lk)("div",fo,[(0,l.Lk)("div",vo,[t[84]||(t[84]=(0,l.Lk)("span",{class:"text-sm font-medium text-gray-700"},"Net Salary Preview:",-1)),(0,l.Lk)("span",ko,"₱"+(0,L.v_)(n.calculateNetSalary(r.selectedEmployee).toLocaleString()),1)])])]),(0,l.Lk)("div",Lo,[(0,l.Lk)("div",wo,[(0,l.Lk)("button",{onClick:t[29]||(t[29]=(...e)=>n.updateEmployee&&n.updateEmployee(...e)),class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition duration-200",disabled:r.isUpdating},(0,L.v_)(r.isUpdating?"Saving...":"Save Changes"),9,Eo),(0,l.Lk)("button",{onClick:t[30]||(t[30]=e=>r.showEditModal=!1),class:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100 transition duration-200"}," Cancel ")])])])])):(0,l.Q3)("",!0),r.showDeleteModal?((0,l.uX)(),(0,l.CE)("div",So,[(0,l.Lk)("div",Po,[(0,l.Lk)("div",Mo,[t[86]||(t[86]=(0,l.Lk)("h3",{class:"text-xl font-semibold text-gray-900 mb-4"},"Confirm Delete",-1)),(0,l.Lk)("p",Co," Are you sure you want to remove "+(0,L.v_)(r.selectedEmployee.firstName)+" "+(0,L.v_)(r.selectedEmployee.lastName)+" from the employee list? This action cannot be undone. ",1)]),(0,l.Lk)("div",qo,[(0,l.Lk)("div",Ro,[(0,l.Lk)("button",{onClick:t[31]||(t[31]=e=>n.removeEmployee(r.selectedEmployee.id)),class:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition duration-200",disabled:r.isDeleting},(0,L.v_)(r.isDeleting?"Deleting...":"Delete"),9,Do),(0,l.Lk)("button",{onClick:t[32]||(t[32]=e=>r.showDeleteModal=!1),class:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100 transition duration-200"}," Cancel ")])])])])):(0,l.Q3)("",!0),r.statusMessage?((0,l.uX)(),(0,l.CE)("div",{key:4,class:(0,L.C4)([r.statusMessage.includes("successfully")?"bg-green-50 text-green-700":"bg-red-50 text-red-700","fixed bottom-4 right-4 p-4 rounded-lg shadow-md z-50"])},(0,L.v_)(r.statusMessage),3)):(0,l.Q3)("",!0)])}var Ao={data(){return{employees:[],adminPositions:["Manager","Assistant","Developer"],selectedEmployee:{},showEditModal:!1,showDetailsModal:!1,showDeleteModal:!1,pendingRequests:[],selectedRequest:{},showRequestModal:!1,isEditingRequest:!1,nextEmployeeId:1,isUpdating:!1,isDeleting:!1,statusMessage:""}},mounted(){this.fetchEmployees(),this.fetchPendingRequests()},methods:{calculateNetSalary(e){if(!e)return 0;const t=(e.deductions?.sss||0)+(e.deductions?.philhealth||0)+(e.deductions?.pagibig||0),s=(e.earnings?.travelExpenses||0)+(e.earnings?.otherEarnings||0);return e.salary+s-t},calculateRequestNetSalary(e){if(!e)return 0;const t=(e.deductions?.sss||0)+(e.deductions?.philhealth||0)+(e.deductions?.pagibig||0),s=(e.earnings?.travelExpenses||0)+(e.earnings?.otherEarnings||0);return e.salary+s-t},async fetchEmployees(){try{const e=await fe.A.get("http://localhost:7777/api/employees");this.employees=e.data||[],this.nextEmployeeId=Math.max(...this.employees.map((e=>e.id)),0)+1}catch(e){console.error("Error fetching employees:",e),this.showErrorMessage("Failed to load employees. Please try again.")}},async refreshEmployees(){await this.fetchEmployees(),this.showSuccessMessage("Employee list refreshed successfully!")},async fetchPendingRequests(){try{const e=await fe.A.get("http://localhost:7777/api/pending-requests");this.pendingRequests=e.data||[]}catch(e){console.error("Error fetching pending requests:",e),this.showErrorMessage("Failed to load pending requests. Please try again.")}},async refreshPendingRequests(){await this.fetchPendingRequests(),this.showSuccessMessage("Pending requests refreshed successfully!")},viewEmployeeDetails(e){this.selectedEmployee={...e},this.showDetailsModal=!0},editEmployee(e){this.selectedEmployee={...e,deductions:{sss:e.deductions?.sss||0,philhealth:e.deductions?.philhealth||0,pagibig:e.deductions?.pagibig||0},earnings:{travelExpenses:e.earnings?.travelExpenses||0,otherEarnings:e.earnings?.otherEarnings||0}},this.showDetailsModal=!1,this.showEditModal=!0},async updateEmployee(){if(this.selectedEmployee.firstName&&this.selectedEmployee.lastName)if(this.selectedEmployee.email&&this.selectedEmployee.contactInfo)if(this.selectedEmployee.salary<0)this.showErrorMessage("Salary cannot be negative");else{this.isUpdating=!0;try{const e=await fe.A.put(`http://localhost:7777/api/employees/${this.selectedEmployee.id}`,this.selectedEmployee);if(200===e.status){const e=this.employees.findIndex((e=>e.id===this.selectedEmployee.id));-1!==e&&(this.employees[e]={...this.selectedEmployee}),this.showEditModal=!1,this.showSuccessMessage("Employee updated successfully")}}catch(e){console.error("Error updating employee:",e),this.showErrorMessage("Failed to update employee. Please try again.")}finally{this.isUpdating=!1}}else this.showErrorMessage("Email and Contact Info are required");else this.showErrorMessage("First and Last names are required")},confirmDelete(e){this.selectedEmployee=e,this.showDeleteModal=!0},async removeEmployee(e){this.isDeleting=!0;try{const t=await fe.A.delete(`http://localhost:7777/api/employees/${e}`);200!==t.status&&204!==t.status||(this.employees=this.employees.filter((t=>t.id!==e)),this.showDeleteModal=!1,this.showSuccessMessage("Employee removed successfully"))}catch(t){console.error("Error deleting employee:",t),this.showErrorMessage("Failed to delete employee. Please try again.")}finally{this.isDeleting=!1}},viewRequestInfo(e){this.selectedRequest={...e,deductions:{sss:e.deductions?.sss||0,philhealth:e.deductions?.philhealth||0,pagibig:e.deductions?.pagibig||0},earnings:{travelExpenses:e.earnings?.travelExpenses||0,otherEarnings:e.earnings?.otherEarnings||0}},this.showRequestModal=!0,this.isEditingRequest=!1},async saveRequestChanges(){if(this.selectedRequest.name)if(this.selectedRequest.email&&this.selectedRequest.contactNumber)if(this.selectedRequest.salary<0)this.showErrorMessage("Salary cannot be negative");else try{const e=await fe.A.put(`http://localhost:7777/api/pending-requests/${this.selectedRequest.id}`,this.selectedRequest);if(200===e.status){const e=this.pendingRequests.findIndex((e=>e.id===this.selectedRequest.id));-1!==e&&(this.pendingRequests[e]={...this.selectedRequest}),this.showSuccessMessage("Request updated successfully"),this.isEditingRequest=!1}}catch(e){console.error("Error saving request changes:",e),this.showErrorMessage("Failed to save request changes. Please try again.")}else this.showErrorMessage("Email and Contact Number are required");else this.showErrorMessage("Name is required")},async approveRequest(e){try{const t={id:this.nextEmployeeId++,firstName:e.name.split(" ")[0],lastName:e.name.split(" ")[1]||"",position:e.positionApplied,salary:e.salary,email:e.email,contactInfo:e.contactNumber,deductions:{sss:e.deductions?.sss||200,philhealth:e.deductions?.philhealth||150,pagibig:e.deductions?.pagibig||100},earnings:{travelExpenses:e.earnings?.travelExpenses||0,otherEarnings:e.earnings?.otherEarnings||0}},s=await fe.A.post("http://localhost:7777/api/employees",t);201===s.status&&(this.employees.push(s.data),await fe.A.delete(`http://localhost:7777/api/pending-requests/${e.id}`),this.pendingRequests=this.pendingRequests.filter((t=>t.id!==e.id)),this.showRequestModal=!1,this.showSuccessMessage("Employee approved and added successfully"))}catch(t){console.error("Error approving request:",t),this.showErrorMessage("Error approving employee. Please try again.")}},async rejectRequest(e){try{const t=await fe.A.delete(`http://localhost:7777/api/pending-requests/${e}`);200!==t.status&&204!==t.status||(this.pendingRequests=this.pendingRequests.filter((t=>t.id!==e)),this.showRequestModal=!1,this.showSuccessMessage("Application rejected successfully"))}catch(t){console.error("Error rejecting request:",t),this.showErrorMessage("Error rejecting application. Please try again.")}},showSuccessMessage(e){this.statusMessage=e,setTimeout((()=>this.statusMessage=""),3e3)},showErrorMessage(e){this.statusMessage=e,setTimeout((()=>this.statusMessage=""),3e3)}}};const _o=(0,n.A)(Ao,[["render",Io],["__scopeId","data-v-45d95a30"]]);var No=_o;const Fo={class:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 p-4"},Xo={class:"max-w-6xl mx-auto"},To={class:"flex justify-between items-center mb-4 gap-4"},$o=["disabled"],Ho={class:"bg-white p-5 rounded-xl shadow-md"},Uo={class:"min-w-full divide-y divide-gray-200"},jo={class:"bg-white divide-y divide-gray-200"},Vo={class:"px-6 py-4 text-sm text-gray-900"},Jo={class:"px-6 py-4 text-sm text-gray-900"},Oo={class:"px-6 py-4 text-sm text-gray-900"},Wo={class:"px-6 py-4 text-sm text-gray-900 font-bold"},Bo={class:"px-6 py-4 text-sm text-gray-900"},Qo={class:"px-6 py-4 text-sm font-medium flex gap-2"},zo=["onClick","disabled"],Go=["onClick","disabled"],Ko={key:0},Yo={key:1},Zo={class:"flex justify-center items-center mt-4 gap-4"},er=["disabled"],tr={class:"text-gray-700"},sr=["disabled"];function ar(e,t,s,o,r,n){return(0,l.uX)(),(0,l.CE)("div",Fo,[(0,l.Lk)("div",Xo,[(0,l.Lk)("div",To,[(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>r.searchQuery=e),type:"text",placeholder:"Search Employee...",class:"border rounded-lg px-4 py-2 w-1/3 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all"},null,512),[[a.Jo,r.searchQuery]]),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>r.selectedMonth=e),type:"month",class:"border rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all",onChange:t[2]||(t[2]=(...e)=>n.fetchEmployees&&n.fetchEmployees(...e))},null,544),[[a.Jo,r.selectedMonth]]),(0,l.Lk)("button",{onClick:t[3]||(t[3]=(...e)=>n.refreshData&&n.refreshData(...e)),class:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-all duration-200",disabled:r.isLoading},(0,L.v_)(r.isLoading?"Refreshing...":"Refresh"),9,$o)]),(0,l.Lk)("div",Ho,[(0,l.Lk)("table",Uo,[t[10]||(t[10]=(0,l.Lk)("thead",{class:"bg-gray-50"},[(0,l.Lk)("tr",null,[(0,l.Lk)("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Employee Name"),(0,l.Lk)("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Total Earnings"),(0,l.Lk)("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Total Deductions"),(0,l.Lk)("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Net Salary"),(0,l.Lk)("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Salary Month"),(0,l.Lk)("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Actions")])],-1)),(0,l.Lk)("tbody",jo,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.paginatedEmployees,(e=>((0,l.uX)(),(0,l.CE)("tr",{key:e.id,class:"hover:bg-gray-50"},[(0,l.Lk)("td",Vo,(0,L.v_)(e.name),1),(0,l.Lk)("td",Jo,"₱"+(0,L.v_)(e.totalEarnings.toLocaleString()),1),(0,l.Lk)("td",Oo,"₱"+(0,L.v_)(e.totalDeductions.toLocaleString()),1),(0,l.Lk)("td",Wo,"₱"+(0,L.v_)(e.totalSalary.toLocaleString()),1),(0,l.Lk)("td",Bo,(0,L.v_)(e.salaryMonth),1),(0,l.Lk)("td",Qo,[(0,l.Lk)("button",{onClick:t=>n.generatePayslip(e),class:"bg-green-50 text-green-600 font-semibold py-1.5 px-3 rounded-lg hover:bg-green-100 transition-all duration-200 flex items-center gap-2 text-xs",disabled:r.payslipGenerationStatus[e.id]?.generating||r.isLoading},[t[6]||(t[6]=(0,l.Lk)("span",{class:"material-icons text-green-600"},"description",-1)),(0,l.eW)(" "+(0,L.v_)(r.payslipGenerationStatus[e.id]?.generating?"Generating...":"Generate"),1)],8,zo),(0,l.Lk)("button",{onClick:t=>n.sendPayslipEmail(e),class:"bg-blue-50 text-blue-600 font-semibold py-1.5 px-3 rounded-lg hover:bg-blue-100 transition-all duration-200 flex items-center gap-2 text-xs",disabled:r.payslipGenerationStatus[e.id]?.sending||r.isLoading},[t[7]||(t[7]=(0,l.Lk)("span",{class:"material-icons text-blue-600"},"email",-1)),(0,l.eW)(" "+(0,L.v_)(r.payslipGenerationStatus[e.id]?.sending?"Sending...":"Send Email"),1)],8,Go)])])))),128)),0!==n.paginatedEmployees.length||r.isLoading?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("tr",Ko,t[8]||(t[8]=[(0,l.Lk)("td",{colspan:"6",class:"px-6 py-4 text-center text-sm text-gray-500"},"No employees found for this month.",-1)]))),r.isLoading?((0,l.uX)(),(0,l.CE)("tr",Yo,t[9]||(t[9]=[(0,l.Lk)("td",{colspan:"6",class:"px-6 py-4 text-center text-sm text-gray-500"},"Loading employees...",-1)]))):(0,l.Q3)("",!0)])])]),(0,l.Lk)("div",Zo,[(0,l.Lk)("button",{onClick:t[4]||(t[4]=(...e)=>n.prevPage&&n.prevPage(...e)),disabled:1===r.currentPage||r.isLoading,class:"bg-gray-200 p-2 rounded-full hover:bg-gray-300 transition disabled:opacity-50 disabled:cursor-not-allowed"},t[11]||(t[11]=[(0,l.Lk)("span",{class:"material-icons"},"chevron_left",-1)]),8,er),(0,l.Lk)("span",tr,"Page "+(0,L.v_)(r.currentPage)+" of "+(0,L.v_)(n.totalPages),1),(0,l.Lk)("button",{onClick:t[5]||(t[5]=(...e)=>n.nextPage&&n.nextPage(...e)),disabled:r.currentPage===n.totalPages||r.isLoading,class:"bg-gray-200 p-2 rounded-full hover:bg-gray-300 transition disabled:opacity-50 disabled:cursor-not-allowed"},t[12]||(t[12]=[(0,l.Lk)("span",{class:"material-icons"},"chevron_right",-1)]),8,sr)]),r.statusMessage?((0,l.uX)(),(0,l.CE)("div",{key:0,class:(0,L.C4)([r.statusMessage.includes("successfully")?"bg-green-50 text-green-700":"bg-red-50 text-red-700","fixed bottom-4 right-4 p-4 rounded-lg shadow-md z-50"])},(0,L.v_)(r.statusMessage),3)):(0,l.Q3)("",!0)])])}var lr=s(4323),or={name:"SalarySlips",data(){return{employees:[],searchQuery:"",selectedMonth:(new Date).toISOString().slice(0,7),currentPage:1,itemsPerPage:5,payslipGenerationStatus:{},isLoading:!1,statusMessage:""}},computed:{filteredEmployees(){return this.employees.filter((e=>e.name.toLowerCase().includes(this.searchQuery.toLowerCase())))},totalPages(){return Math.ceil(this.filteredEmployees.length/this.itemsPerPage)||1},paginatedEmployees(){const e=(this.currentPage-1)*this.itemsPerPage,t=e+this.itemsPerPage;return this.filteredEmployees.slice(e,t)}},created(){this.fetchEmployees()},methods:{async fetchEmployees(){this.isLoading=!0,this.statusMessage="";try{const e=await fe.A.get("http://localhost:7777/api/employees");this.employees=e.data.map((e=>({id:e.id,name:`${e.firstName} ${e.lastName}`,totalEarnings:this.calculateTotalEarnings(e),totalDeductions:this.calculateTotalDeductions(e),totalSalary:this.calculateNetSalary(e),salaryMonth:this.formatSalaryMonth(this.selectedMonth),email:e.email,position:e.position,rawData:e})))||[],this.showSuccessMessage("Employees loaded successfully!")}catch(e){console.error("Error fetching employees:",e),this.showErrorMessage("Failed to load employees. Please try again.")}finally{this.isLoading=!1}},async refreshData(){await this.fetchEmployees()},calculateTotalEarnings(e){const t=(e.earnings?.travelExpenses||0)+(e.earnings?.otherEarnings||0),s=e.payheads?.filter((e=>"Earnings"===e.type)).reduce(((e,t)=>e+t.amount),0)||0;return e.salary+t+s},calculateTotalDeductions(e){const t=(e.deductions?.sss||0)+(e.deductions?.philhealth||0)+(e.deductions?.pagibig||0),s=e.payheads?.filter((e=>"Deductions"===e.type)).reduce(((e,t)=>e+t.amount),0)||0;return t+s},calculateNetSalary(e){return this.calculateTotalEarnings(e)-this.calculateTotalDeductions(e)},formatSalaryMonth(e){const[t,s]=e.split("-");return`${s}/01/${t}`},async generatePayslip(e){this.$set(this.payslipGenerationStatus,e.id,{generating:!0}),this.statusMessage="";try{const t=new lr.Ay;t.setFontSize(16),t.text("Payslip",20,20),t.setFontSize(12),t.text(`Employee ID: ${e.id}`,20,40),t.text(`Name: ${e.name}`,20,50),t.text(`Position: ${e.position}`,20,60),t.text(`Salary Month: ${e.salaryMonth}`,20,70),t.text("Earnings:",20,90);let s=100;t.text(`Base Salary: ₱${e.rawData.salary.toLocaleString()}`,20,s),s+=10,e.rawData.earnings.travelExpenses&&(t.text(`Travel Expenses: ₱${e.rawData.earnings.travelExpenses.toLocaleString()}`,20,s),s+=10),e.rawData.earnings.otherEarnings&&(t.text(`Other Earnings: ₱${e.rawData.earnings.otherEarnings.toLocaleString()}`,20,s),s+=10),e.rawData.payheads?.filter((e=>"Earnings"===e.type)).forEach((e=>{t.text(`${e.name}: ₱${e.amount.toLocaleString()}`,20,s),s+=10})),t.text(`Total Earnings: ₱${e.totalEarnings.toLocaleString()}`,20,s),s+=20,t.text("Deductions:",20,s),s+=10,e.rawData.deductions.sss&&(t.text(`SSS: ₱${e.rawData.deductions.sss.toLocaleString()}`,20,s),s+=10),e.rawData.deductions.philhealth&&(t.text(`PhilHealth: ₱${e.rawData.deductions.philhealth.toLocaleString()}`,20,s),s+=10),e.rawData.deductions.pagibig&&(t.text(`Pag-IBIG: ₱${e.rawData.deductions.pagibig.toLocaleString()}`,20,s),s+=10),e.rawData.payheads?.filter((e=>"Deductions"===e.type)).forEach((e=>{t.text(`${e.name}: ₱${e.amount.toLocaleString()}`,20,s),s+=10})),t.text(`Total Deductions: ₱${e.totalDeductions.toLocaleString()}`,20,s),s+=20,t.text(`Net Salary: ₱${e.totalSalary.toLocaleString()}`,20,s),s+=10,t.text(`Generated on: ${(new Date).toLocaleDateString()}`,20,s);const a=t.output("blob"),l=new FileReader;l.readAsDataURL(a),l.onloadend=async()=>{const t=l.result;localStorage.setItem(`payslip_${e.id}_${e.salaryMonth}`,t);const s=document.createElement("a");s.href=URL.createObjectURL(a),s.download=`payslip-${e.name}-${e.salaryMonth}.pdf`,document.body.appendChild(s),s.click(),document.body.removeChild(s),await fe.A.post("http://localhost:7777/api/payslips/generate",{employeeId:e.id,payslipData:t,salaryMonth:e.salaryMonth}),this.showSuccessMessage(`Payslip generated for ${e.name}`),this.$set(this.payslipGenerationStatus,e.id,{generating:!1})}}catch(t){console.error("Error generating payslip:",t),this.showErrorMessage(`Failed to generate payslip for ${e.name}`),this.$set(this.payslipGenerationStatus,e.id,{generating:!1})}},async sendPayslipEmail(e){this.$set(this.payslipGenerationStatus,e.id,{sending:!0}),this.statusMessage="";try{const t=`payslip_${e.id}_${e.salaryMonth}`;let s=localStorage.getItem(t);s||(await this.generatePayslip(e),s=localStorage.getItem(t));const a=await fe.A.post("http://localhost:7777/api/payslips/send-email",{employeeId:e.id,employeeEmail:e.email,payslipData:s,salaryMonth:e.salaryMonth});200===a.status&&this.showSuccessMessage(`Payslip email sent to ${e.name} at ${e.email}`)}catch(t){console.error("Error sending payslip email:",t),this.showErrorMessage(`Failed to send payslip email to ${e.name}`)}finally{this.$set(this.payslipGenerationStatus,e.id,{sending:!1})}},nextPage(){this.currentPage<this.totalPages&&this.currentPage++},prevPage(){this.currentPage>1&&this.currentPage--},showSuccessMessage(e){this.statusMessage=e,setTimeout((()=>this.statusMessage=""),3e3)},showErrorMessage(e){this.statusMessage=e,setTimeout((()=>this.statusMessage=""),3e3)}}};const rr=(0,n.A)(or,[["render",ar],["__scopeId","data-v-1a27d353"]]);var nr=rr;const ir={class:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 p-4"},dr={class:"max-w-6xl mx-auto"};function cr(e,t,s,a,o,r){const n=(0,l.g2)("PayHeadModal"),i=(0,l.g2)("PayHeadTable"),d=(0,l.g2)("EmployeePayrollTable"),c=(0,l.g2)("AddPayheadModal");return(0,l.uX)(),(0,l.CE)("div",ir,[(0,l.Lk)("div",dr,[(0,l.Lk)("button",{class:"mb-4 py-2 px-4 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-all duration-200",onClick:t[0]||(t[0]=e=>o.showAddModal=!0)},"Add Pay Head"),o.showAddModal?((0,l.uX)(),(0,l.Wv)(n,{key:0,onClose:t[1]||(t[1]=e=>o.showAddModal=!1),onSave:r.addPayHead,payHead:o.newPayHead},null,8,["onSave","payHead"])):(0,l.Q3)("",!0),o.showUpdateModal?((0,l.uX)(),(0,l.Wv)(n,{key:1,onClose:t[2]||(t[2]=e=>o.showUpdateModal=!1),onSave:r.updatePayHead,payHead:o.selectedPayHead,isUpdate:""},null,8,["onSave","payHead"])):(0,l.Q3)("",!0),(0,l.bF)(i,{payHeads:o.payHeads,onUpdate:r.showUpdatePayHeadModal,onDelete:r.deletePayHead},null,8,["payHeads","onUpdate","onDelete"]),(0,l.bF)(d,{employees:o.employees,onAddPayhead:r.openAddPayheadModal},null,8,["employees","onAddPayhead"]),o.showAddPayheadModal?((0,l.uX)(),(0,l.Wv)(c,{key:2,onClose:t[3]||(t[3]=e=>o.showAddPayheadModal=!1),onSave:r.savePayheads,availablePayheads:o.availablePayheads,selectedEmployeePayheads:o.selectedEmployeePayheads,onAddPayhead:r.addPayheadToEmployee,onRemovePayhead:r.removePayheadFromEmployee,totalPayableSalary:r.totalPayableSalary},null,8,["onSave","availablePayheads","selectedEmployeePayheads","onAddPayhead","onRemovePayhead","totalPayableSalary"])):(0,l.Q3)("",!0)]),o.statusMessage?((0,l.uX)(),(0,l.CE)("div",{key:0,class:(0,L.C4)([o.statusMessage.includes("successfully")?"bg-green-50 text-green-700":"bg-red-50 text-red-700","fixed bottom-4 right-4 p-4 rounded-lg shadow-md z-50"])},(0,L.v_)(o.statusMessage),3)):(0,l.Q3)("",!0)])}const ur={class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50"},pr={class:"bg-white p-6 rounded-xl shadow-md max-w-md w-full"},mr={class:"text-xl font-bold mb-4"},gr={class:"mb-4"},yr={class:"mb-4"},hr={class:"mb-4"},xr={class:"flex justify-end gap-3"},br={type:"submit",class:"py-2 px-4 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-all duration-200"};function fr(e,t,s,o,r,n){return(0,l.uX)(),(0,l.CE)("div",ur,[(0,l.Lk)("div",pr,[(0,l.Lk)("h2",mr,(0,L.v_)(s.isUpdate?"Update":"Add")+" Pay Head",1),(0,l.Lk)("form",{onSubmit:t[4]||(t[4]=(0,a.D$)(((...e)=>n.savePayHead&&n.savePayHead(...e)),["prevent"]))},[(0,l.Lk)("div",gr,[t[5]||(t[5]=(0,l.Lk)("label",{for:"payHeadName",class:"block text-gray-700 mb-1 font-medium text-sm"},"Pay Head Name",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>r.localPayHead.name=e),type:"text",id:"payHeadName",class:"w-full p-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all text-sm",required:""},null,512),[[a.Jo,r.localPayHead.name]])]),(0,l.Lk)("div",yr,[t[7]||(t[7]=(0,l.Lk)("label",{for:"payHeadType",class:"block text-gray-700 mb-1 font-medium text-sm"},"Type",-1)),(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>r.localPayHead.type=e),id:"payHeadType",class:"w-full p-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all text-sm",required:""},t[6]||(t[6]=[(0,l.Lk)("option",{value:"Earnings"},"Earnings",-1),(0,l.Lk)("option",{value:"Deductions"},"Deductions",-1)]),512),[[a.u1,r.localPayHead.type]])]),(0,l.Lk)("div",hr,[t[8]||(t[8]=(0,l.Lk)("label",{for:"payHeadAmount",class:"block text-gray-700 mb-1 font-medium text-sm"},"Amount",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>r.localPayHead.amount=e),type:"number",id:"payHeadAmount",class:"w-full p-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all text-sm",required:""},null,512),[[a.Jo,r.localPayHead.amount]])]),(0,l.Lk)("div",xr,[(0,l.Lk)("button",{type:"button",onClick:t[3]||(t[3]=t=>e.$emit("close")),class:"py-2 px-4 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-all duration-200"},"Cancel"),(0,l.Lk)("button",br,(0,L.v_)(s.isUpdate?"Update":"Add")+" Pay Head",1)])],32)])])}var vr={props:{payHead:{type:Object,required:!0},isUpdate:{type:Boolean,default:!1}},data(){return{localPayHead:{...this.payHead}}},watch:{payHead:{handler(e){this.localPayHead={...e}},deep:!0,immediate:!0}},methods:{savePayHead(){this.$emit("save",this.localPayHead)}}};const kr=(0,n.A)(vr,[["render",fr]]);var Lr=kr;const wr={class:"bg-white p-5 rounded-xl shadow-md mb-8"},Er={class:"min-w-full divide-y divide-gray-200"},Sr={class:"bg-white divide-y divide-gray-200"},Pr={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Mr={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Cr={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},qr={class:"px-6 py-4 whitespace-nowrap text-sm font-medium flex gap-2"},Rr=["onClick"],Dr=["onClick"];function Ir(e,t,s,a,o,r){return(0,l.uX)(),(0,l.CE)("div",wr,[(0,l.Lk)("table",Er,[t[0]||(t[0]=(0,l.Lk)("thead",{class:"bg-gray-50"},[(0,l.Lk)("tr",null,[(0,l.Lk)("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Pay Head Name"),(0,l.Lk)("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Amount"),(0,l.Lk)("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Type"),(0,l.Lk)("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),(0,l.Lk)("tbody",Sr,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(s.payHeads,(t=>((0,l.uX)(),(0,l.CE)("tr",{key:t.id},[(0,l.Lk)("td",Pr,(0,L.v_)(t.name),1),(0,l.Lk)("td",Mr,"P "+(0,L.v_)(t.amount.toLocaleString()),1),(0,l.Lk)("td",Cr,(0,L.v_)(t.type),1),(0,l.Lk)("td",qr,[(0,l.Lk)("button",{onClick:s=>e.$emit("update",t),class:"bg-yellow-50 text-yellow-600 font-semibold py-1.5 px-3 rounded-lg hover:bg-yellow-100 transition-all duration-200 flex items-center gap-2 text-xs"},"Update",8,Rr),(0,l.Lk)("button",{onClick:s=>e.$emit("delete",t.id),class:"bg-red-50 text-red-600 font-semibold py-1.5 px-3 rounded-lg hover:bg-red-100 transition-all duration-200 flex items-center gap-2 text-xs"},"Delete",8,Dr)])])))),128))])])])}var Ar={props:{payHeads:{type:Array,required:!0}}};const _r=(0,n.A)(Ar,[["render",Ir]]);var Nr=_r;const Fr={class:"bg-white p-5 rounded-xl shadow-md"},Xr={class:"min-w-full divide-y divide-gray-200"},Tr={class:"bg-white divide-y divide-gray-200"},$r={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Hr={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Ur={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},jr={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Vr={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Jr={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Or={class:"px-6 py-4 whitespace-nowrap text-sm font-medium flex gap-2"},Wr=["onClick"];function Br(e,t,s,a,o,r){return(0,l.uX)(),(0,l.CE)("div",Fr,[t[1]||(t[1]=(0,l.Lk)("h2",{class:"text-xl font-bold mb-4"},"Employee Payroll Information",-1)),(0,l.Lk)("table",Xr,[t[0]||(t[0]=(0,l.Lk)("thead",{class:"bg-gray-50"},[(0,l.Lk)("tr",null,[(0,l.Lk)("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"ID"),(0,l.Lk)("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Name of Employee"),(0,l.Lk)("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Position"),(0,l.Lk)("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Total Deduction"),(0,l.Lk)("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Total Earnings"),(0,l.Lk)("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Total Salary"),(0,l.Lk)("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),(0,l.Lk)("tbody",Tr,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(s.employees,(t=>((0,l.uX)(),(0,l.CE)("tr",{key:t.id},[(0,l.Lk)("td",$r,(0,L.v_)(t.id),1),(0,l.Lk)("td",Hr,(0,L.v_)(t.name),1),(0,l.Lk)("td",Ur,(0,L.v_)(t.position),1),(0,l.Lk)("td",jr,"P "+(0,L.v_)(t.totalDeduction.toLocaleString()),1),(0,l.Lk)("td",Vr,"P "+(0,L.v_)(t.totalEarnings.toLocaleString()),1),(0,l.Lk)("td",Jr,"P "+(0,L.v_)(t.totalSalary.toLocaleString()),1),(0,l.Lk)("td",Or,[(0,l.Lk)("button",{onClick:s=>e.$emit("addPayhead",t),class:"bg-blue-50 text-blue-600 font-semibold py-1.5 px-3 rounded-lg hover:bg-blue-100 transition-all duration-200 flex items-center gap-2 text-xs"},"Add Payhead",8,Wr)])])))),128))])])])}var Qr={props:{employees:{type:Array,required:!0}}};const zr=(0,n.A)(Qr,[["render",Br]]);var Gr=zr;const Kr={class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50"},Yr={class:"bg-white p-6 rounded-xl shadow-md max-w-md w-full"},Zr={class:"mb-4"},en={class:"space-y-2"},tn=["onClick"],sn={class:"mb-4"},an={class:"space-y-2"},ln=["onClick"],on={class:"mb-4"},rn={class:"p-2 border border-gray-200 rounded-lg"},nn={class:"flex justify-end gap-3"};function dn(e,t,s,a,o,r){return(0,l.uX)(),(0,l.CE)("div",Kr,[(0,l.Lk)("div",Yr,[t[5]||(t[5]=(0,l.Lk)("h2",{class:"text-xl font-bold mb-4"},"Add Payhead to Employee",-1)),(0,l.Lk)("div",Zr,[t[2]||(t[2]=(0,l.Lk)("label",{class:"block text-gray-700 mb-1 font-medium text-sm"},"Available Payheads",-1)),(0,l.Lk)("div",en,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(s.availablePayheads,(t=>((0,l.uX)(),(0,l.CE)("div",{key:t.id,class:"flex justify-between items-center p-2 border border-gray-200 rounded-lg"},[(0,l.Lk)("span",null,(0,L.v_)(t.name)+" ("+(0,L.v_)(t.type)+")",1),(0,l.Lk)("button",{onClick:s=>e.$emit("addPayhead",t),class:"bg-green-50 text-green-600 font-semibold py-1 px-2 rounded-lg hover:bg-green-100 transition-all duration-200 text-xs"},"Add",8,tn)])))),128))])]),(0,l.Lk)("div",sn,[t[3]||(t[3]=(0,l.Lk)("label",{class:"block text-gray-700 mb-1 font-medium text-sm"},"Payheads Added to Employee",-1)),(0,l.Lk)("div",an,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(s.selectedEmployeePayheads,(t=>((0,l.uX)(),(0,l.CE)("div",{key:t.id,class:"flex justify-between items-center p-2 border border-gray-200 rounded-lg"},[(0,l.Lk)("span",null,(0,L.v_)(t.name)+" ("+(0,L.v_)(t.type)+")",1),(0,l.Lk)("button",{onClick:s=>e.$emit("removePayhead",t),class:"bg-red-50 text-red-600 font-semibold py-1 px-2 rounded-lg hover:bg-red-100 transition-all duration-200 text-xs"},"X",8,ln)])))),128))])]),(0,l.Lk)("div",on,[t[4]||(t[4]=(0,l.Lk)("label",{class:"block text-gray-700 mb-1 font-medium text-sm"},"Total Payhead",-1)),(0,l.Lk)("div",rn,[(0,l.Lk)("span",null,"Total Payable Salary: P "+(0,L.v_)(s.totalPayableSalary.toLocaleString()),1)])]),(0,l.Lk)("div",nn,[(0,l.Lk)("button",{type:"button",onClick:t[0]||(t[0]=t=>e.$emit("close")),class:"py-2 px-4 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-all duration-200"},"Cancel"),(0,l.Lk)("button",{type:"button",onClick:t[1]||(t[1]=t=>e.$emit("save")),class:"py-2 px-4 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-all duration-200"},"Save")])])])}var cn={props:{availablePayheads:{type:Array,required:!0},selectedEmployeePayheads:{type:Array,required:!0},totalPayableSalary:{type:Number,required:!0}}};const un=(0,n.A)(cn,[["render",dn]]);var pn=un,mn={name:"ManagePayHeads",components:{PayHeadModal:Lr,PayHeadTable:Nr,EmployeePayrollTable:Gr,AddPayheadModal:pn},data(){return{payHeads:[],employees:[],newPayHead:{name:"",amount:"",type:"Earnings"},selectedPayHead:{id:"",name:"",amount:"",type:"Earnings"},showAddModal:!1,showUpdateModal:!1,showAddPayheadModal:!1,selectedEmployee:null,selectedEmployeePayheads:[],availablePayheads:[],statusMessage:""}},computed:{totalPayableSalary(){const e=this.selectedEmployeePayheads.filter((e=>"Earnings"===e.type)).reduce(((e,t)=>e+t.amount),0),t=this.selectedEmployeePayheads.filter((e=>"Deductions"===e.type)).reduce(((e,t)=>e+t.amount),0);return e-t}},async created(){await this.fetchPayHeads(),await this.fetchEmployees()},methods:{async fetchPayHeads(){try{const e=await fe.A.get("http://localhost:7777/api/payheads");this.payHeads=e.data||[]}catch(e){console.error("Error fetching pay heads:",e),this.showErrorMessage("Failed to fetch pay heads.")}},async fetchEmployees(){try{const e=await fe.A.get("http://localhost:7777/api/employees");this.employees=e.data.map((e=>({...e,totalEarnings:this.calculateNetSalary(e),totalDeduction:(e.deductions?.sss||0)+(e.deductions?.philhealth||0)+(e.deductions?.pagibig||0),totalSalary:e.salary})))||[]}catch(e){console.error("Error fetching employees:",e),this.showErrorMessage("Failed to fetch employees.")}},async addPayHead(e){try{const t=await fe.A.post("http://localhost:7777/api/payheads",e);this.payHeads.push(t.data),this.showAddModal=!1,this.showSuccessMessage("Pay head added successfully!")}catch(t){console.error("Error adding pay head:",t),this.showErrorMessage("Failed to add pay head.")}},showUpdatePayHeadModal(e){this.selectedPayHead={...e},this.showUpdateModal=!0},async updatePayHead(e){try{const t=await fe.A.put(`http://localhost:7777/api/payheads/${e.id}`,e),s=this.payHeads.findIndex((t=>t.id===e.id));-1!==s&&(this.payHeads.splice(s,1,t.data),this.showUpdateModal=!1,this.showSuccessMessage("Pay head updated successfully!"))}catch(t){console.error("Error updating pay head:",t),this.showErrorMessage("Failed to update pay head.")}},async deletePayHead(e){try{await fe.A.delete(`http://localhost:7777/api/payheads/${e}`),this.payHeads=this.payHeads.filter((t=>t.id!==e)),this.showSuccessMessage("Pay head deleted successfully!")}catch(t){console.error("Error deleting pay head:",t),this.showErrorMessage("Failed to delete pay head.")}},openAddPayheadModal(e){this.selectedEmployee=e,this.selectedEmployeePayheads=[],this.availablePayheads=[...this.payHeads],this.showAddPayheadModal=!0},addPayheadToEmployee(e){this.selectedEmployeePayheads.push(e),this.availablePayheads=this.availablePayheads.filter((t=>t.id!==e.id))},removePayheadFromEmployee(e){this.selectedEmployeePayheads=this.selectedEmployeePayheads.filter((t=>t.id!==e.id)),this.availablePayheads.push(e)},async savePayheads(){try{await fe.A.put(`http://localhost:7777/api/employees/${this.selectedEmployee.id}/payheads`,{payheads:this.selectedEmployeePayheads}),this.showAddPayheadModal=!1,this.showSuccessMessage("Payheads saved to employee successfully!"),await this.fetchEmployees()}catch(e){console.error("Error saving payheads:",e),this.showErrorMessage("Failed to save payheads.")}},calculateNetSalary(e){const t=(e.deductions?.sss||0)+(e.deductions?.philhealth||0)+(e.deductions?.pagibig||0),s=(e.earnings?.travelExpenses||0)+(e.earnings?.otherEarnings||0);return e.salary+s-t},showSuccessMessage(e){this.statusMessage=e,setTimeout((()=>this.statusMessage=""),3e3)},showErrorMessage(e){this.statusMessage=e,setTimeout((()=>this.statusMessage=""),3e3)}}};const gn=(0,n.A)(mn,[["render",cr],["__scopeId","data-v-08cc1582"]]);var yn=gn;function hn(e,t,s,a,o,r){return(0,l.uX)(),(0,l.CE)("div",null,[(0,l.Lk)("button",{class:"back-button mb-4 py-2 px-4 bg-gray-800 text-white rounded",onClick:t[0]||(t[0]=(...e)=>r.goBack&&r.goBack(...e))},"Back"),t[1]||(t[1]=(0,l.Lk)("h1",{class:"text-2xl font-bold mb-4"},"Month Selection for Salary",-1)),t[2]||(t[2]=(0,l.Lk)("p",{class:"text-gray-700"},"Select the month for which you want to process salaries.",-1))])}var xn={name:"MonthSelection",methods:{goBack(){this.$router.go(-1)}}};const bn=(0,n.A)(xn,[["render",hn]]);var fn=bn;function vn(e,t,s,a,o,r){return(0,l.uX)(),(0,l.CE)("div",null,[(0,l.Lk)("button",{class:"back-button mb-4 py-2 px-4 bg-gray-800 text-white rounded",onClick:t[0]||(t[0]=(...e)=>r.goBack&&r.goBack(...e))},"Back"),t[1]||(t[1]=(0,l.Lk)("h1",{class:"text-2xl font-bold mb-4"},"Payroll with Deductions",-1)),t[2]||(t[2]=(0,l.Lk)("p",{class:"text-gray-700"},"Process payroll with applicable deductions here.",-1))])}var kn={name:"PayrollWithDeductions",methods:{goBack(){this.$router.go(-1)}}};const Ln=(0,n.A)(kn,[["render",vn]]);var wn=Ln;const En={class:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 p-4"},Sn={class:"max-w-6xl mx-auto"},Pn={class:"bg-white p-6 rounded-xl shadow-md"},Mn={class:"flex justify-between items-center mb-6"},Cn={class:"overflow-x-auto"},qn={class:"min-w-full divide-y divide-gray-200"},Rn={class:"bg-white divide-y divide-gray-200"},Dn={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},In={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},An={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},_n={class:"px-6 py-4 whitespace-nowrap text-sm font-medium flex gap-2"},Nn=["onClick"],Fn=["onClick"],Xn=["onClick"],Tn={key:0},$n={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50"},Hn={class:"bg-white p-6 rounded-xl shadow-md max-w-lg w-full"},Un={class:"space-y-2"},jn={class:"flex justify-end gap-3 mt-6"};function Vn(e,t,s,a,o,r){return(0,l.uX)(),(0,l.CE)("div",En,[(0,l.Lk)("div",Sn,[(0,l.Lk)("div",Pn,[(0,l.Lk)("div",Mn,[t[2]||(t[2]=(0,l.Lk)("h2",{class:"text-xl font-bold text-gray-900"},"Employee Leave Management",-1)),(0,l.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>r.refreshLeaveRequests&&r.refreshLeaveRequests(...e)),class:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-all duration-200"}," Refresh ")]),(0,l.Lk)("div",Cn,[(0,l.Lk)("table",qn,[t[4]||(t[4]=(0,l.Lk)("thead",{class:"bg-gray-50"},[(0,l.Lk)("tr",null,[(0,l.Lk)("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Employee Name"),(0,l.Lk)("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Leave Start Date"),(0,l.Lk)("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Leave End Date"),(0,l.Lk)("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),(0,l.Lk)("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),(0,l.Lk)("tbody",Rn,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.leaveRequests,(e=>((0,l.uX)(),(0,l.CE)("tr",{key:e.id,class:"hover:bg-gray-50"},[(0,l.Lk)("td",Dn,(0,L.v_)(e.employeeName),1),(0,l.Lk)("td",In,(0,L.v_)(e.startDate),1),(0,l.Lk)("td",An,(0,L.v_)(e.endDate),1),(0,l.Lk)("td",{class:(0,L.C4)(["px-6 py-4 whitespace-nowrap text-sm font-semibold",r.getStatusClass(e.status)])},(0,L.v_)(e.status),3),(0,l.Lk)("td",_n,[(0,l.Lk)("button",{onClick:t=>r.showDetailsModal(e),class:"bg-blue-50 text-blue-600 py-1.5 px-3 rounded-lg hover:bg-blue-100 transition-all duration-200"}," View Details ",8,Nn),"Pending"===e.status?((0,l.uX)(),(0,l.CE)("button",{key:0,onClick:t=>r.approveLeave(e.id),class:"bg-green-50 text-green-600 py-1.5 px-3 rounded-lg hover:bg-green-100 transition-all duration-200"}," Approve ",8,Fn)):(0,l.Q3)("",!0),"Pending"===e.status?((0,l.uX)(),(0,l.CE)("button",{key:1,onClick:t=>r.disapproveLeave(e.id),class:"bg-red-50 text-red-600 py-1.5 px-3 rounded-lg hover:bg-red-100 transition-all duration-200"}," Disapprove ",8,Xn)):(0,l.Q3)("",!0)])])))),128)),0===o.leaveRequests.length?((0,l.uX)(),(0,l.CE)("tr",Tn,t[3]||(t[3]=[(0,l.Lk)("td",{colspan:"5",class:"px-6 py-4 text-center text-sm text-gray-500"},"No leave requests found.",-1)]))):(0,l.Q3)("",!0)])])])]),o.showDetailsModalVisible?((0,l.uX)(),(0,l.CE)("div",$n,[(0,l.Lk)("div",Hn,[t[12]||(t[12]=(0,l.Lk)("h2",{class:"text-xl font-bold mb-4"},"Leave Request Details",-1)),(0,l.Lk)("div",Un,[(0,l.Lk)("p",null,[t[5]||(t[5]=(0,l.Lk)("strong",null,"Employee:",-1)),(0,l.eW)(" "+(0,L.v_)(o.selectedLeave.employeeName),1)]),(0,l.Lk)("p",null,[t[6]||(t[6]=(0,l.Lk)("strong",null,"Employee ID:",-1)),(0,l.eW)(" "+(0,L.v_)(o.selectedLeave.employeeId),1)]),(0,l.Lk)("p",null,[t[7]||(t[7]=(0,l.Lk)("strong",null,"Start Date:",-1)),(0,l.eW)(" "+(0,L.v_)(o.selectedLeave.startDate),1)]),(0,l.Lk)("p",null,[t[8]||(t[8]=(0,l.Lk)("strong",null,"End Date:",-1)),(0,l.eW)(" "+(0,L.v_)(o.selectedLeave.endDate),1)]),(0,l.Lk)("p",null,[t[9]||(t[9]=(0,l.Lk)("strong",null,"Reason:",-1)),(0,l.eW)(" "+(0,L.v_)(o.selectedLeave.reason),1)]),(0,l.Lk)("p",null,[t[10]||(t[10]=(0,l.Lk)("strong",null,"Status:",-1)),t[11]||(t[11]=(0,l.eW)()),(0,l.Lk)("span",{class:(0,L.C4)(r.getStatusClass(o.selectedLeave.status))},(0,L.v_)(o.selectedLeave.status),3)])]),(0,l.Lk)("div",jn,[(0,l.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>r.closeDetailsModal&&r.closeDetailsModal(...e)),class:"py-2 px-4 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-all duration-200"}," Close ")])])])):(0,l.Q3)("",!0)])])}var Jn={name:"AdminLeaveManagement",data(){return{leaveRequests:[],showDetailsModalVisible:!1,selectedLeave:{}}},mounted(){this.fetchLeaveRequests()},methods:{async fetchLeaveRequests(){try{const e=await fe.A.get("http://localhost:7777/api/leaves/all");this.leaveRequests=e.data||[]}catch(e){console.error("Failed to fetch leave requests:",e),alert("Failed to load leave requests. Please try again.")}},async refreshLeaveRequests(){await this.fetchLeaveRequests(),alert("Leave requests refreshed!")},showDetailsModal(e){this.selectedLeave={...e},this.showDetailsModalVisible=!0},closeDetailsModal(){this.showDetailsModalVisible=!1,this.selectedLeave={}},async approveLeave(e){try{const t=await fe.A.put(`http://localhost:7777/api/leaves/${e}/approve`);200===t.status&&(this.leaveRequests=this.leaveRequests.map((t=>t.id===e?{...t,status:"Approved"}:t)),alert("Leave approved successfully!"))}catch(t){console.error("Failed to approve leave:",t),alert("Failed to approve leave. Please try again.")}},async disapproveLeave(e){try{const t=await fe.A.put(`http://localhost:7777/api/leaves/${e}/disapprove`);200===t.status&&(this.leaveRequests=this.leaveRequests.map((t=>t.id===e?{...t,status:"Disapproved"}:t)),alert("Leave disapproved successfully!"))}catch(t){console.error("Failed to disapprove leave:",t),alert("Failed to disapprove leave. Please try again.")}},getStatusClass(e){switch(e){case"Pending":return"text-yellow-600";case"Approved":return"text-green-600";case"Disapproved":return"text-red-600";default:return"text-gray-600"}}}};const On=(0,n.A)(Jn,[["render",Vn],["__scopeId","data-v-01564b99"]]);var Wn=On;const Bn={class:"employee-holidays"},Qn={class:"header-container"},zn={class:"month-navigation"},Gn=["disabled"],Kn={class:"month-column"},Yn=["disabled"],Zn={class:"holidays-container"},ei={key:0,class:"holiday-grid"},ti={key:1};function si(e,t,s,a,o,r){return(0,l.uX)(),(0,l.CE)("div",Bn,[(0,l.Lk)("div",Qn,[(0,l.Lk)("div",zn,[(0,l.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>r.prevMonth&&r.prevMonth(...e)),disabled:0===o.currentMonthIndex},"◀ Prev",8,Gn),(0,l.Lk)("div",Kn,[(0,l.Lk)("span",null,(0,L.v_)(o.months[o.currentMonthIndex]),1)]),(0,l.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>r.nextMonth&&r.nextMonth(...e)),disabled:o.currentMonthIndex===o.months.length-1},"Next ▶",8,Yn)])]),(0,l.Lk)("div",Zn,[(0,l.Lk)("h2",null,(0,L.v_)(o.months[o.currentMonthIndex])+" Holidays",1),r.filteredHolidays.length>0?((0,l.uX)(),(0,l.CE)("div",ei,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.filteredHolidays,((e,t)=>((0,l.uX)(),(0,l.CE)("div",{key:t,class:"holiday-box"},[(0,l.Lk)("strong",null,(0,L.v_)(e.date),1),(0,l.Lk)("p",null,(0,L.v_)(e.name),1),(0,l.Lk)("span",{class:(0,L.C4)("Regular Holiday"===e.type?"holiday-type regular":"holiday-type special")},(0,L.v_)(e.type),3)])))),128))])):((0,l.uX)(),(0,l.CE)("p",ti,"No holidays this month."))])])}var ai={name:"ListHolidays",data(){return{currentMonthIndex:(new Date).getMonth(),months:["January","February","March","April","May","June","July","August","September","October","November","December"],holidays:[{date:"January 1",name:"New Year's Day",type:"Regular Holiday",monthIndex:0},{date:"January 23",name:"First Philippine Republic Day",type:"Special Working",monthIndex:0},{date:"February 25",name:"EDSA People Power Revolution",type:"Special Non-Working",monthIndex:1},{date:"March 31",name:"Holi Festival (Hindu Community)",type:"Special Working",monthIndex:2},{date:"April 6",name:"Maundy Thursday",type:"Regular Holiday",monthIndex:3},{date:"April 7",name:"Good Friday",type:"Regular Holiday",monthIndex:3},{date:"April 9",name:"Araw ng Kagitingan",type:"Regular Holiday",monthIndex:3},{date:"May 1",name:"Labor Day",type:"Regular Holiday",monthIndex:4},{date:"June 12",name:"Independence Day",type:"Regular Holiday",monthIndex:5},{date:"July 6",name:"Eid'l Adha (Feast of Sacrifice)",type:"Regular Holiday",monthIndex:6},{date:"August 21",name:"Ninoy Aquino Day",type:"Special Non-Working",monthIndex:7},{date:"August 28",name:"National Heroes Day",type:"Regular Holiday",monthIndex:7},{date:"September 3",name:"Surrender of Gen. Yamashita",type:"Special Working",monthIndex:8},{date:"October 31",name:"All Saints' Day (Observance)",type:"Special Working",monthIndex:9},{date:"November 1",name:"All Saints' Day",type:"Special Non-Working",monthIndex:10},{date:"November 2",name:"All Souls' Day",type:"Special Non-Working",monthIndex:10},{date:"November 30",name:"Bonifacio Day",type:"Regular Holiday",monthIndex:10},{date:"December 8",name:"Feast of the Immaculate Conception",type:"Special Non-Working",monthIndex:11},{date:"December 24",name:"Christmas Eve",type:"Special Non-Working",monthIndex:11},{date:"December 25",name:"Christmas Day",type:"Regular Holiday",monthIndex:11},{date:"December 30",name:"Rizal Day",type:"Regular Holiday",monthIndex:11},{date:"December 31",name:"New Year's Eve",type:"Special Non-Working",monthIndex:11}]}},computed:{filteredHolidays(){return this.holidays.filter((e=>e.monthIndex===this.currentMonthIndex))}},methods:{prevMonth(){this.currentMonthIndex>0&&this.currentMonthIndex--},nextMonth(){this.currentMonthIndex<this.months.length-1&&this.currentMonthIndex++}}};const li=(0,n.A)(ai,[["render",si],["__scopeId","data-v-1adccabd"]]);var oi=li;function ri(e,t,s,a,o,r){return(0,l.uX)(),(0,l.CE)("div",null,[(0,l.Lk)("button",{class:"back-button mb-4 py-2 px-4 bg-gray-800 text-white rounded",onClick:t[0]||(t[0]=(...e)=>r.goBack&&r.goBack(...e))},"Back"),t[1]||(t[1]=(0,l.Lk)("h1",{class:"text-2xl font-bold mb-4"},"Employee Reports",-1)),t[2]||(t[2]=(0,l.Lk)("p",{class:"text-gray-700"},"Generate and view various employee reports here.",-1))])}var ni={name:"EmployeeReports",methods:{goBack(){this.$router.go(-1)}}};const ii=(0,n.A)(ni,[["render",ri]]);var di=ii;const ci={class:"flex flex-col h-screen bg-cyan-50"},ui={class:"flex justify-between items-center p-4 bg-gradient-to-r from-cyan-600 to-teal-600 text-white backdrop-blur-sm shadow-lg"},pi={class:"flex items-center space-x-6"},mi={class:"flex items-center"},gi={class:"h-10 w-10 rounded-full bg-teal-700 flex items-center justify-center text-white text-lg font-medium shadow-sm"},yi={class:"ml-3 font-medium text-gray-50"},hi={class:"flex flex-1"},xi={class:"w-72 bg-white shadow-sm border-r border-gray-100"},bi={class:"p-4"},fi={class:"space-y-1"},vi={class:"flex-1 p-6 overflow-y-auto bg-cyan-50"};function ki(e,t,s,o,r,n){const i=(0,l.g2)("router-link"),d=(0,l.g2)("router-view");return(0,l.uX)(),(0,l.CE)("div",ci,[(0,l.Lk)("header",ui,[t[2]||(t[2]=(0,l.Lk)("div",{class:"text-2xl font-bold tracking-tight"},"LutzPayroll.inc",-1)),(0,l.Lk)("div",pi,[(0,l.Lk)("div",mi,[(0,l.Lk)("div",gi,(0,L.v_)(n.user?.username?.charAt(0).toUpperCase()),1),(0,l.Lk)("span",yi,(0,L.v_)(n.user?.username),1)]),(0,l.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>n.logout&&n.logout(...e)),class:"flex items-center px-4 py-2 text-sm rounded-lg transition-all duration-200 bg-white border border-gray-200 hover:bg-lime-50 text-gray-700 font-medium focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:ring-opacity-50 shadow-sm hover:shadow"},t[1]||(t[1]=[(0,l.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-2 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,l.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})],-1),(0,l.eW)(" Logout ")]))])]),(0,l.Lk)("div",hi,[(0,l.Lk)("aside",xi,[(0,l.Lk)("nav",bi,[(0,l.Lk)("ul",fi,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.navigationLinks,((e,t)=>((0,l.uX)(),(0,l.CE)("li",{key:t},[(0,l.bF)(i,{to:e.path,class:"flex items-center px-4 py-3 rounded-lg text-gray-700 hover:bg-lime-50 hover:text-cyan-600 transition-all duration-200","active-class":"bg-lime-50 text-cyan-600 font-medium"},{default:(0,l.k6)((()=>[(0,l.Lk)("span",null,(0,L.v_)(e.name),1)])),_:2},1032,["to"])])))),128)),(0,l.Lk)("li",null,[(0,l.bF)(i,{to:"/admin/List-Holidays",class:"flex items-center px-4 py-3 rounded-lg text-gray-700 hover:bg-lime-50 hover:text-cyan-600 transition-all duration-200","active-class":"bg-lime-50 text-cyan-600 font-medium"},{default:(0,l.k6)((()=>t[3]||(t[3]=[(0,l.Lk)("span",null,"Holiday Selection",-1)]))),_:1})])])])]),(0,l.Lk)("div",vi,[(0,l.bF)(d,null,{default:(0,l.k6)((({Component:e})=>[(0,l.bF)(a.eB,{name:"fade",mode:"out-in"},{default:(0,l.k6)((()=>[((0,l.uX)(),(0,l.Wv)((0,l.$y)(e)))])),_:2},1024)])),_:1})])])])}var Li={name:"AdminLayout",data(){return{navigationLinks:[{path:"/admin",name:"Dashboard"},{path:"/admin/employee-attendance",name:"Employee Attendance"},{path:"/admin/manage-employees",name:"Manage Employees"},{path:"/admin/salary-slips",name:"Salary Slips"},{path:"/admin/manage-pay-heads",name:"Manage Pay Heads"},{path:"/admin/employee-leave-management",name:"Employee Leave Management"}]}},computed:{user(){return this.$store.state.user}},methods:{logout(){this.$store.dispatch("logout"),this.$router.push("/admin-login")}}};const wi=(0,n.A)(Li,[["render",ki],["__scopeId","data-v-25e0a494"]]);var Ei=wi;const Si={class:"flex flex-col h-screen bg-gray-50"},Pi={class:"flex justify-between items-center p-4 bg-gradient-to-r from-teal-600 to-lime-500 text-white backdrop-blur-sm shadow-lg"},Mi={class:"flex items-center space-x-4"},Ci={class:"flex items-center space-x-2"},qi={class:"h-8 w-8 bg-white rounded-full flex items-center justify-center text-teal-600"},Ri={class:"font-medium"},Di={class:"flex flex-1 overflow-hidden"},Ii={class:"w-72 bg-white shadow-sm border-r border-gray-100"},Ai={class:"p-4"},_i={class:"space-y-2"},Ni={class:"flex-1 p-6 overflow-y-auto"},Fi={class:"max-w-7xl mx-auto"};function Xi(e,t,s,o,r,n){const i=(0,l.g2)("router-link"),d=(0,l.g2)("router-view");return(0,l.uX)(),(0,l.CE)("div",Si,[(0,l.Lk)("header",Pi,[t[1]||(t[1]=(0,l.Lk)("div",{class:"text-2xl font-bold tracking-tight"},"LutzPayroll.inc",-1)),(0,l.Lk)("div",Mi,[(0,l.Lk)("div",Ci,[(0,l.Lk)("span",qi,(0,L.v_)(n.user?.username?.[0]?.toUpperCase()),1),(0,l.Lk)("span",Ri,(0,L.v_)(n.user?.username),1)]),(0,l.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>n.logout&&n.logout(...e)),class:"bg-white/10 hover:bg-white/20 text-white font-medium py-2 px-4 rounded-lg transition-all duration-200 backdrop-blur-sm"}," Logout ")])]),(0,l.Lk)("div",Di,[(0,l.Lk)("aside",Ii,[(0,l.Lk)("nav",Ai,[(0,l.Lk)("ul",_i,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.menuItems,((e,t)=>((0,l.uX)(),(0,l.CE)("li",{key:t},[(0,l.bF)(i,{to:e.path,class:"flex items-center p-3 rounded-xl transition-all duration-200 hover:bg-teal-50 hover:text-teal-600","active-class":"bg-teal-50 text-teal-600 font-medium shadow-sm"},{default:(0,l.k6)((()=>[(0,l.Lk)("i",{class:(0,L.C4)([e.icon,"mr-3 w-5 text-center"])},null,2),(0,l.Lk)("span",null,(0,L.v_)(e.name),1)])),_:2},1032,["to"])])))),128))])])]),(0,l.Lk)("main",Ni,[(0,l.Lk)("div",Fi,[(0,l.bF)(d,null,{default:(0,l.k6)((({Component:e})=>[(0,l.bF)(a.eB,{name:"fade",mode:"out-in"},{default:(0,l.k6)((()=>[((0,l.uX)(),(0,l.Wv)((0,l.$y)(e)))])),_:2},1024)])),_:1})])])])])}var Ti={name:"EmployeeLayout",data(){return{menuItems:[{name:"Dashboard",path:"/employee",icon:"fas fa-home"},{name:"Salary Slips",path:"/employee/salary-slips",icon:"fas fa-file-invoice-dollar"},{name:"Leave Management",path:"/employee/employee-leave-request",icon:"fas fa-calendar-alt"},{name:"Holidays",path:"/employee/holidays",icon:"fas fa-umbrella-beach"}]}},computed:{user(){return this.$store.state.user}},methods:{logout(){this.$store.dispatch("logout"),this.$router.push("/employee-login")}}};const $i=(0,n.A)(Ti,[["render",Xi],["__scopeId","data-v-0503ef9c"]]);var Hi=$i;const Ui={class:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 p-4"},ji={class:"max-w-6xl mx-auto"},Vi={class:"bg-white p-6 rounded-xl shadow-md"},Ji={key:0,class:"min-w-full border border-gray-300"},Oi={class:"hover:bg-gray-50"},Wi={class:"border px-4 py-2 text-sm text-gray-900"},Bi={class:"border px-4 py-2 text-sm text-gray-900"},Qi={class:"border px-4 py-2 text-sm text-gray-900"},zi={class:"border px-4 py-2 text-sm text-gray-900"},Gi={class:"border px-4 py-2 text-sm font-bold text-gray-900"},Ki={class:"border px-4 py-2 text-sm text-gray-900"},Yi={class:"border px-4 py-2 text-sm"},Zi=["disabled"],ed=["disabled"],td={key:1,class:"text-center py-8 text-gray-500"};function sd(e,t,s,a,o,r){return(0,l.uX)(),(0,l.CE)("div",Ui,[(0,l.Lk)("div",ji,[(0,l.Lk)("div",Vi,[t[3]||(t[3]=(0,l.Lk)("h2",{class:"text-2xl font-semibold mb-6 text-gray-900"},"My Salary Slip",-1)),o.employee?((0,l.uX)(),(0,l.CE)("table",Ji,[t[2]||(t[2]=(0,l.Lk)("thead",{class:"bg-gray-200"},[(0,l.Lk)("tr",null,[(0,l.Lk)("th",{class:"border px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"ID"),(0,l.Lk)("th",{class:"border px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Name"),(0,l.Lk)("th",{class:"border px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Earnings"),(0,l.Lk)("th",{class:"border px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Deductions"),(0,l.Lk)("th",{class:"border px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Net Salary"),(0,l.Lk)("th",{class:"border px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Period"),(0,l.Lk)("th",{class:"border px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Actions")])],-1)),(0,l.Lk)("tbody",null,[(0,l.Lk)("tr",Oi,[(0,l.Lk)("td",Wi,(0,L.v_)(o.employee.id),1),(0,l.Lk)("td",Bi,(0,L.v_)(o.employee.name),1),(0,l.Lk)("td",Qi,"₱"+(0,L.v_)(o.employee.totalEarnings.toLocaleString()),1),(0,l.Lk)("td",zi,"₱"+(0,L.v_)(o.employee.totalDeductions.toLocaleString()),1),(0,l.Lk)("td",Gi,"₱"+(0,L.v_)(o.employee.totalSalary.toLocaleString()),1),(0,l.Lk)("td",Ki,(0,L.v_)(o.employee.salaryMonth),1),(0,l.Lk)("td",Yi,[(0,l.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>r.generatePayslip&&r.generatePayslip(...e)),class:"bg-blue-500 text-white px-3 py-1 rounded hover:bg-blue-700 transition-all duration-200 mr-2",disabled:o.isGenerating},(0,L.v_)(o.isGenerating?"Generating...":"Generate Payslip"),9,Zi),(0,l.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>r.sendPayslipEmail&&r.sendPayslipEmail(...e)),class:"bg-green-500 text-white px-3 py-1 rounded hover:bg-green-700 transition-all duration-200",disabled:o.isSending},(0,L.v_)(o.isSending?"Sending...":"Send Email"),9,ed)])])])])):((0,l.uX)(),(0,l.CE)("div",td,(0,L.v_)(o.errorMessage||"Loading employee data..."),1)),o.statusMessage?((0,l.uX)(),(0,l.CE)("div",{key:2,class:(0,L.C4)([o.statusMessage.includes("successfully")?"bg-green-50 text-green-700":"bg-red-50 text-red-700","mt-4 p-3 rounded-lg text-center"])},(0,L.v_)(o.statusMessage),3)):(0,l.Q3)("",!0)])])])}var ad={name:"EmployeeSalarySlip",data(){return{employee:null,isGenerating:!1,isSending:!1,statusMessage:"",errorMessage:""}},mounted(){this.fetchEmployeeData()},methods:{async fetchEmployeeData(){try{const e=localStorage.getItem("userId");if(!e)return this.errorMessage="User not logged in. Redirecting to login...",void setTimeout((()=>{this.$router.push("/login")}),2e3);const t=await fe.A.get(`http://localhost:7777/api/employees/${e}/salary`);if(!t.data)throw new Error("No salary data returned from server");this.employee=t.data}catch(e){console.error("Error fetching employee data:",e),this.errorMessage="Failed to load salary slip. Please check your connection or try again later.",this.employee=null}},async generatePayslip(){if(!this.employee)return this.statusMessage="No employee data available to generate payslip.",void setTimeout((()=>this.statusMessage=""),3e3);this.isGenerating=!0,this.statusMessage="";try{const e=new lr.Ay;e.setFontSize(16),e.text("Salary Slip",20,20),e.setFontSize(12),e.text(`ID: ${this.employee.id}`,20,40),e.text(`Name: ${this.employee.name}`,20,50),e.text(`Period: ${this.employee.salaryMonth}`,20,60),e.text(`Total Earnings: ₱${this.employee.totalEarnings.toLocaleString()}`,20,70),e.text(`Total Deductions: ₱${this.employee.totalDeductions.toLocaleString()}`,20,80),e.text(`Net Salary: ₱${this.employee.totalSalary.toLocaleString()}`,20,90),e.text(`Generated on: ${(new Date).toLocaleDateString()}`,20,100);const t=e.output("blob"),s=new FileReader;s.readAsDataURL(t),s.onloadend=async()=>{const e=s.result;localStorage.setItem(`payslip_${this.employee.id}_${this.employee.salaryMonth}`,e);const a=document.createElement("a");a.href=URL.createObjectURL(t),a.download=`payslip-${this.employee.name}-${this.employee.salaryMonth}.pdf`,document.body.appendChild(a),a.click(),document.body.removeChild(a),await fe.A.post("http://localhost:7777/api/payslips/generate",{employeeId:this.employee.id,payslipData:e,salaryMonth:this.employee.salaryMonth}),this.statusMessage="Payslip generated successfully!"}}catch(e){console.error("Error generating payslip:",e),this.statusMessage="Failed to generate payslip. Please try again."}finally{this.isGenerating=!1,setTimeout((()=>this.statusMessage=""),3e3)}},async sendPayslipEmail(){if(!this.employee)return this.statusMessage="No employee data available to send payslip.",void setTimeout((()=>this.statusMessage=""),3e3);this.isSending=!0,this.statusMessage="";try{const e=`payslip_${this.employee.id}_${this.employee.salaryMonth}`;let t=localStorage.getItem(e);t||(await this.generatePayslip(),t=localStorage.getItem(e));const s=await fe.A.post("http://localhost:7777/api/payslips/send-email",{employeeId:this.employee.id,employeeEmail:this.employee.email,payslipData:t,salaryMonth:this.employee.salaryMonth});200===s.status&&(this.statusMessage="Payslip sent to your email successfully!")}catch(e){console.error("Error sending payslip email:",e),this.statusMessage="Failed to send payslip email. Please try again."}finally{this.isSending=!1,setTimeout((()=>this.statusMessage=""),3e3)}}}};const ld=(0,n.A)(ad,[["render",sd],["__scopeId","data-v-fbdd6bf8"]]);var od=ld;const rd={class:"employee-holidays"},nd={class:"header-container"},id={class:"month-navigation"},dd=["disabled"],cd={class:"month-column"},ud=["disabled"],pd={class:"holidays-container"},md={key:0,class:"holiday-grid"},gd={key:1};function yd(e,t,s,a,o,r){return(0,l.uX)(),(0,l.CE)("div",rd,[(0,l.Lk)("div",nd,[(0,l.Lk)("div",id,[(0,l.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>r.prevMonth&&r.prevMonth(...e)),disabled:0===o.currentMonthIndex},"◀ Prev",8,dd),(0,l.Lk)("div",cd,[(0,l.Lk)("span",null,(0,L.v_)(o.months[o.currentMonthIndex]),1)]),(0,l.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>r.nextMonth&&r.nextMonth(...e)),disabled:o.currentMonthIndex===o.months.length-1},"Next ▶",8,ud)])]),(0,l.Lk)("div",pd,[(0,l.Lk)("h2",null,(0,L.v_)(o.months[o.currentMonthIndex])+" Holidays",1),r.filteredHolidays.length>0?((0,l.uX)(),(0,l.CE)("div",md,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.filteredHolidays,((e,t)=>((0,l.uX)(),(0,l.CE)("div",{key:t,class:"holiday-box"},[(0,l.Lk)("strong",null,(0,L.v_)(e.date),1),(0,l.Lk)("p",null,(0,L.v_)(e.name),1),(0,l.Lk)("span",{class:(0,L.C4)("Regular Holiday"===e.type?"holiday-type regular":"holiday-type special")},(0,L.v_)(e.type),3)])))),128))])):((0,l.uX)(),(0,l.CE)("p",gd,"No holidays this month."))])])}var hd={name:"EmployeeHolidays",data(){return{currentMonthIndex:(new Date).getMonth(),months:["January","February","March","April","May","June","July","August","September","October","November","December"],holidays:[{date:"January 1",name:"New Year's Day",type:"Regular Holiday",monthIndex:0},{date:"January 23",name:"First Philippine Republic Day",type:"Special Working",monthIndex:0},{date:"February 25",name:"EDSA People Power Revolution",type:"Special Non-Working",monthIndex:1},{date:"March 31",name:"Holi Festival (Hindu Community)",type:"Special Working",monthIndex:2},{date:"April 6",name:"Maundy Thursday",type:"Regular Holiday",monthIndex:3},{date:"April 7",name:"Good Friday",type:"Regular Holiday",monthIndex:3},{date:"April 9",name:"Araw ng Kagitingan",type:"Regular Holiday",monthIndex:3},{date:"May 1",name:"Labor Day",type:"Regular Holiday",monthIndex:4},{date:"June 12",name:"Independence Day",type:"Regular Holiday",monthIndex:5},{date:"July 6",name:"Eid'l Adha (Feast of Sacrifice)",type:"Regular Holiday",monthIndex:6},{date:"August 21",name:"Ninoy Aquino Day",type:"Special Non-Working",monthIndex:7},{date:"August 28",name:"National Heroes Day",type:"Regular Holiday",monthIndex:7},{date:"September 3",name:"Surrender of Gen. Yamashita",type:"Special Working",monthIndex:8},{date:"October 31",name:"All Saints' Day (Observance)",type:"Special Working",monthIndex:9},{date:"November 1",name:"All Saints' Day",type:"Special Non-Working",monthIndex:10},{date:"November 2",name:"All Souls' Day",type:"Special Non-Working",monthIndex:10},{date:"November 30",name:"Bonifacio Day",type:"Regular Holiday",monthIndex:10},{date:"December 8",name:"Feast of the Immaculate Conception",type:"Special Non-Working",monthIndex:11},{date:"December 24",name:"Christmas Eve",type:"Special Non-Working",monthIndex:11},{date:"December 25",name:"Christmas Day",type:"Regular Holiday",monthIndex:11},{date:"December 30",name:"Rizal Day",type:"Regular Holiday",monthIndex:11},{date:"December 31",name:"New Year's Eve",type:"Special Non-Working",monthIndex:11}]}},computed:{filteredHolidays(){return this.holidays.filter((e=>e.monthIndex===this.currentMonthIndex))}},methods:{prevMonth(){this.currentMonthIndex>0&&this.currentMonthIndex--},nextMonth(){this.currentMonthIndex<this.months.length-1&&this.currentMonthIndex++}}};const xd=(0,n.A)(hd,[["render",yd],["__scopeId","data-v-62586cc0"]]);var bd=xd;const fd={class:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 p-4"},vd={class:"max-w-6xl mx-auto"},kd={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Ld={class:"bg-white p-6 rounded-xl shadow-md"},wd={class:"mb-4"},Ed={class:"mb-4"},Sd={class:"mb-4"},Pd=["disabled"],Md={class:"bg-white p-6 rounded-xl shadow-md"},Cd={class:"space-y-4"},qd={class:"flex justify-between items-start"},Rd={class:"font-medium"},Dd={class:"text-sm text-gray-600"},Id={class:"mt-2 text-gray-700"},Ad={key:0,class:"text-center text-gray-500 py-8"},_d={key:1,class:"mt-6 flex justify-between items-center"},Nd=["disabled"],Fd={class:"text-gray-600"},Xd=["disabled"];function Td(e,t,s,o,r,n){return(0,l.uX)(),(0,l.CE)("div",fd,[(0,l.Lk)("div",vd,[(0,l.Lk)("div",kd,[(0,l.Lk)("div",Ld,[t[9]||(t[9]=(0,l.Lk)("h2",{class:"text-2xl font-semibold mb-4"},"Request Leave",-1)),(0,l.Lk)("form",{onSubmit:t[3]||(t[3]=(0,a.D$)(((...e)=>n.submitLeaveRequest&&n.submitLeaveRequest(...e)),["prevent"]))},[(0,l.Lk)("div",wd,[t[6]||(t[6]=(0,l.Lk)("label",{class:"block text-gray-700 font-medium mb-2"},"Start Date:",-1)),(0,l.bo)((0,l.Lk)("input",{type:"date","onUpdate:modelValue":t[0]||(t[0]=e=>r.newLeave.startDate=e),class:"w-full p-2 border rounded-lg focus:ring focus:ring-blue-200 focus:border-blue-300 outline-none",required:""},null,512),[[a.Jo,r.newLeave.startDate]])]),(0,l.Lk)("div",Ed,[t[7]||(t[7]=(0,l.Lk)("label",{class:"block text-gray-700 font-medium mb-2"},"End Date:",-1)),(0,l.bo)((0,l.Lk)("input",{type:"date","onUpdate:modelValue":t[1]||(t[1]=e=>r.newLeave.endDate=e),class:"w-full p-2 border rounded-lg focus:ring focus:ring-blue-200 focus:border-blue-300 outline-none",required:""},null,512),[[a.Jo,r.newLeave.endDate]])]),(0,l.Lk)("div",Sd,[t[8]||(t[8]=(0,l.Lk)("label",{class:"block text-gray-700 font-medium mb-2"},"Reason for Leave:",-1)),(0,l.bo)((0,l.Lk)("textarea",{"onUpdate:modelValue":t[2]||(t[2]=e=>r.newLeave.reason=e),class:"w-full p-2 border rounded-lg focus:ring focus:ring-blue-200 focus:border-blue-300 outline-none min-h-[100px]",required:""},null,512),[[a.Jo,r.newLeave.reason]])]),(0,l.Lk)("button",{type:"submit",class:"w-full bg-blue-500 text-white py-3 rounded-lg hover:bg-blue-600 transition-all duration-200 font-medium",disabled:r.isSubmitting},(0,L.v_)(r.isSubmitting?"Submitting...":"Send Request"),9,Pd)],32),r.statusMessage?((0,l.uX)(),(0,l.CE)("div",{key:0,class:(0,L.C4)([r.statusMessage.includes("successfully")?"bg-green-50 text-green-700":"bg-red-50 text-red-700","mt-4 p-3 rounded-lg text-center"])},(0,L.v_)(r.statusMessage),3)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",Md,[t[10]||(t[10]=(0,l.Lk)("h2",{class:"text-2xl font-semibold mb-4"},"My Leave Requests",-1)),(0,l.Lk)("div",Cd,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.paginatedRequests,(e=>((0,l.uX)(),(0,l.CE)("div",{key:e.id,class:"border rounded-lg p-4 hover:shadow-sm transition-all"},[(0,l.Lk)("div",qd,[(0,l.Lk)("div",null,[(0,l.Lk)("h3",Rd,(0,L.v_)(e.employeeName),1),(0,l.Lk)("p",Dd,(0,L.v_)(e.startDate)+" to "+(0,L.v_)(e.endDate),1),(0,l.Lk)("p",Id,(0,L.v_)(e.reason),1)]),(0,l.Lk)("span",{class:(0,L.C4)([{"bg-yellow-100 text-yellow-700":"Pending"===e.status,"bg-green-100 text-green-700":"Approved"===e.status,"bg-red-100 text-red-700":"Disapproved"===e.status},"px-3 py-1 rounded-full text-sm font-medium"])},(0,L.v_)(e.status),3)])])))),128)),0===r.leaveRequests.length?((0,l.uX)(),(0,l.CE)("div",Ad," No leave requests yet ")):(0,l.Q3)("",!0),r.leaveRequests.length>0?((0,l.uX)(),(0,l.CE)("div",_d,[(0,l.Lk)("button",{onClick:t[4]||(t[4]=(...e)=>n.previousPage&&n.previousPage(...e)),disabled:1===r.currentPage,class:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200"}," Previous ",8,Nd),(0,l.Lk)("span",Fd," Page "+(0,L.v_)(r.currentPage)+" of "+(0,L.v_)(n.totalPages),1),(0,l.Lk)("button",{onClick:t[5]||(t[5]=(...e)=>n.nextPage&&n.nextPage(...e)),disabled:r.currentPage===n.totalPages,class:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200"}," Next ",8,Xd)])):(0,l.Q3)("",!0)])])])])])}var $d={name:"EmployeeLeaveRequest",data(){return{newLeave:{startDate:"",endDate:"",reason:""},statusMessage:"",leaveRequests:[],currentPage:1,requestsPerPage:5,isSubmitting:!1}},computed:{totalPages(){return Math.ceil(this.leaveRequests.length/this.requestsPerPage)},paginatedRequests(){const e=(this.currentPage-1)*this.requestsPerPage,t=e+this.requestsPerPage;return this.leaveRequests.slice(e,t)}},created(){this.fetchLeaveRequests()},methods:{async fetchLeaveRequests(){try{const e=localStorage.getItem("userId");if(!e)throw new Error("User not authenticated");const t=await fe.A.get(`http://localhost:7777/api/leaves/employee/${e}`);this.leaveRequests=t.data||[]}catch(e){console.error("Failed to fetch leave requests:",e),this.statusMessage="Failed to load leave requests. Please try again.",setTimeout((()=>this.statusMessage=""),3e3)}},async submitLeaveRequest(){this.isSubmitting=!0;try{const e=localStorage.getItem("userId");if(!e)throw new Error("User not authenticated");const t={employeeId:e,employeeName:localStorage.getItem("userName")||"Unknown",startDate:this.newLeave.startDate,endDate:this.newLeave.endDate,reason:this.newLeave.reason,status:"Pending"},s=await fe.A.post("http://localhost:7777/api/leaves",t);201===s.status&&(this.leaveRequests.unshift(s.data),this.statusMessage="Request submitted successfully!",this.resetForm(),this.currentPage=1)}catch(e){console.error("Failed to submit leave request:",e),this.statusMessage="Failed to submit leave request. Please try again."}finally{this.isSubmitting=!1,setTimeout((()=>this.statusMessage=""),3e3)}},resetForm(){this.newLeave={startDate:"",endDate:"",reason:""}},nextPage(){this.currentPage<this.totalPages&&this.currentPage++},previousPage(){this.currentPage>1&&this.currentPage--}}};const Hd=(0,n.A)($d,[["render",Td],["__scopeId","data-v-7d2123f6"]]);var Ud=Hd;const jd=[{path:"/",component:k},{path:"/admin-login",component:T},{path:"/employee-login",component:Le},{path:"/register",component:Be},{path:"/admin",component:Ei,meta:{requiresAuth:!0,role:"admin"},children:[{path:"",component:Zt},{path:"manage-positions",component:Qs},{path:"employee-attendance",component:da},{path:"manage-employees",component:No},{path:"salary-slips",component:nr},{path:"manage-pay-heads",component:yn},{path:"month-selection",component:fn},{path:"payroll-with-deductions",component:wn},{path:"employee-leave-management",component:Wn},{path:"list-holidays",component:oi},{path:"employee-reports",component:di}]},{path:"/employee",component:Hi,meta:{requiresAuth:!0,role:"employee"},children:[{path:"",component:Is},{path:"attendance",component:da},{path:"salary-slips",component:od},{path:"leave-management",component:Wn},{path:"holidays",component:bd},{path:"reports",component:di},{path:"employee-leave-request",name:"EmployeeLeaveRequest",component:Ud}]}],Vd=(0,c.aE)({history:(0,c.LA)(),routes:jd});Vd.beforeEach(((e,t,s)=>{if(e.matched.some((e=>e.meta.requiresAuth))){const t=p.state.user;t?e.meta.role&&e.meta.role!==t.role?s("/"):s():s("/")}else s()})),Vd.afterEach((e=>{e.matched.some((e=>e.meta.requiresAuth))&&window.history.pushState(null,"",window.location.href)})),window.addEventListener("popstate",(e=>{const t=p.state.user;!t||null!==e.state&&void 0!==e.state||Vd.push("admin"===t.role?"/admin":"/employee")}));var Jd=Vd;(0,a.Ef)(d).use(p).use(Jd).mount("#app")}},t={};function s(a){var l=t[a];if(void 0!==l)return l.exports;var o=t[a]={exports:{}};return e[a].call(o.exports,o,o.exports,s),o.exports}s.m=e,function(){var e=[];s.O=function(t,a,l,o){if(!a){var r=1/0;for(c=0;c<e.length;c++){a=e[c][0],l=e[c][1],o=e[c][2];for(var n=!0,i=0;i<a.length;i++)(!1&o||r>=o)&&Object.keys(s.O).every((function(e){return s.O[e](a[i])}))?a.splice(i--,1):(n=!1,o<r&&(r=o));if(n){e.splice(c--,1);var d=l();void 0!==d&&(t=d)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[a,l,o]}}(),function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};s.t=function(a,l){if(1&l&&(a=this(a)),8&l)return a;if("object"===typeof a&&a){if(4&l&&a.__esModule)return a;if(16&l&&"function"===typeof a.then)return a}var o=Object.create(null);s.r(o);var r={};e=e||[null,t({}),t([]),t(t)];for(var n=2&l&&a;"object"==typeof n&&!~e.indexOf(n);n=t(n))Object.getOwnPropertyNames(n).forEach((function(e){r[e]=function(){return a[e]}}));return r["default"]=function(){return a},s.d(o,r),o}}(),function(){s.d=function(e,t){for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){s.f={},s.e=function(e){return Promise.all(Object.keys(s.f).reduce((function(t,a){return s.f[a](e,t),t}),[]))}}(),function(){s.u=function(e){return"js/"+e+"."+{354:"10e59da7",668:"f5e8a670",838:"75194510"}[e]+".js"}}(),function(){s.miniCssF=function(e){}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="frontend:";s.l=function(a,l,o,r){if(e[a])e[a].push(l);else{var n,i;if(void 0!==o)for(var d=document.getElementsByTagName("script"),c=0;c<d.length;c++){var u=d[c];if(u.getAttribute("src")==a||u.getAttribute("data-webpack")==t+o){n=u;break}}n||(i=!0,n=document.createElement("script"),n.charset="utf-8",n.timeout=120,s.nc&&n.setAttribute("nonce",s.nc),n.setAttribute("data-webpack",t+o),n.src=a),e[a]=[l];var p=function(t,s){n.onerror=n.onload=null,clearTimeout(m);var l=e[a];if(delete e[a],n.parentNode&&n.parentNode.removeChild(n),l&&l.forEach((function(e){return e(s)})),t)return t(s)},m=setTimeout(p.bind(null,void 0,{type:"timeout",target:n}),12e4);n.onerror=p.bind(null,n.onerror),n.onload=p.bind(null,n.onload),i&&document.head.appendChild(n)}}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){s.p="/"}(),function(){var e={524:0};s.f.j=function(t,a){var l=s.o(e,t)?e[t]:void 0;if(0!==l)if(l)a.push(l[2]);else{var o=new Promise((function(s,a){l=e[t]=[s,a]}));a.push(l[2]=o);var r=s.p+s.u(t),n=new Error,i=function(a){if(s.o(e,t)&&(l=e[t],0!==l&&(e[t]=void 0),l)){var o=a&&("load"===a.type?"missing":a.type),r=a&&a.target&&a.target.src;n.message="Loading chunk "+t+" failed.\n("+o+": "+r+")",n.name="ChunkLoadError",n.type=o,n.request=r,l[1](n)}};s.l(r,i,"chunk-"+t,t)}},s.O.j=function(t){return 0===e[t]};var t=function(t,a){var l,o,r=a[0],n=a[1],i=a[2],d=0;if(r.some((function(t){return 0!==e[t]}))){for(l in n)s.o(n,l)&&(s.m[l]=n[l]);if(i)var c=i(s)}for(t&&t(a);d<r.length;d++)o=r[d],s.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return s.O(c)},a=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=s.O(void 0,[504],(function(){return s(5451)}));a=s.O(a)})();
//# sourceMappingURL=app.d8fb1450.js.map
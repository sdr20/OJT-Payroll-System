{"ast":null,"code":"import axios from 'axios';\nexport default {\n  name: 'EmployeeDashboard',\n  data() {\n    return {\n      totalAbsences: 0,\n      totalLate: 0,\n      totalOnTime: 0,\n      attendanceRecords: []\n    };\n  },\n  created() {\n    this.fetchAttendanceRecords();\n  },\n  methods: {\n    async timeIn() {\n      try {\n        const response = await axios.post('/api/attendance/time-in', {});\n        if (response.status === 200) {\n          this.$toast.success('Time in successful!');\n          this.fetchAttendanceRecords();\n        }\n      } catch (error) {\n        console.error('Failed to time in:', error);\n        this.$toast.error('Time in failed. Please try again.');\n      }\n    },\n    async timeOut() {\n      try {\n        const response = await axios.post('/api/attendance/time-out', {});\n        if (response.status === 200) {\n          this.$toast.success('Time out successful!');\n          this.fetchAttendanceRecords();\n        }\n      } catch (error) {\n        console.error('Failed to time out:', error);\n        this.$toast.error('Time out failed. Please try again.');\n      }\n    },\n    async fetchAttendanceRecords() {\n      try {\n        const response = await axios.get('/api/attendance/records');\n        this.attendanceRecords = response.data.records;\n        this.totalAbsences = response.data.totalAbsences;\n        this.totalLate = response.data.totalLate;\n        this.totalOnTime = response.data.totalOnTime;\n      } catch (error) {\n        console.error('Failed to fetch attendance records:', error);\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","name","data","totalAbsences","totalLate","totalOnTime","attendanceRecords","created","fetchAttendanceRecords","methods","timeIn","response","post","status","$toast","success","error","console","timeOut","get","records"],"sources":["C:\\Users\\ASUS\\Desktop\\Payroll_system\\frontend\\src\\views\\EmployeeDashboard.vue"],"sourcesContent":["<template>\r\n  <div class=\"min-h-screen bg-gradient-to-br from-blue-50 to-cyan-100 flex items-center justify-center p-1\">\r\n    <div class=\"w-full max-w-5xl\">\r\n      <div class=\"bg-white/80 backdrop-blur-lg rounded-2xl shadow-xl p- space-y-6\">\r\n        <div class=\"flex justify-center items-center space-x-4\">\r\n          <button @click=\"timeIn\" class=\"bg-green-500 text-white py-2 px-4 rounded-lg hover:bg-green-700\">Time In</button>\r\n          <button @click=\"timeOut\" class=\"bg-red-500 text-white py-2 px-4 rounded-lg hover:bg-red-700\">Time Out</button>\r\n        </div>\r\n\r\n        <div class=\"grid grid-cols-3 gap-4 text-center mt-4\">\r\n          <div class=\"bg-blue-100 p-4 rounded-lg\">\r\n            <h2 class=\"text-lg font-bold text-gray-700\">Total Absences</h2>\r\n            <p class=\"text-2xl font-semibold text-gray-900\">{{ totalAbsences }}</p>\r\n          </div>\r\n          <div class=\"bg-yellow-100 p-4 rounded-lg\">\r\n            <h2 class=\"text-lg font-bold text-gray-700\">Total Late</h2>\r\n            <p class=\"text-2xl font-semibold text-gray-900\">{{ totalLate }}</p>\r\n          </div>\r\n          <div class=\"bg-green-100 p-4 rounded-lg\">\r\n            <h2 class=\"text-lg font-bold text-gray-700\">Total On Time</h2>\r\n            <p class=\"text-2xl font-semibold text-gray-900\">{{ totalOnTime }}</p>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"bg-white p-6 rounded-lg shadow mt-6\">\r\n          <h2 class=\"text-xl font-bold text-gray-700 mb-4\">Attendance Records</h2>\r\n          <div class=\"overflow-x-auto\">\r\n            <table class=\"min-w-full divide-y divide-gray-200\">\r\n              <thead class=\"bg-gray-50\">\r\n                <tr>\r\n                  <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Employee ID</th>\r\n                  <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Name</th>\r\n                  <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Date</th>\r\n                  <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Time In</th>\r\n                  <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Time Out</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody class=\"bg-white divide-y divide-gray-200\">\r\n                <tr v-for=\"record in attendanceRecords\" :key=\"record.id\" class=\"hover:bg-gray-50\">\r\n                  <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">{{ record.employeeId }}</td>\r\n                  <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">{{ record.name }}</td>\r\n                  <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">{{ record.date }}</td>\r\n                  <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">{{ record.timeIn }}</td>\r\n                  <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">{{ record.timeOut }}</td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  name: 'EmployeeDashboard',\r\n  data() {\r\n    return {\r\n      totalAbsences: 0,\r\n      totalLate: 0,\r\n      totalOnTime: 0,\r\n      attendanceRecords: []\r\n    };\r\n  },\r\n  created() {\r\n    this.fetchAttendanceRecords();\r\n  },\r\n  methods: {\r\n    async timeIn() {\r\n      try {\r\n        const response = await axios.post('/api/attendance/time-in', {});\r\n        if (response.status === 200) {\r\n          this.$toast.success('Time in successful!');\r\n          this.fetchAttendanceRecords();\r\n        }\r\n      } catch (error) {\r\n        console.error('Failed to time in:', error);\r\n        this.$toast.error('Time in failed. Please try again.');\r\n      }\r\n    },\r\n    async timeOut() {\r\n      try {\r\n        const response = await axios.post('/api/attendance/time-out', {});\r\n        if (response.status === 200) {\r\n          this.$toast.success('Time out successful!');\r\n          this.fetchAttendanceRecords();\r\n        }\r\n      } catch (error) {\r\n        console.error('Failed to time out:', error);\r\n        this.$toast.error('Time out failed. Please try again.');\r\n      }\r\n    },\r\n    async fetchAttendanceRecords() {\r\n      try {\r\n        const response = await axios.get('/api/attendance/records');\r\n        this.attendanceRecords = response.data.records;\r\n        this.totalAbsences = response.data.totalAbsences;\r\n        this.totalLate = response.data.totalLate;\r\n        this.totalOnTime = response.data.totalOnTime;\r\n      } catch (error) {\r\n        console.error('Failed to fetch attendance records:', error);\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.modal-enter-active,\r\n.modal-leave-active {\r\n  transition: opacity 0.3s ease;\r\n}\r\n\r\n.modal-enter-from,\r\n.modal-leave-to {\r\n  opacity: 0;\r\n}\r\n</style>"],"mappings":"AAuDA,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAI,EAAE,mBAAmB;EACzBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,aAAa,EAAE,CAAC;MAChBC,SAAS,EAAE,CAAC;MACZC,WAAW,EAAE,CAAC;MACdC,iBAAiB,EAAE;IACrB,CAAC;EACH,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAI,CAACC,sBAAsB,CAAC,CAAC;EAC/B,CAAC;EACDC,OAAO,EAAE;IACP,MAAMC,MAAMA,CAAA,EAAG;MACb,IAAI;QACF,MAAMC,QAAO,GAAI,MAAMX,KAAK,CAACY,IAAI,CAAC,yBAAyB,EAAE,CAAC,CAAC,CAAC;QAChE,IAAID,QAAQ,CAACE,MAAK,KAAM,GAAG,EAAE;UAC3B,IAAI,CAACC,MAAM,CAACC,OAAO,CAAC,qBAAqB,CAAC;UAC1C,IAAI,CAACP,sBAAsB,CAAC,CAAC;QAC/B;MACF,EAAE,OAAOQ,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,oBAAoB,EAAEA,KAAK,CAAC;QAC1C,IAAI,CAACF,MAAM,CAACE,KAAK,CAAC,mCAAmC,CAAC;MACxD;IACF,CAAC;IACD,MAAME,OAAOA,CAAA,EAAG;MACd,IAAI;QACF,MAAMP,QAAO,GAAI,MAAMX,KAAK,CAACY,IAAI,CAAC,0BAA0B,EAAE,CAAC,CAAC,CAAC;QACjE,IAAID,QAAQ,CAACE,MAAK,KAAM,GAAG,EAAE;UAC3B,IAAI,CAACC,MAAM,CAACC,OAAO,CAAC,sBAAsB,CAAC;UAC3C,IAAI,CAACP,sBAAsB,CAAC,CAAC;QAC/B;MACF,EAAE,OAAOQ,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,qBAAqB,EAAEA,KAAK,CAAC;QAC3C,IAAI,CAACF,MAAM,CAACE,KAAK,CAAC,oCAAoC,CAAC;MACzD;IACF,CAAC;IACD,MAAMR,sBAAsBA,CAAA,EAAG;MAC7B,IAAI;QACF,MAAMG,QAAO,GAAI,MAAMX,KAAK,CAACmB,GAAG,CAAC,yBAAyB,CAAC;QAC3D,IAAI,CAACb,iBAAgB,GAAIK,QAAQ,CAACT,IAAI,CAACkB,OAAO;QAC9C,IAAI,CAACjB,aAAY,GAAIQ,QAAQ,CAACT,IAAI,CAACC,aAAa;QAChD,IAAI,CAACC,SAAQ,GAAIO,QAAQ,CAACT,IAAI,CAACE,SAAS;QACxC,IAAI,CAACC,WAAU,GAAIM,QAAQ,CAACT,IAAI,CAACG,WAAW;MAC9C,EAAE,OAAOW,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,qCAAqC,EAAEA,KAAK,CAAC;MAC7D;IACF;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
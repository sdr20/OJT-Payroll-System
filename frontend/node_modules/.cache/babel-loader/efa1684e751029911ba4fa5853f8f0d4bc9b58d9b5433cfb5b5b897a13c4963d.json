{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nimport axios from 'axios';\nexport default {\n  data() {\n    return {\n      employees: [],\n      adminPositions: ['Manager', 'Assistant', 'Developer'],\n      selectedEmployee: {},\n      showEditModal: false,\n      showDetailsModal: false,\n      showDeleteModal: false,\n      pendingRequests: [],\n      selectedRequest: {},\n      showRequestModal: false,\n      isEditingRequest: false,\n      nextEmployeeId: 1,\n      isUpdating: false,\n      isDeleting: false,\n      statusMessage: ''\n    };\n  },\n  mounted() {\n    this.fetchEmployees();\n    this.fetchPendingRequests();\n  },\n  methods: {\n    calculateNetSalary(employee) {\n      if (!employee) return 0;\n      const totalEarnings = (employee.earnings?.travelExpenses || 0) + (employee.earnings?.otherEarnings || 0);\n      return employee.salary + totalEarnings; // No deductions to subtract\n    },\n    calculateRequestNetSalary(request) {\n      if (!request) return 0;\n      const totalEarnings = (request.earnings?.travelExpenses || 0) + (request.earnings?.otherEarnings || 0);\n      return request.salary + totalEarnings; // No deductions to subtract\n    },\n    async fetchEmployees() {\n      try {\n        const response = await axios.get('http://localhost:7777/api/employees');\n        console.log('Fetched employees:', response.data); // Debugging\n        this.employees = response.data || [];\n        this.nextEmployeeId = Math.max(...this.employees.map(e => e.id), 0) + 1;\n      } catch (error) {\n        console.error('Error fetching employees:', error);\n        this.showErrorMessage('Failed to load employees. Please try again.');\n      }\n    },\n    async refreshEmployees() {\n      await this.fetchEmployees();\n      this.showSuccessMessage('Employee list refreshed successfully!');\n    },\n    async fetchPendingRequests() {\n      try {\n        const response = await axios.get('http://localhost:7777/api/pending-requests');\n        console.log('Fetched pending requests:', response.data); // Debugging\n        this.pendingRequests = response.data || [];\n      } catch (error) {\n        console.error('Error fetching pending requests:', error);\n        this.showErrorMessage('Failed to load pending requests. Please try again.');\n      }\n    },\n    async refreshPendingRequests() {\n      await this.fetchPendingRequests();\n      this.showSuccessMessage('Pending requests refreshed successfully!');\n    },\n    viewEmployeeDetails(employee) {\n      this.selectedEmployee = {\n        ...employee\n      };\n      console.log('Viewing employee details:', this.selectedEmployee); // Debugging\n      this.showDetailsModal = true;\n    },\n    editEmployee(employee) {\n      this.selectedEmployee = {\n        ...employee,\n        earnings: {\n          travelExpenses: employee.earnings?.travelExpenses || 0,\n          otherEarnings: employee.earnings?.otherEarnings || 0\n        }\n      };\n      this.showDetailsModal = false;\n      this.showEditModal = true;\n    },\n    async updateEmployee() {\n      if (!this.selectedEmployee.firstName || !this.selectedEmployee.lastName) {\n        this.showErrorMessage('First and Last names are required');\n        return;\n      }\n      if (!this.selectedEmployee.email || !this.selectedEmployee.contactInfo) {\n        this.showErrorMessage('Email and Contact Info are required');\n        return;\n      }\n      if (this.selectedEmployee.salary < 0) {\n        this.showErrorMessage('Salary cannot be negative');\n        return;\n      }\n      this.isUpdating = true;\n      try {\n        const response = await axios.put(`http://localhost:7777/api/employees/${this.selectedEmployee.id}`, this.selectedEmployee);\n        if (response.status === 200) {\n          const index = this.employees.findIndex(emp => emp.id === this.selectedEmployee.id);\n          if (index !== -1) {\n            this.employees[index] = {\n              ...this.selectedEmployee\n            };\n          }\n          this.showEditModal = false;\n          this.showSuccessMessage('Employee updated successfully');\n        }\n      } catch (error) {\n        console.error('Error updating employee:', error);\n        this.showErrorMessage('Failed to update employee. Please try again.');\n      } finally {\n        this.isUpdating = false;\n      }\n    },\n    confirmDelete(employee) {\n      this.selectedEmployee = employee;\n      this.showDeleteModal = true;\n    },\n    async removeEmployee(id) {\n      this.isDeleting = true;\n      try {\n        const response = await axios.delete(`http://localhost:7777/api/employees/${id}`);\n        if (response.status === 200 || response.status === 204) {\n          this.employees = this.employees.filter(emp => emp.id !== id);\n          this.showDeleteModal = false;\n          this.showSuccessMessage('Employee removed successfully');\n        }\n      } catch (error) {\n        console.error('Error deleting employee:', error);\n        this.showErrorMessage('Failed to delete employee. Please try again.');\n      } finally {\n        this.isDeleting = false;\n      }\n    },\n    // Pending Requests Methods\n    viewRequestInfo(request) {\n      this.selectedRequest = {\n        ...request,\n        earnings: {\n          travelExpenses: request.earnings?.travelExpenses || 0,\n          otherEarnings: request.earnings?.otherEarnings || 0\n        }\n      };\n      console.log('Viewing request info:', this.selectedRequest); // Debugging\n      this.showRequestModal = true;\n      this.isEditingRequest = false;\n    },\n    async saveRequestChanges() {\n      if (!this.selectedRequest.name) {\n        this.showErrorMessage('Name is required');\n        return;\n      }\n      if (!this.selectedRequest.email || !this.selectedRequest.contactNumber) {\n        this.showErrorMessage('Email and Contact Number are required');\n        return;\n      }\n      if (this.selectedRequest.salary < 0) {\n        this.showErrorMessage('Salary cannot be negative');\n        return;\n      }\n      try {\n        const response = await axios.put(`http://localhost:7777/api/pending-requests/${this.selectedRequest.id}`, this.selectedRequest);\n        if (response.status === 200) {\n          const index = this.pendingRequests.findIndex(req => req.id === this.selectedRequest.id);\n          if (index !== -1) {\n            this.pendingRequests[index] = {\n              ...this.selectedRequest\n            };\n          }\n          this.showSuccessMessage('Request updated successfully');\n          this.isEditingRequest = false;\n        }\n      } catch (error) {\n        console.error('Error saving request changes:', error);\n        this.showErrorMessage('Failed to save request changes. Please try again.');\n      }\n    },\n    async approveRequest(request) {\n      try {\n        const newEmployee = {\n          id: request.id,\n          // Use the same ID as the pending request\n          firstName: request.name.split(' ')[0],\n          lastName: request.name.split(' ').slice(1).join(' ') || '',\n          position: request.positionApplied,\n          salary: request.salary,\n          email: request.email,\n          contactInfo: request.contactNumber,\n          sss: request.sss || '',\n          philhealth: request.philhealth || '',\n          pagibig: request.pagibig || '',\n          earnings: {\n            travelExpenses: request.earnings?.travelExpenses || 0,\n            otherEarnings: request.earnings?.otherEarnings || 0\n          },\n          payheads: [],\n          // Assuming empty initially\n          username: request.username,\n          password: request.password\n        };\n        console.log('Approving employee with data:', newEmployee);\n        const response = await axios.post('http://localhost:7777/api/employees', newEmployee);\n        if (response.status === 201) {\n          this.employees.push(response.data);\n          await axios.delete(`http://localhost:7777/api/pending-requests/${request.id}`);\n          this.pendingRequests = this.pendingRequests.filter(req => req.id !== request.id);\n          this.showRequestModal = false;\n          this.showSuccessMessage('Employee approved and added successfully');\n          this.nextEmployeeId = Math.max(...this.employees.map(e => e.id), 0) + 1; // Update next ID\n        }\n      } catch (error) {\n        console.error('Error approving request:', error);\n        this.showErrorMessage('Error approving employee. Please try again.');\n      }\n    },\n    async rejectRequest(id) {\n      try {\n        const response = await axios.delete(`http://localhost:7777/api/pending-requests/${id}`);\n        if (response.status === 200 || response.status === 204) {\n          this.pendingRequests = this.pendingRequests.filter(req => req.id !== id);\n          this.showRequestModal = false;\n          this.showSuccessMessage('Application rejected successfully');\n        }\n      } catch (error) {\n        console.error('Error rejecting request:', error);\n        this.showErrorMessage('Error rejecting application. Please try again.');\n      }\n    },\n    // Notification Methods\n    showSuccessMessage(message) {\n      this.statusMessage = message;\n      setTimeout(() => this.statusMessage = '', 3000);\n    },\n    showErrorMessage(message) {\n      this.statusMessage = message;\n      setTimeout(() => this.statusMessage = '', 3000);\n    }\n  }\n};","map":{"version":3,"names":["axios","data","employees","adminPositions","selectedEmployee","showEditModal","showDetailsModal","showDeleteModal","pendingRequests","selectedRequest","showRequestModal","isEditingRequest","nextEmployeeId","isUpdating","isDeleting","statusMessage","mounted","fetchEmployees","fetchPendingRequests","methods","calculateNetSalary","employee","totalEarnings","earnings","travelExpenses","otherEarnings","salary","calculateRequestNetSalary","request","response","get","console","log","Math","max","map","e","id","error","showErrorMessage","refreshEmployees","showSuccessMessage","refreshPendingRequests","viewEmployeeDetails","editEmployee","updateEmployee","firstName","lastName","email","contactInfo","put","status","index","findIndex","emp","confirmDelete","removeEmployee","delete","filter","viewRequestInfo","saveRequestChanges","name","contactNumber","req","approveRequest","newEmployee","split","slice","join","position","positionApplied","sss","philhealth","pagibig","payheads","username","password","post","push","rejectRequest","message","setTimeout"],"sources":["C:\\Users\\ASUS\\Desktop\\Payroll_system\\frontend\\src\\views\\admind\\ManageEmployees.vue"],"sourcesContent":["<template>\r\n  <div class=\"min-h-screen bg-gray-50 p-4\">\r\n    <div class=\"flex gap-6\">\r\n      <!-- Left side - Employee List -->\r\n      <div class=\"flex-1\">\r\n        <div class=\"bg-white rounded-xl shadow-sm overflow-hidden\">\r\n          <div class=\"p-6 flex justify-between items-center\">\r\n            <h2 class=\"text-xl font-bold text-gray-800\">Employee List</h2>\r\n            <button @click=\"refreshEmployees\" \r\n                    class=\"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition duration-200\">\r\n              Refresh\r\n            </button>\r\n          </div>\r\n          <div class=\"overflow-x-auto\">\r\n            <table class=\"w-full\">\r\n              <thead class=\"bg-gray-50\">\r\n                <tr>\r\n                  <th class=\"px-6 py-4 text-left text-sm font-medium text-gray-500\">Employee ID</th>\r\n                  <th class=\"px-6 py-4 text-left text-sm font-medium text-gray-500\">Name</th>\r\n                  <th class=\"px-6 py-4 text-left text-sm font-medium text-gray-500\">Position</th>\r\n                  <th class=\"px-6 py-4 text-left text-sm font-medium text-gray-500\">Total Salary</th>\r\n                  <th class=\"px-6 py-4 text-right text-sm font-medium text-gray-500\">Actions</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody class=\"divide-y divide-gray-100\">\r\n                <tr v-for=\"employee in employees\" :key=\"employee.id\" \r\n                    class=\"hover:bg-gray-50 transition duration-200\">\r\n                  <td class=\"px-6 py-4 text-sm text-gray-900\">{{ employee.id }}</td>\r\n                  <td class=\"px-6 py-4 text-sm text-gray-900\">{{ employee.firstName }} {{ employee.lastName }}</td>\r\n                  <td class=\"px-6 py-4 text-sm text-gray-900\">{{ employee.position }}</td>\r\n                  <td class=\"px-6 py-4 text-sm text-gray-900\">₱{{ calculateNetSalary(employee).toLocaleString() }}</td>\r\n                  <td class=\"px-6 py-4 text-right flex justify-end gap-3\">\r\n                    <button @click=\"viewEmployeeDetails(employee)\" \r\n                            class=\"text-blue-600 hover:text-blue-800 transition duration-200\">\r\n                      <span class=\"material-icons-outlined\">info</span>\r\n                    </button>\r\n                    <button @click=\"editEmployee(employee)\" \r\n                            class=\"text-yellow-600 hover:text-yellow-800 transition duration-200\">\r\n                      <span class=\"material-icons-outlined\">edit</span>\r\n                    </button>\r\n                    <button @click=\"confirmDelete(employee)\" \r\n                            class=\"text-red-600 hover:text-red-800 transition duration-200\">\r\n                      <span class=\"material-icons-outlined\">delete</span>\r\n                    </button>\r\n                  </td>\r\n                </tr>\r\n                <tr v-if=\"employees.length === 0\">\r\n                  <td colspan=\"5\" class=\"px-6 py-4 text-center text-sm text-gray-500\">No employees found.</td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Right side - Pending Approvals -->\r\n      <div class=\"w-96\">\r\n        <div class=\"bg-white rounded-xl shadow-sm overflow-hidden\">\r\n          <div class=\"p-6 border-b border-gray-100 flex justify-between items-center\">\r\n            <h2 class=\"text-xl font-bold text-gray-800\">Pending Approvals</h2>\r\n            <button @click=\"refreshPendingRequests\" \r\n                    class=\"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition duration-200\">\r\n              Refresh\r\n            </button>\r\n          </div>\r\n          <div class=\"divide-y divide-gray-100\">\r\n            <div v-for=\"request in pendingRequests\" :key=\"request.id\" class=\"p-4\">\r\n              <div class=\"flex justify-between items-start mb-2\">\r\n                <div>\r\n                  <h3 class=\"text-sm font-medium text-gray-900\">{{ request.name }}</h3>\r\n                  <p class=\"text-sm text-gray-500\">{{ request.positionApplied }}</p>\r\n                </div>\r\n                <span class=\"px-2 py-1 text-xs font-medium bg-yellow-100 text-yellow-800 rounded-full\">\r\n                  Pending\r\n                </span>\r\n              </div>\r\n              <div class=\"flex gap-2\">\r\n                <button @click=\"viewRequestInfo(request)\" \r\n                        class=\"text-sm px-3 py-1 text-blue-600 hover:bg-blue-50 rounded-md transition duration-200\">\r\n                  View Info\r\n                </button>\r\n                <button @click=\"approveRequest(request)\"\r\n                        class=\"text-sm px-3 py-1 text-green-600 hover:bg-green-50 rounded-md transition duration-200\">\r\n                  Approve\r\n                </button>\r\n                <button @click=\"rejectRequest(request.id)\"\r\n                        class=\"text-sm px-3 py-1 text-red-600 hover:bg-red-50 rounded-md transition duration-200\">\r\n                  Reject\r\n                </button>\r\n              </div>\r\n            </div>\r\n            <div v-if=\"pendingRequests.length === 0\" class=\"p-4 text-center text-sm text-gray-500\">\r\n              No pending approvals.\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Request Info Modal -->\r\n    <div v-if=\"showRequestModal\" \r\n         class=\"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50\">\r\n      <div class=\"bg-white rounded-xl shadow-xl w-full max-w-2xl m-4 max-h-[90vh] overflow-y-auto\">\r\n        <div class=\"p-6 border-b\">\r\n          <h2 class=\"text-2xl font-bold text-gray-800\">Application Details</h2>\r\n        </div>\r\n        <div class=\"p-6\">\r\n          <!-- Basic Information -->\r\n          <div class=\"mb-6\">\r\n            <h3 class=\"text-lg font-semibold text-gray-800 mb-4\">Basic Information</h3>\r\n            <div class=\"grid grid-cols-2 gap-6\">\r\n              <div class=\"space-y-2\">\r\n                <p class=\"text-sm font-medium text-gray-700\">Full Name</p>\r\n                <input v-if=\"isEditingRequest\" v-model=\"selectedRequest.name\" \r\n                       class=\"w-full p-2 border border-gray-200 rounded-lg\" required />\r\n                <p v-else class=\"text-lg text-gray-900\">{{ selectedRequest.name }}</p>\r\n              </div>\r\n              <div class=\"space-y-2\">\r\n                <p class=\"text-sm font-medium text-gray-700\">Position Applied</p>\r\n                <select v-if=\"isEditingRequest\" v-model=\"selectedRequest.positionApplied\" \r\n                        class=\"w-full p-2 border border-guard-200 rounded-lg\" required>\r\n                  <option v-for=\"position in adminPositions\" :key=\"position\" :value=\"position\">\r\n                    {{ position }}\r\n                  </option>\r\n                </select>\r\n                <p v-else class=\"text-lg text-gray-900\">{{ selectedRequest.positionApplied }}</p>\r\n              </div>\r\n              <div class=\"space-y-2\">\r\n                <p class=\"text-sm font-medium text-gray-700\">Email</p>\r\n                <input v-if=\"isEditingRequest\" v-model=\"selectedRequest.email\" type=\"email\"\r\n                       class=\"w-full p-2 border border-gray-200 rounded-lg\" required />\r\n                <p v-else class=\"text-lg text-gray-900\">{{ selectedRequest.email }}</p>\r\n              </div>\r\n              <div class=\"space-y-2\">\r\n                <p class=\"text-sm font-medium text-gray-700\">Contact Number</p>\r\n                <input v-if=\"isEditingRequest\" v-model=\"selectedRequest.contactNumber\" \r\n                       class=\"w-full p-2 border border-gray-200 rounded-lg\" required pattern=\"\\d{11}\" title=\"Please enter an 11-digit phone number (e.g., 09123456789)\" />\r\n                <p v-else class=\"text-lg text-gray-900\">{{ selectedRequest.contactNumber }}</p>\r\n              </div>\r\n              <div class=\"space-y-2\">\r\n                <p class=\"text-sm font-medium text-gray-700\">SSS ID</p>\r\n                <input v-if=\"isEditingRequest\" v-model=\"selectedRequest.sss\" \r\n                       class=\"w-full p-2 border border-gray-200 rounded-lg\" pattern=\"\\d{10}\" title=\"Please enter a 10-digit SSS ID (e.g., 1234567890)\" />\r\n                <p v-else class=\"text-lg text-gray-900\">{{ selectedRequest.sss || 'Not provided' }}</p>\r\n              </div>\r\n              <div class=\"space-y-2\">\r\n                <p class=\"text-sm font-medium text-gray-700\">PhilHealth ID</p>\r\n                <input v-if=\"isEditingRequest\" v-model=\"selectedRequest.philhealth\" \r\n                       class=\"w-full p-2 border border-gray-200 rounded-lg\" pattern=\"\\d{12}\" title=\"Please enter a 12-digit PhilHealth ID (e.g., 123456789012)\" />\r\n                <p v-else class=\"text-lg text-gray-900\">{{ selectedRequest.philhealth || 'Not provided' }}</p>\r\n              </div>\r\n              <div class=\"space-y-2\">\r\n                <p class=\"text-sm font-medium text-gray-700\">Pag-IBIG ID</p>\r\n                <input v-if=\"isEditingRequest\" v-model=\"selectedRequest.pagibig\" \r\n                       class=\"w-full p-2 border border-gray-200 rounded-lg\" pattern=\"\\d{12}\" title=\"Please enter a 12-digit Pag-IBIG ID (e.g., 123456789012)\" />\r\n                <p v-else class=\"text-lg text-gray-900\">{{ selectedRequest.pagibig || 'Not provided' }}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Financial Information -->\r\n          <div class=\"mb-6\">\r\n            <h3 class=\"text-lg font-semibold text-gray-800 mb-4\">Financial Information</h3>\r\n            <div class=\"grid grid-cols-2 gap-6\">\r\n              <div class=\"space-y-2\">\r\n                <p class=\"text-sm font-medium text-gray-700\">Proposed Salary</p>\r\n                <input v-if=\"isEditingRequest\" v-model.number=\"selectedRequest.salary\" type=\"number\"\r\n                       class=\"w-full p-2 border border-gray-200 rounded-lg\" required min=\"0\" />\r\n                <p v-else class=\"text-lg text-gray-900\">₱{{ selectedRequest.salary.toLocaleString() }}</p>\r\n              </div>\r\n              <!-- Earnings -->\r\n              <div class=\"space-y-4\">\r\n                <p class=\"text-sm font-medium text-gray-700\">Additional Earnings</p>\r\n                <div class=\"space-y-2\">\r\n                  <label class=\"text-sm text-gray-600\">Travel Expenses</label>\r\n                  <input v-if=\"isEditingRequest\" v-model.number=\"selectedRequest.earnings.travelExpenses\" type=\"number\"\r\n                         class=\"w-full p-2 border border-gray-200 rounded-lg\" min=\"0\" />\r\n                  <p v-else class=\"text-sm text-gray-900\">₱{{ selectedRequest.earnings?.travelExpenses || 0 }}</p>\r\n                </div>\r\n                <div class=\"space-y-2\">\r\n                  <label class=\"text-sm text-gray-600\">Other Earnings</label>\r\n                  <input v-if=\"isEditingRequest\" v-model.number=\"selectedRequest.earnings.otherEarnings\" type=\"number\"\r\n                         class=\"w-full p-2 border border-gray-200 rounded-lg\" min=\"0\" />\r\n                  <p v-else class=\"text-sm text-gray-900\">₱{{ selectedRequest.earnings?.otherEarnings || 0 }}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div v-if=\"isEditingRequest\" class=\"mt-6 p-4 bg-gray-50 rounded-lg\">\r\n              <div class=\"flex justify-between items-center\">\r\n                <span class=\"text-sm font-medium text-gray-700\">Net Salary Preview:</span>\r\n                <span class=\"text-lg font-semibold text-gray-900\">₱{{ calculateRequestNetSalary(selectedRequest).toLocaleString() }}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"mt-6 flex justify-end gap-3\">\r\n            <button v-if=\"isEditingRequest\" @click=\"saveRequestChanges\"\r\n                    class=\"px-6 py-2.5 bg-indigo-600 text-white font-medium rounded-lg hover:bg-indigo-700 transition duration-200\">\r\n              Save\r\n            </button>\r\n            <button v-else @click=\"isEditingRequest = true\"\r\n                    class=\"px-6 py-2.5 bg-yellow-600 text-white font-medium rounded-lg hover:bg-yellow-700 transition duration-200\">\r\n              Edit\r\n            </button>\r\n            <button @click=\"showRequestModal = false; isEditingRequest = false\"\r\n                    class=\"px-6 py-2.5 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50 transition duration-200\">\r\n              Close\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Employee Details Modal -->\r\n    <div v-if=\"showDetailsModal\" \r\n         class=\"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50\">\r\n      <div class=\"bg-white rounded-xl shadow-xl w-full max-w-2xl m-4\">\r\n        <div class=\"p-6 border-b flex justify-between items-center\">\r\n          <h2 class=\"text-2xl font-bold text-gray-800\">Employee Details</h2>\r\n          <button @click=\"showDetailsModal = false\" \r\n                  class=\"text-gray-500 hover:text-gray-700\">\r\n            <span class=\"material-icons-outlined\">close</span>\r\n          </button>\r\n        </div>\r\n        <div class=\"p-6\">\r\n          <div class=\"grid grid-cols-2 gap-6\">\r\n            <!-- Basic Information -->\r\n            <div class=\"col-span-2\">\r\n              <h3 class=\"text-lg font-semibold text-gray-800 mb-4\">Basic Information</h3>\r\n              <div class=\"grid grid-cols-2 gap-4\">\r\n                <div class=\"space-y-2\">\r\n                  <p class=\"text-sm font-medium text-gray-500\">Full Name</p>\r\n                  <p class=\"text-base text-gray-900\">{{ selectedEmployee.firstName }} {{ selectedEmployee.lastName }}</p>\r\n                </div>\r\n                <div class=\"space-y-2\">\r\n                  <p class=\"text-sm font-medium text-gray-500\">Position</p>\r\n                  <p class=\"text-base text-gray-900\">{{ selectedEmployee.position }}</p>\r\n                </div>\r\n                <div class=\"space-y-2\">\r\n                  <p class=\"text-sm font-medium text-gray-500\">Email</p>\r\n                  <p class=\"text-base text-gray-900\">{{ selectedEmployee.email }}</p>\r\n                </div>\r\n                <div class=\"space-y-2\">\r\n                  <p class=\"text-sm font-medium text-gray-500\">Contact Info</p>\r\n                  <p class=\"text-base text-gray-900\">{{ selectedEmployee.contactInfo }}</p>\r\n                </div>\r\n                <div class=\"space-y-2\">\r\n                  <p class=\"text-sm font-medium text-gray-500\">SSS ID</p>\r\n                  <p class=\"text-base text-gray-900\">{{ selectedEmployee.sss || 'Not provided' }}</p>\r\n                </div>\r\n                <div class=\"space-y-2\">\r\n                  <p class=\"text-sm font-medium text-gray-500\">PhilHealth ID</p>\r\n                  <p class=\"text-base text-gray-900\">{{ selectedEmployee.philhealth || 'Not provided' }}</p>\r\n                </div>\r\n                <div class=\"space-y-2\">\r\n                  <p class=\"text-sm font-medium text-gray-500\">Pag-IBIG ID</p>\r\n                  <p class=\"text-base text-gray-900\">{{ selectedEmployee.pagibig || 'Not provided' }}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <!-- Financial Information -->\r\n            <div class=\"col-span-2\">\r\n              <h3 class=\"text-lg font-semibold text-gray-800 mb-4\">Financial Information</h3>\r\n              <div class=\"grid grid-cols-2 gap-4\">\r\n                <div class=\"space-y-2\">\r\n                  <p class=\"text-sm font-medium text-gray-500\">Base Salary</p>\r\n                  <p class=\"text-base text-gray-900\">₱{{ selectedEmployee.salary.toLocaleString() }}</p>\r\n                </div>\r\n                <div class=\"space-y-2\">\r\n                  <p class=\"text-sm font-medium text-gray-500\">Additional Earnings</p>\r\n                  <div class=\"space-y-1\">\r\n                    <p class=\"text-sm text-gray-900\">Travel: ₱{{ selectedEmployee.earnings?.travelExpenses || 0 }}</p>\r\n                    <p class=\"text-sm text-gray-900\">Other: ₱{{ selectedEmployee.earnings?.otherEarnings || 0 }}</p>\r\n                  </div>\r\n                </div>\r\n                <div class=\"space-y-2\">\r\n                  <p class=\"text-sm font-medium text-gray-500\">Net Salary</p>\r\n                  <p class=\"text-base font-semibold text-gray-900\">₱{{ calculateNetSalary(selectedEmployee).toLocaleString() }}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"p-6 border-t bg-gray-50\">\r\n          <div class=\"flex justify-end gap-3\">\r\n            <button @click=\"editEmployee(selectedEmployee)\"\r\n                    class=\"px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 transition duration-200\">\r\n              Edit Details\r\n            </button>\r\n            <button @click=\"showDetailsModal = false\"\r\n                    class=\"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100 transition duration-200\">\r\n              Close\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Edit Employee Modal -->\r\n    <div v-if=\"showEditModal\" \r\n         class=\"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50\">\r\n      <div class=\"bg-white rounded-xl shadow-xl w-full max-w-2xl m-4 max-h-[90vh] overflow-y-auto\">\r\n        <div class=\"p-6 border-b\">\r\n          <h2 class=\"text-2xl font-bold text-gray-800\">Edit Employee</h2>\r\n        </div>\r\n        <div class=\"p-6\">\r\n          <!-- Basic Information -->\r\n          <div class=\"mb-6\">\r\n            <h3 class=\"text-lg font-semibold text-gray-800 mb-4\">Basic Information</h3>\r\n            <div class=\"grid grid-cols-2 gap-6\">\r\n              <div class=\"space-y-2\">\r\n                <label class=\"text-sm font-medium text-gray-700\">First Name</label>\r\n                <input v-model=\"selectedEmployee.firstName\" \r\n                       class=\"w-full p-2 border border-gray-200 rounded-lg\" required />\r\n              </div>\r\n              <div class=\"space-y-2\">\r\n                <label class=\"text-sm font-medium text-gray-700\">Last Name</label>\r\n                <input v-model=\"selectedEmployee.lastName\" \r\n                       class=\"w-full p-2 border border-gray-200 rounded-lg\" required />\r\n              </div>\r\n              <div class=\"space-y-2\">\r\n                <label class=\"text-sm font-medium text-gray-700\">Position</label>\r\n                <select v-model=\"selectedEmployee.position\" \r\n                        class=\"w-full p-2 border border-gray-200 rounded-lg\" required>\r\n                  <option v-for=\"position in adminPositions\" :key=\"position\" :value=\"position\">\r\n                    {{ position }}\r\n                  </option>\r\n                </select>\r\n              </div>\r\n              <div class=\"space-y-2\">\r\n                <label class=\"text-sm font-medium text-gray-700\">Base Salary</label>\r\n                <input v-model.number=\"selectedEmployee.salary\" type=\"number\"\r\n                       class=\"w-full p-2 border border-gray-200 rounded-lg\" required min=\"0\" />\r\n              </div>\r\n              <div class=\"space-y-2\">\r\n                <label class=\"text-sm font-medium text-gray-700\">Email</label>\r\n                <input v-model=\"selectedEmployee.email\" type=\"email\"\r\n                       class=\"w-full p-2 border border-gray-200 rounded-lg\" required />\r\n              </div>\r\n              <div class=\"space-y-2\">\r\n                <label class=\"text-sm font-medium text-gray-700\">Contact Info</label>\r\n                <input v-model=\"selectedEmployee.contactInfo\" \r\n                       class=\"w-full p-2 border border-gray-200 rounded-lg\" required pattern=\"\\d{11}\" title=\"Please enter an 11-digit phone number (e.g., 09123456789)\" />\r\n              </div>\r\n              <div class=\"space-y-2\">\r\n                <label class=\"text-sm font-medium text-gray-700\">SSS ID</label>\r\n                <input v-model=\"selectedEmployee.sss\" \r\n                       class=\"w-full p-2 border border-gray-200 rounded-lg\" pattern=\"\\d{10}\" title=\"Please enter a 10-digit SSS ID (e.g., 1234567890)\" />\r\n              </div>\r\n              <div class=\"space-y-2\">\r\n                <label class=\"text-sm font-medium text-gray-700\">PhilHealth ID</label>\r\n                <input v-model=\"selectedEmployee.philhealth\" \r\n                       class=\"w-full p-2 border border-gray-200 rounded-lg\" pattern=\"\\d{12}\" title=\"Please enter a 12-digit PhilHealth ID (e.g., 123456789012)\" />\r\n              </div>\r\n              <div class=\"space-y-2\">\r\n                <label class=\"text-sm font-medium text-gray-700\">Pag-IBIG ID</label>\r\n                <input v-model=\"selectedEmployee.pagibig\" \r\n                       class=\"w-full p-2 border border-gray-200 rounded-lg\" pattern=\"\\d{12}\" title=\"Please enter a 12-digit Pag-IBIG ID (e.g., 123456789012)\" />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Financial Information -->\r\n          <div class=\"mb-6\">\r\n            <h3 class=\"text-lg font-semibold text-gray-800 mb-4\">Financial Information</h3>\r\n            <div class=\"grid grid-cols-2 gap-6\">\r\n              <!-- Earnings -->\r\n              <div class=\"space-y-4\">\r\n                <p class=\"text-sm font-medium text-gray-700\">Additional Earnings</p>\r\n                <div class=\"space-y-2\">\r\n                  <label class=\"text-sm text-gray-600\">Travel Expenses</label>\r\n                  <input v-model.number=\"selectedEmployee.earnings.travelExpenses\" type=\"number\"\r\n                         class=\"w-full p-2 border border-gray-200 rounded-lg\" min=\"0\" />\r\n                </div>\r\n                <div class=\"space-y-2\">\r\n                  <label class=\"text-sm text-gray-600\">Other Earnings</label>\r\n                  <input v-model.number=\"selectedEmployee.earnings.otherEarnings\" type=\"number\"\r\n                         class=\"w-full p-2 border border-gray-200 rounded-lg\" min=\"0\" />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Net Salary Preview -->\r\n          <div class=\"mt-6 p-4 bg-gray-50 rounded-lg\">\r\n            <div class=\"flex justify-between items-center\">\r\n              <span class=\"text-sm font-medium text-gray-700\">Net Salary Preview:</span>\r\n              <span class=\"text-lg font-semibold text-gray-900\">₱{{ calculateNetSalary(selectedEmployee).toLocaleString() }}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"p-6 border-t bg-gray-50\">\r\n          <div class=\"flex justify-end gap-3\">\r\n            <button @click=\"updateEmployee\"\r\n                    class=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition duration-200\"\r\n                    :disabled=\"isUpdating\">\r\n              {{ isUpdating ? 'Saving...' : 'Save Changes' }}\r\n            </button>\r\n            <button @click=\"showEditModal = false\"\r\n                    class=\"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100 transition duration-200\">\r\n              Cancel\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Delete Confirmation Modal -->\r\n    <div v-if=\"showDeleteModal\" \r\n         class=\"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50\">\r\n      <div class=\"bg-white rounded-xl shadow-xl w-full max-w-md m-4\">\r\n        <div class=\"p-6\">\r\n          <h3 class=\"text-xl font-semibold text-gray-900 mb-4\">Confirm Delete</h3>\r\n          <p class=\"text-gray-600\">\r\n            Are you sure you want to remove {{ selectedEmployee.firstName }} {{ selectedEmployee.lastName }} \r\n            from the employee list? This action cannot be undone.\r\n          </p>\r\n        </div>\r\n        <div class=\"p-6 border-t bg-gray-50\">\r\n          <div class=\"flex justify-end gap-3\">\r\n            <button @click=\"removeEmployee(selectedEmployee.id)\"\r\n                    class=\"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition duration-200\"\r\n                    :disabled=\"isDeleting\">\r\n              {{ isDeleting ? 'Deleting...' : 'Delete' }}\r\n            </button>\r\n            <button @click=\"showDeleteModal = false\"\r\n                    class=\"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100 transition duration-200\">\r\n              Cancel\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Status Message -->\r\n    <div v-if=\"statusMessage\" \r\n         :class=\"statusMessage.includes('successfully') ? 'bg-green-50 text-green-700' : 'bg-red-50 text-red-700'\"\r\n         class=\"fixed bottom-4 right-4 p-4 rounded-lg shadow-md z-50\">\r\n      {{ statusMessage }}\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      employees: [],\r\n      adminPositions: ['Manager', 'Assistant', 'Developer'],\r\n      selectedEmployee: {},\r\n      showEditModal: false,\r\n      showDetailsModal: false,\r\n      showDeleteModal: false,\r\n      pendingRequests: [],\r\n      selectedRequest: {},\r\n      showRequestModal: false,\r\n      isEditingRequest: false,\r\n      nextEmployeeId: 1,\r\n      isUpdating: false,\r\n      isDeleting: false,\r\n      statusMessage: ''\r\n    };\r\n  },\r\n  mounted() {\r\n    this.fetchEmployees();\r\n    this.fetchPendingRequests();\r\n  },\r\n  methods: {\r\n    calculateNetSalary(employee) {\r\n      if (!employee) return 0;\r\n      const totalEarnings = (employee.earnings?.travelExpenses || 0) + \r\n                           (employee.earnings?.otherEarnings || 0);\r\n      return employee.salary + totalEarnings; // No deductions to subtract\r\n    },\r\n\r\n    calculateRequestNetSalary(request) {\r\n      if (!request) return 0;\r\n      const totalEarnings = (request.earnings?.travelExpenses || 0) + \r\n                           (request.earnings?.otherEarnings || 0);\r\n      return request.salary + totalEarnings; // No deductions to subtract\r\n    },\r\n\r\n    async fetchEmployees() {\r\n      try {\r\n        const response = await axios.get('http://localhost:7777/api/employees');\r\n        console.log('Fetched employees:', response.data); // Debugging\r\n        this.employees = response.data || [];\r\n        this.nextEmployeeId = Math.max(...this.employees.map(e => e.id), 0) + 1;\r\n      } catch (error) {\r\n        console.error('Error fetching employees:', error);\r\n        this.showErrorMessage('Failed to load employees. Please try again.');\r\n      }\r\n    },\r\n\r\n    async refreshEmployees() {\r\n      await this.fetchEmployees();\r\n      this.showSuccessMessage('Employee list refreshed successfully!');\r\n    },\r\n\r\n    async fetchPendingRequests() {\r\n      try {\r\n        const response = await axios.get('http://localhost:7777/api/pending-requests');\r\n        console.log('Fetched pending requests:', response.data); // Debugging\r\n        this.pendingRequests = response.data || [];\r\n      } catch (error) {\r\n        console.error('Error fetching pending requests:', error);\r\n        this.showErrorMessage('Failed to load pending requests. Please try again.');\r\n      }\r\n    },\r\n\r\n    async refreshPendingRequests() {\r\n      await this.fetchPendingRequests();\r\n      this.showSuccessMessage('Pending requests refreshed successfully!');\r\n    },\r\n\r\n    viewEmployeeDetails(employee) {\r\n      this.selectedEmployee = { ...employee };\r\n      console.log('Viewing employee details:', this.selectedEmployee); // Debugging\r\n      this.showDetailsModal = true;\r\n    },\r\n\r\n    editEmployee(employee) {\r\n      this.selectedEmployee = { \r\n        ...employee,\r\n        earnings: { \r\n          travelExpenses: employee.earnings?.travelExpenses || 0,\r\n          otherEarnings: employee.earnings?.otherEarnings || 0 \r\n        }\r\n      };\r\n      this.showDetailsModal = false;\r\n      this.showEditModal = true;\r\n    },\r\n\r\n    async updateEmployee() {\r\n      if (!this.selectedEmployee.firstName || !this.selectedEmployee.lastName) {\r\n        this.showErrorMessage('First and Last names are required');\r\n        return;\r\n      }\r\n      if (!this.selectedEmployee.email || !this.selectedEmployee.contactInfo) {\r\n        this.showErrorMessage('Email and Contact Info are required');\r\n        return;\r\n      }\r\n      if (this.selectedEmployee.salary < 0) {\r\n        this.showErrorMessage('Salary cannot be negative');\r\n        return;\r\n      }\r\n\r\n      this.isUpdating = true;\r\n      try {\r\n        const response = await axios.put(`http://localhost:7777/api/employees/${this.selectedEmployee.id}`, this.selectedEmployee);\r\n        if (response.status === 200) {\r\n          const index = this.employees.findIndex(emp => emp.id === this.selectedEmployee.id);\r\n          if (index !== -1) {\r\n            this.employees[index] = { ...this.selectedEmployee };\r\n          }\r\n          this.showEditModal = false;\r\n          this.showSuccessMessage('Employee updated successfully');\r\n        }\r\n      } catch (error) {\r\n        console.error('Error updating employee:', error);\r\n        this.showErrorMessage('Failed to update employee. Please try again.');\r\n      } finally {\r\n        this.isUpdating = false;\r\n      }\r\n    },\r\n\r\n    confirmDelete(employee) {\r\n      this.selectedEmployee = employee;\r\n      this.showDeleteModal = true;\r\n    },\r\n\r\n    async removeEmployee(id) {\r\n      this.isDeleting = true;\r\n      try {\r\n        const response = await axios.delete(`http://localhost:7777/api/employees/${id}`);\r\n        if (response.status === 200 || response.status === 204) {\r\n          this.employees = this.employees.filter(emp => emp.id !== id);\r\n          this.showDeleteModal = false;\r\n          this.showSuccessMessage('Employee removed successfully');\r\n        }\r\n      } catch (error) {\r\n        console.error('Error deleting employee:', error);\r\n        this.showErrorMessage('Failed to delete employee. Please try again.');\r\n      } finally {\r\n        this.isDeleting = false;\r\n      }\r\n    },\r\n\r\n    // Pending Requests Methods\r\n    viewRequestInfo(request) {\r\n      this.selectedRequest = { \r\n        ...request,\r\n        earnings: { \r\n          travelExpenses: request.earnings?.travelExpenses || 0,\r\n          otherEarnings: request.earnings?.otherEarnings || 0 \r\n        }\r\n      };\r\n      console.log('Viewing request info:', this.selectedRequest); // Debugging\r\n      this.showRequestModal = true;\r\n      this.isEditingRequest = false;\r\n    },\r\n\r\n    async saveRequestChanges() {\r\n      if (!this.selectedRequest.name) {\r\n        this.showErrorMessage('Name is required');\r\n        return;\r\n      }\r\n      if (!this.selectedRequest.email || !this.selectedRequest.contactNumber) {\r\n        this.showErrorMessage('Email and Contact Number are required');\r\n        return;\r\n      }\r\n      if (this.selectedRequest.salary < 0) {\r\n        this.showErrorMessage('Salary cannot be negative');\r\n        return;\r\n      }\r\n\r\n      try {\r\n        const response = await axios.put(`http://localhost:7777/api/pending-requests/${this.selectedRequest.id}`, this.selectedRequest);\r\n        if (response.status === 200) {\r\n          const index = this.pendingRequests.findIndex(req => req.id === this.selectedRequest.id);\r\n          if (index !== -1) {\r\n            this.pendingRequests[index] = { ...this.selectedRequest };\r\n          }\r\n          this.showSuccessMessage('Request updated successfully');\r\n          this.isEditingRequest = false;\r\n        }\r\n      } catch (error) {\r\n        console.error('Error saving request changes:', error);\r\n        this.showErrorMessage('Failed to save request changes. Please try again.');\r\n      }\r\n    },\r\n\r\n    async approveRequest(request) {\r\n      try {\r\n        const newEmployee = {\r\n          id: request.id, // Use the same ID as the pending request\r\n          firstName: request.name.split(' ')[0],\r\n          lastName: request.name.split(' ').slice(1).join(' ') || '',\r\n          position: request.positionApplied,\r\n          salary: request.salary,\r\n          email: request.email,\r\n          contactInfo: request.contactNumber,\r\n          sss: request.sss || '',\r\n          philhealth: request.philhealth || '',\r\n          pagibig: request.pagibig || '',\r\n          earnings: { \r\n            travelExpenses: request.earnings?.travelExpenses || 0,\r\n            otherEarnings: request.earnings?.otherEarnings || 0 \r\n          },\r\n          payheads: [], // Assuming empty initially\r\n          username: request.username,\r\n          password: request.password\r\n        };\r\n\r\n        console.log('Approving employee with data:', newEmployee);\r\n        const response = await axios.post('http://localhost:7777/api/employees', newEmployee);\r\n        if (response.status === 201) {\r\n          this.employees.push(response.data);\r\n          await axios.delete(`http://localhost:7777/api/pending-requests/${request.id}`);\r\n          this.pendingRequests = this.pendingRequests.filter(req => req.id !== request.id);\r\n          this.showRequestModal = false;\r\n          this.showSuccessMessage('Employee approved and added successfully');\r\n          this.nextEmployeeId = Math.max(...this.employees.map(e => e.id), 0) + 1; // Update next ID\r\n        }\r\n      } catch (error) {\r\n        console.error('Error approving request:', error);\r\n        this.showErrorMessage('Error approving employee. Please try again.');\r\n      }\r\n    },\r\n\r\n    async rejectRequest(id) {\r\n      try {\r\n        const response = await axios.delete(`http://localhost:7777/api/pending-requests/${id}`);\r\n        if (response.status === 200 || response.status === 204) {\r\n          this.pendingRequests = this.pendingRequests.filter(req => req.id !== id);\r\n          this.showRequestModal = false;\r\n          this.showSuccessMessage('Application rejected successfully');\r\n        }\r\n      } catch (error) {\r\n        console.error('Error rejecting request:', error);\r\n        this.showErrorMessage('Error rejecting application. Please try again.');\r\n      }\r\n    },\r\n\r\n    // Notification Methods\r\n    showSuccessMessage(message) {\r\n      this.statusMessage = message;\r\n      setTimeout(() => this.statusMessage = '', 3000);\r\n    },\r\n\r\n    showErrorMessage(message) {\r\n      this.statusMessage = message;\r\n      setTimeout(() => this.statusMessage = '', 3000);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.modal-enter-active,\r\n.modal-leave-active {\r\n  transition: opacity 0.3s ease;\r\n}\r\n\r\n.modal-enter-from,\r\n.modal-leave-to {\r\n  opacity: 0;\r\n}\r\n\r\n.modal-enter-to,\r\n.modal-leave-from {\r\n  opacity: 1;\r\n}\r\n\r\nbutton:disabled {\r\n  cursor: not-allowed;\r\n  opacity: 0.7;\r\n}\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
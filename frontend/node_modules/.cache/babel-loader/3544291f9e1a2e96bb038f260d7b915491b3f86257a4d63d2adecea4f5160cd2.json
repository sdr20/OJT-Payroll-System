{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass } from \"vue\";\nconst _hoisted_1 = {\n  class: \"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 p-1\"\n};\nconst _hoisted_2 = {\n  class: \"max-w-6xl mx-auto\"\n};\nconst _hoisted_3 = {\n  key: 0,\n  class: \"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50\"\n};\nconst _hoisted_4 = {\n  class: \"bg-white p-6 rounded-xl shadow-md max-w-md w-full\"\n};\nconst _hoisted_5 = {\n  class: \"mb-4\"\n};\nconst _hoisted_6 = {\n  class: \"space-y-2\"\n};\nconst _hoisted_7 = [\"onClick\", \"disabled\"];\nconst _hoisted_8 = {\n  class: \"mb-4\"\n};\nconst _hoisted_9 = {\n  class: \"space-y-2\"\n};\nconst _hoisted_10 = [\"onClick\"];\nconst _hoisted_11 = {\n  class: \"mb-4\"\n};\nconst _hoisted_12 = {\n  class: \"p-2 border border-gray-200 rounded-lg\"\n};\nconst _hoisted_13 = {\n  class: \"flex justify-end gap-3\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createCommentVNode(\" Previous code remains the same until the Add Payhead to Employee Modal \"), _createCommentVNode(\" Add Payhead to Employee Modal \"), $data.showAddPayheadModal ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_cache[5] || (_cache[5] = _createElementVNode(\"h2\", {\n    class: \"text-xl font-bold mb-4\"\n  }, \"Add Payhead to Employee\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_5, [_cache[2] || (_cache[2] = _createElementVNode(\"label\", {\n    class: \"block text-gray-700 mb-1 font-medium text-sm\"\n  }, \"Available Payheads\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_6, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.payHeads, payhead => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: payhead.id,\n      class: \"flex justify-between items-center p-2 border border-gray-200 rounded-lg\"\n    }, [_createElementVNode(\"span\", null, _toDisplayString(payhead.name) + \" (\" + _toDisplayString(payhead.type) + \")\", 1 /* TEXT */), _createElementVNode(\"button\", {\n      onClick: $event => $options.addPayheadToEmployee(payhead),\n      class: _normalizeClass([\"bg-green-50 text-green-600 font-semibold py-1 px-2 rounded-lg hover:bg-green-100 transition-all duration-200 text-xs\", {\n        'opacity-50 cursor-not-allowed': $options.isPayheadSelected(payhead.id)\n      }]),\n      disabled: $options.isPayheadSelected(payhead.id)\n    }, _toDisplayString($options.isPayheadSelected(payhead.id) ? 'Added' : 'Add'), 11 /* TEXT, CLASS, PROPS */, _hoisted_7)]);\n  }), 128 /* KEYED_FRAGMENT */))])]), _createElementVNode(\"div\", _hoisted_8, [_cache[3] || (_cache[3] = _createElementVNode(\"label\", {\n    class: \"block text-gray-700 mb-1 font-medium text-sm\"\n  }, \"Payheads Added to Employee\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_9, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.selectedEmployeePayheads, payhead => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: payhead.id,\n      class: \"flex justify-between items-center p-2 border border-gray-200 rounded-lg\"\n    }, [_createElementVNode(\"span\", null, _toDisplayString(payhead.name) + \" (\" + _toDisplayString(payhead.type) + \")\", 1 /* TEXT */), _createElementVNode(\"button\", {\n      onClick: $event => $options.removePayheadFromEmployee(payhead),\n      class: \"bg-red-50 text-red-600 font-semibold py-1 px-2 rounded-lg hover:bg-red-100 transition-all duration-200 text-xs\"\n    }, \"Remove\", 8 /* PROPS */, _hoisted_10)]);\n  }), 128 /* KEYED_FRAGMENT */))])]), _createElementVNode(\"div\", _hoisted_11, [_cache[4] || (_cache[4] = _createElementVNode(\"label\", {\n    class: \"block text-gray-700 mb-1 font-medium text-sm\"\n  }, \"Total Payhead\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_12, [_createElementVNode(\"span\", null, \"Total Payable Salary: P \" + _toDisplayString($options.totalPayableSalary.toLocaleString()), 1 /* TEXT */)])]), _createElementVNode(\"div\", _hoisted_13, [_createElementVNode(\"button\", {\n    type: \"button\",\n    onClick: _cache[0] || (_cache[0] = $event => $data.showAddPayheadModal = false),\n    class: \"py-2 px-4 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-all duration-200\"\n  }, \"Cancel\"), _createElementVNode(\"button\", {\n    type: \"button\",\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.savePayheads && $options.savePayheads(...args)),\n    class: \"py-2 px-4 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-all duration-200\"\n  }, \"Save\")])])])) : _createCommentVNode(\"v-if\", true)])]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_createCommentVNode","$data","showAddPayheadModal","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_Fragment","_renderList","payHeads","payhead","id","_toDisplayString","name","type","onClick","$event","$options","addPayheadToEmployee","_normalizeClass","isPayheadSelected","disabled","_hoisted_7","_hoisted_8","_hoisted_9","selectedEmployeePayheads","removePayheadFromEmployee","_hoisted_10","_hoisted_11","_hoisted_12","totalPayableSalary","toLocaleString","_hoisted_13","_cache","args","savePayheads"],"sources":["C:\\Users\\ASUS\\Desktop\\Payroll_system\\frontend\\src\\views\\ManagePayHeads.vue"],"sourcesContent":["<template>\r\n  <div class=\"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 p-1\">\r\n    <div class=\"max-w-6xl mx-auto\">\r\n      <!-- Previous code remains the same until the Add Payhead to Employee Modal -->\r\n\r\n      <!-- Add Payhead to Employee Modal -->\r\n      <div v-if=\"showAddPayheadModal\" class=\"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50\">\r\n        <div class=\"bg-white p-6 rounded-xl shadow-md max-w-md w-full\">\r\n          <h2 class=\"text-xl font-bold mb-4\">Add Payhead to Employee</h2>\r\n          <div class=\"mb-4\">\r\n            <label class=\"block text-gray-700 mb-1 font-medium text-sm\">Available Payheads</label>\r\n            <div class=\"space-y-2\">\r\n              <div v-for=\"payhead in payHeads\" :key=\"payhead.id\" class=\"flex justify-between items-center p-2 border border-gray-200 rounded-lg\">\r\n                <span>{{ payhead.name }} ({{ payhead.type }})</span>\r\n                <button \r\n                  @click=\"addPayheadToEmployee(payhead)\"\r\n                  class=\"bg-green-50 text-green-600 font-semibold py-1 px-2 rounded-lg hover:bg-green-100 transition-all duration-200 text-xs\"\r\n                  :disabled=\"isPayheadSelected(payhead.id)\"\r\n                  :class=\"{'opacity-50 cursor-not-allowed': isPayheadSelected(payhead.id)}\"\r\n                >\r\n                  {{ isPayheadSelected(payhead.id) ? 'Added' : 'Add' }}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"mb-4\">\r\n            <label class=\"block text-gray-700 mb-1 font-medium text-sm\">Payheads Added to Employee</label>\r\n            <div class=\"space-y-2\">\r\n              <div v-for=\"payhead in selectedEmployeePayheads\" :key=\"payhead.id\" class=\"flex justify-between items-center p-2 border border-gray-200 rounded-lg\">\r\n                <span>{{ payhead.name }} ({{ payhead.type }})</span>\r\n                <button @click=\"removePayheadFromEmployee(payhead)\" class=\"bg-red-50 text-red-600 font-semibold py-1 px-2 rounded-lg hover:bg-red-100 transition-all duration-200 text-xs\">Remove</button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"mb-4\">\r\n            <label class=\"block text-gray-700 mb-1 font-medium text-sm\">Total Payhead</label>\r\n            <div class=\"p-2 border border-gray-200 rounded-lg\">\r\n              <span>Total Payable Salary: P {{ totalPayableSalary.toLocaleString() }}</span>\r\n            </div>\r\n          </div>\r\n          <div class=\"flex justify-end gap-3\">\r\n            <button type=\"button\" @click=\"showAddPayheadModal = false\" class=\"py-2 px-4 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-all duration-200\">Cancel</button>\r\n            <button type=\"button\" @click=\"savePayheads\" class=\"py-2 px-4 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-all duration-200\">Save</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'ManagePayHeads',\r\n  data() {\r\n    return {\r\n      payHeads: [\r\n        { id: 1, name: 'Basic Salary', amount: 30000, type: 'Earnings' },\r\n        { id: 2, name: 'Health Insurance', amount: 2000, type: 'Deductions' },\r\n      ],\r\n      employees: [\r\n        { id: 1, name: 'John Doe', position: 'Software Engineer', totalDeduction: 2000, totalEarnings: 30000, totalSalary: 28000 },\r\n        { id: 2, name: 'Jane Smith', position: 'Product Manager', totalDeduction: 1500, totalEarnings: 35000, totalSalary: 33500 },\r\n      ],\r\n      newPayHead: {\r\n        name: '',\r\n        amount: '',\r\n        type: 'Earnings'\r\n      },\r\n      selectedPayHead: {\r\n        id: '',\r\n        name: '',\r\n        amount: '',\r\n        type: 'Earnings'\r\n      },\r\n      showAddModal: false,\r\n      showUpdateModal: false,\r\n      showAddPayheadModal: false,\r\n      selectedEmployee: null,\r\n      selectedEmployeePayheads: [],\r\n    };\r\n  },\r\n  computed: {\r\n    totalPayableSalary() {\r\n      const earnings = this.selectedEmployeePayheads.filter(p => p.type === 'Earnings').reduce((sum, p) => sum + p.amount, 0);\r\n      const deductions = this.selectedEmployeePayheads.filter(p => p.type === 'Deductions').reduce((sum, p) => sum + p.amount, 0);\r\n      return earnings - deductions;\r\n    }\r\n  },\r\n  methods: {\r\n    goBack() {\r\n      this.$router.go(-1);\r\n    },\r\n    addPayHead() {\r\n      if (this.newPayHead.name && this.newPayHead.amount && this.newPayHead.type) {\r\n        this.payHeads.push({\r\n          id: Date.now(),\r\n          name: this.newPayHead.name,\r\n          amount: this.newPayHead.amount,\r\n          type: this.newPayHead.type,\r\n        });\r\n        this.newPayHead.name = '';\r\n        this.newPayHead.amount = '';\r\n        this.newPayHead.type = 'Earnings';\r\n        this.showAddModal = false;\r\n      }\r\n    },\r\n    showUpdatePayHeadModal(payHead) {\r\n      this.selectedPayHead = { ...payHead };\r\n      this.showUpdateModal = true;\r\n    },\r\n    updatePayHead() {\r\n      const updatedPayHeadIndex = this.payHeads.findIndex(ph => ph.id === this.selectedPayHead.id);\r\n      if (updatedPayHeadIndex !== -1) {\r\n        this.payHeads[updatedPayHeadIndex] = { ...this.selectedPayHead };\r\n        this.showUpdateModal = false;\r\n      }\r\n    },\r\n    deletePayHead(id) {\r\n      this.payHeads = this.payHeads.filter(payHead => payHead.id !== id);\r\n    },\r\n    openAddPayheadModal(employee) {\r\n      this.selectedEmployee = employee;\r\n      this.selectedEmployeePayheads = [];\r\n      this.showAddPayheadModal = true;\r\n    },\r\n    isPayheadSelected(payheadId) {\r\n      return this.selectedEmployeePayheads.some(p => p.id === payheadId);\r\n    },\r\n    addPayheadToEmployee(payhead) {\r\n      if (!this.isPayheadSelected(payhead.id)) {\r\n        this.selectedEmployeePayheads.push({ ...payhead });\r\n      }\r\n    },\r\n    removePayheadFromEmployee(payhead) {\r\n      this.selectedEmployeePayheads = this.selectedEmployeePayheads.filter(p => p.id !== payhead.id);\r\n    },\r\n    savePayheads() {\r\n      // Logic to save payheads to the selected employee\r\n      this.showAddPayheadModal = false;\r\n    }\r\n  }\r\n};\r\n</script>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"min-w-full bg-white border border-gray-300\"\n};\nconst _hoisted_2 = {\n  key: 0\n};\nconst _hoisted_3 = {\n  class: \"border px-4 py-2\"\n};\nconst _hoisted_4 = {\n  class: \"border px-4 py-2\"\n};\nconst _hoisted_5 = {\n  class: \"border px-4 py-2\"\n};\nconst _hoisted_6 = {\n  class: \"border px-4 py-2\"\n};\nconst _hoisted_7 = {\n  class: \"border px-4 py-2 font-bold\"\n};\nconst _hoisted_8 = {\n  class: \"border px-4 py-2\"\n};\nconst _hoisted_9 = {\n  class: \"border px-4 py-2\"\n};\nconst _hoisted_10 = {\n  key: 1\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", null, [_createElementVNode(\"table\", _hoisted_1, [_cache[3] || (_cache[3] = _createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", {\n    class: \"bg-gray-200\"\n  }, [_createElementVNode(\"th\", {\n    class: \"border px-4 py-2\"\n  }, \"ID\"), _createElementVNode(\"th\", {\n    class: \"border px-4 py-2\"\n  }, \"Name\"), _createElementVNode(\"th\", {\n    class: \"border px-4 py-2\"\n  }, \"Earnings\"), _createElementVNode(\"th\", {\n    class: \"border px-4 py-2\"\n  }, \"Deduction\"), _createElementVNode(\"th\", {\n    class: \"border px-4 py-2\"\n  }, \"Total Salary\"), _createElementVNode(\"th\", {\n    class: \"border px-4 py-2\"\n  }, \"Container Slip\"), _createElementVNode(\"th\", {\n    class: \"border px-4 py-2\"\n  }, \"Actions\")])], -1 /* HOISTED */)), _createElementVNode(\"tbody\", null, [$data.employee ? (_openBlock(), _createElementBlock(\"tr\", _hoisted_2, [_createElementVNode(\"td\", _hoisted_3, _toDisplayString($data.employee.id), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_4, _toDisplayString($data.employee.name), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_5, \"₱\" + _toDisplayString($data.employee.earnings.toLocaleString()), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_6, \"₱\" + _toDisplayString($data.employee.deduction.toLocaleString()), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_7, \"₱\" + _toDisplayString($data.employee.totalSalary.toLocaleString()), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_8, _toDisplayString($data.employee.containerSlip), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_9, [_createElementVNode(\"button\", {\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.generatePayslip && $options.generatePayslip(...args)),\n    class: \"bg-blue-500 text-white px-3 py-1 rounded hover:bg-blue-700 mr-2\"\n  }, \" Generate Payslip \"), _createElementVNode(\"button\", {\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.sendPayslipEmail && $options.sendPayslipEmail(...args)),\n    class: \"bg-green-500 text-white px-3 py-1 rounded hover:bg-green-700\"\n  }, \" Send Email \")])])) : (_openBlock(), _createElementBlock(\"tr\", _hoisted_10, _cache[2] || (_cache[2] = [_createElementVNode(\"td\", {\n    colspan: \"7\",\n    class: \"text-center py-4 text-gray-500\"\n  }, \"Loading employee data...\", -1 /* HOISTED */)])))])])]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_createElementVNode","_hoisted_1","$data","employee","_hoisted_2","_hoisted_3","_toDisplayString","id","_hoisted_4","name","_hoisted_5","earnings","toLocaleString","_hoisted_6","deduction","_hoisted_7","totalSalary","_hoisted_8","containerSlip","_hoisted_9","onClick","_cache","args","$options","generatePayslip","sendPayslipEmail","_hoisted_10","colspan"],"sources":["C:\\Users\\ASUS\\Desktop\\Payroll_system\\frontend\\src\\views\\employee\\EmployeeSalarySlips.vue"],"sourcesContent":["<template>\r\n  <div>\r\n\r\n    <table class=\"min-w-full bg-white border border-gray-300\">\r\n      <thead>\r\n        <tr class=\"bg-gray-200\">\r\n          <th class=\"border px-4 py-2\">ID</th>\r\n          <th class=\"border px-4 py-2\">Name</th>\r\n          <th class=\"border px-4 py-2\">Earnings</th>\r\n          <th class=\"border px-4 py-2\">Deduction</th>\r\n          <th class=\"border px-4 py-2\">Total Salary</th>\r\n          <th class=\"border px-4 py-2\">Container Slip</th>\r\n          <th class=\"border px-4 py-2\">Actions</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr v-if=\"employee\">\r\n          <td class=\"border px-4 py-2\">{{ employee.id }}</td>\r\n          <td class=\"border px-4 py-2\">{{ employee.name }}</td>\r\n          <td class=\"border px-4 py-2\">₱{{ employee.earnings.toLocaleString() }}</td>\r\n          <td class=\"border px-4 py-2\">₱{{ employee.deduction.toLocaleString() }}</td>\r\n          <td class=\"border px-4 py-2 font-bold\">₱{{ employee.totalSalary.toLocaleString() }}</td>\r\n          <td class=\"border px-4 py-2\">{{ employee.containerSlip }}</td>\r\n          <td class=\"border px-4 py-2\">\r\n            <button \r\n              @click=\"generatePayslip\"\r\n              class=\"bg-blue-500 text-white px-3 py-1 rounded hover:bg-blue-700 mr-2\"\r\n            >\r\n              Generate Payslip\r\n            </button>\r\n            <button \r\n              @click=\"sendPayslipEmail\"\r\n              class=\"bg-green-500 text-white px-3 py-1 rounded hover:bg-green-700\"\r\n            >\r\n              Send Email\r\n            </button>\r\n          </td>\r\n        </tr>\r\n        <tr v-else>\r\n          <td colspan=\"7\" class=\"text-center py-4 text-gray-500\">Loading employee data...</td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  name: 'EmployeeSalarySlips',\r\n  data() {\r\n    return {\r\n      employee: null,\r\n    };\r\n  },\r\n  mounted() {\r\n    this.fetchEmployeeData();\r\n  },\r\n  methods: {\r\n    async fetchEmployeeData() {\r\n      try {\r\n        const userId = localStorage.getItem('userId'); // Assume user ID is stored in localStorage\r\n        if (!userId) {\r\n          alert(\"User not logged in.\");\r\n          return;\r\n        }\r\n        const response = await axios.get(`http://localhost:7777/api/employee/${userId}`);\r\n        this.employee = response.data;\r\n      } catch (error) {\r\n        console.error(\"Error fetching employee data:\", error);\r\n      }\r\n    },\r\n    async generatePayslip() {\r\n      try {\r\n        await axios.post(`http://localhost:7777/api/employee/${this.employee.id}/generate-payslip`);\r\n        alert(\"Payslip generated successfully!\");\r\n      } catch (error) {\r\n        console.error(\"Error generating payslip:\", error);\r\n      }\r\n    },\r\n    async sendPayslipEmail() {\r\n      try {\r\n        await axios.post(`http://localhost:7777/api/employee/${this.employee.id}/send-email`);\r\n        alert(\"Payslip sent via email!\");\r\n      } catch (error) {\r\n        console.error(\"Error sending email:\", error);\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\ntable {\r\n  border-collapse: collapse;\r\n  width: 100%;\r\n}\r\n</style>\r\n"],"mappings":";;EAGWA,KAAK,EAAC;AAA4C;;EAH7DC,GAAA;AAAA;;EAiBcD,KAAK,EAAC;AAAkB;;EACxBA,KAAK,EAAC;AAAkB;;EACxBA,KAAK,EAAC;AAAkB;;EACxBA,KAAK,EAAC;AAAkB;;EACxBA,KAAK,EAAC;AAA4B;;EAClCA,KAAK,EAAC;AAAkB;;EACxBA,KAAK,EAAC;AAAkB;;EAvBtCC,GAAA;AAAA;;uBACEC,mBAAA,CA0CM,cAxCJC,mBAAA,CAuCQ,SAvCRC,UAuCQ,G,0BAtCND,mBAAA,CAUQ,gBATNA,mBAAA,CAQK;IARDH,KAAK,EAAC;EAAa,IACrBG,mBAAA,CAAoC;IAAhCH,KAAK,EAAC;EAAkB,GAAC,IAAE,GAC/BG,mBAAA,CAAsC;IAAlCH,KAAK,EAAC;EAAkB,GAAC,MAAI,GACjCG,mBAAA,CAA0C;IAAtCH,KAAK,EAAC;EAAkB,GAAC,UAAQ,GACrCG,mBAAA,CAA2C;IAAvCH,KAAK,EAAC;EAAkB,GAAC,WAAS,GACtCG,mBAAA,CAA8C;IAA1CH,KAAK,EAAC;EAAkB,GAAC,cAAY,GACzCG,mBAAA,CAAgD;IAA5CH,KAAK,EAAC;EAAkB,GAAC,gBAAc,GAC3CG,mBAAA,CAAyC;IAArCH,KAAK,EAAC;EAAkB,GAAC,SAAO,E,wBAGxCG,mBAAA,CA0BQ,gBAzBIE,KAAA,CAAAC,QAAQ,I,cAAlBJ,mBAAA,CAqBK,MArCbK,UAAA,GAiBUJ,mBAAA,CAAmD,MAAnDK,UAAmD,EAAAC,gBAAA,CAAnBJ,KAAA,CAAAC,QAAQ,CAACI,EAAE,kBAC3CP,mBAAA,CAAqD,MAArDQ,UAAqD,EAAAF,gBAAA,CAArBJ,KAAA,CAAAC,QAAQ,CAACM,IAAI,kBAC7CT,mBAAA,CAA2E,MAA3EU,UAA2E,EAA9C,GAAC,GAAAJ,gBAAA,CAAGJ,KAAA,CAAAC,QAAQ,CAACQ,QAAQ,CAACC,cAAc,oBACjEZ,mBAAA,CAA4E,MAA5Ea,UAA4E,EAA/C,GAAC,GAAAP,gBAAA,CAAGJ,KAAA,CAAAC,QAAQ,CAACW,SAAS,CAACF,cAAc,oBAClEZ,mBAAA,CAAwF,MAAxFe,UAAwF,EAAjD,GAAC,GAAAT,gBAAA,CAAGJ,KAAA,CAAAC,QAAQ,CAACa,WAAW,CAACJ,cAAc,oBAC9EZ,mBAAA,CAA8D,MAA9DiB,UAA8D,EAAAX,gBAAA,CAA9BJ,KAAA,CAAAC,QAAQ,CAACe,aAAa,kBACtDlB,mBAAA,CAaK,MAbLmB,UAaK,GAZHnB,mBAAA,CAKS;IAJNoB,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAC,eAAA,IAAAD,QAAA,CAAAC,eAAA,IAAAF,IAAA,CAAe;IACvBzB,KAAK,EAAC;KACP,oBAED,GACAG,mBAAA,CAKS;IAJNoB,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAE,gBAAA,IAAAF,QAAA,CAAAE,gBAAA,IAAAH,IAAA,CAAgB;IACxBzB,KAAK,EAAC;KACP,cAED,E,sBAGJE,mBAAA,CAEK,MAxCb2B,WAAA,EAAAL,MAAA,QAAAA,MAAA,OAuCUrB,mBAAA,CAAoF;IAAhF2B,OAAO,EAAC,GAAG;IAAC9B,KAAK,EAAC;KAAiC,0BAAwB,oB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nexport default {\n  name: 'EmployeeLogin',\n  data() {\n    return {\n      username: '',\n      password: '',\n      loginError: '',\n      showRegisterModal: false,\n      newRequest: {\n        username: '',\n        password: '',\n        firstName: '',\n        lastName: '',\n        positionApplied: '',\n        civilStatus: '',\n        contactInfo: '',\n        email: '',\n        salary: 0,\n        sss: '',\n        philhealth: '',\n        hdmf: '',\n        deductions: {\n          sss: 0,\n          philhealth: 0,\n          pagibig: 0\n        },\n        earnings: {\n          travelExpenses: 0,\n          otherEarnings: 0\n        },\n        status: 'pending'\n      },\n      positions: ['Manager', 'Assistant', 'Developer'],\n      // Static for now, can be fetched from API\n      testCredentials: {\n        username: 'employee',\n        password: 'employee123'\n      }\n    };\n  },\n  methods: {\n    login() {\n      this.loginError = '';\n      if (this.username === this.testCredentials.username && this.password === this.testCredentials.password) {\n        this.$store.dispatch('login', {\n          username: this.username,\n          role: 'employee'\n        });\n        this.$router.push('/employee');\n      } else {\n        this.loginError = 'Wrong username or password. Please try again.';\n        this.password = '';\n      }\n    },\n    async submitRequest() {\n      try {\n        // Prepare the request data\n        const requestData = {\n          ...this.newRequest,\n          name: `${this.newRequest.firstName} ${this.newRequest.lastName}`,\n          contactNumber: this.newRequest.contactInfo,\n          // Map HDMF to pagibig for consistency with admin panel\n          deductions: {\n            sss: this.newRequest.sss ? 200 : 0,\n            // Default values, can be adjusted\n            philhealth: this.newRequest.philhealth ? 150 : 0,\n            pagibig: this.newRequest.hdmf ? 100 : 0\n          }\n        };\n\n        // Remove fields not needed in pending request\n        delete requestData.firstName;\n        delete requestData.lastName;\n        delete requestData.contactInfo;\n        delete requestData.sss;\n        delete requestData.philhealth;\n        delete requestData.hdmf;\n        const response = await axios.post('/api/pending-requests', requestData);\n        if (response.status === 200 || response.status === 201) {\n          this.showRegisterModal = false;\n          this.resetNewRequest();\n          alert('Account request submitted successfully! Please wait for admin approval.');\n        }\n      } catch (error) {\n        console.error('Failed to submit request:', error);\n        alert('Failed to submit request. Please try again.');\n      }\n    },\n    resetNewRequest() {\n      this.newRequest = {\n        username: '',\n        password: '',\n        firstName: '',\n        lastName: '',\n        positionApplied: '',\n        civilStatus: '',\n        contactInfo: '',\n        email: '',\n        salary: 0,\n        sss: '',\n        philhealth: '',\n        hdmf: '',\n        deductions: {\n          sss: 0,\n          philhealth: 0,\n          pagibig: 0\n        },\n        earnings: {\n          travelExpenses: 0,\n          otherEarnings: 0\n        },\n        status: 'pending'\n      };\n    }\n  }\n};","map":{"version":3,"names":["axios","name","data","username","password","loginError","showRegisterModal","newRequest","firstName","lastName","positionApplied","civilStatus","contactInfo","email","salary","sss","philhealth","hdmf","deductions","pagibig","earnings","travelExpenses","otherEarnings","status","positions","testCredentials","methods","login","$store","dispatch","role","$router","push","submitRequest","requestData","contactNumber","response","post","resetNewRequest","alert","error","console"],"sources":["C:\\Users\\ASUS\\Desktop\\Payroll_system\\frontend\\src\\components\\employeelogin\\EmployeeLogin.vue"],"sourcesContent":["<template>\r\n  <div class=\"min-h-screen bg-gradient-to-br from-blue-50 to-cyan-100 flex items-center justify-center p-4\">\r\n    <div class=\"w-full max-w-md\">\r\n      <div class=\"bg-white/80 backdrop-blur-lg rounded-2xl shadow-xl p-8 space-y-6\">\r\n        <div class=\"text-center space-y-2\">\r\n          <div class=\"bg-blue-500 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4\">\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"w-8 h-8 text-white\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\" />\r\n            </svg>\r\n          </div>\r\n          <h1 class=\"text-2xl font-bold text-gray-900\">Employee Portal</h1>\r\n          <p class=\"text-gray-500 text-sm\">Welcome to your workspace</p>\r\n        </div>\r\n\r\n        <form @submit.prevent=\"login\" class=\"space-y-4\">\r\n          <div class=\"space-y-1\">\r\n            <label for=\"username\" class=\"text-sm font-medium text-gray-700\">Username</label>\r\n            <input v-model=\"username\" type=\"text\" id=\"username\" class=\"block w-full p-2 border rounded-lg\" placeholder=\"Enter your username\" required>\r\n          </div>\r\n\r\n          <div class=\"space-y-1\">\r\n            <label for=\"password\" class=\"text-sm font-medium text-gray-700\">Password</label>\r\n            <input v-model=\"password\" type=\"password\" id=\"password\" class=\"block w-full p-2 border rounded-lg\" placeholder=\"Enter your password\" required>\r\n          </div>\r\n\r\n          <!-- Error Message -->\r\n          <div v-if=\"loginError\" class=\"text-red-500 text-sm text-center\">\r\n            {{ loginError }}\r\n          </div>\r\n\r\n          <button type=\"submit\" class=\"w-full bg-blue-500 text-white py-2.5 rounded-lg hover:bg-blue-600 transition duration-200\">Sign in</button>\r\n        </form>\r\n\r\n        <div class=\"text-center\">\r\n          <p class=\"text-sm text-gray-700\">Don't have an account? <a href=\"#\" @click=\"showRegisterModal = true\" class=\"text-blue-500 hover:underline\">Request an account</a></p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Register Modal -->\r\n    <div v-if=\"showRegisterModal\" class=\"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50\">\r\n      <div class=\"bg-white p-8 rounded-2xl shadow-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto\">\r\n        <h2 class=\"text-2xl font-bold mb-6 text-gray-900\">Request Account Creation</h2>\r\n        <form @submit.prevent=\"submitRequest\" class=\"grid grid-cols-2 gap-6\">\r\n          <!-- Basic Information -->\r\n          <div class=\"col-span-2\">\r\n            <h3 class=\"text-lg font-semibold text-gray-800 mb-4\">Basic Information</h3>\r\n            <div class=\"grid grid-cols-2 gap-4\">\r\n              <div class=\"space-y-1\">\r\n                <label for=\"firstName\" class=\"text-sm font-medium text-gray-700\">First Name</label>\r\n                <input v-model=\"newRequest.firstName\" type=\"text\" id=\"firstName\" class=\"block w-full p-2 border rounded-lg\" placeholder=\"Enter your first name\" required>\r\n              </div>\r\n              <div class=\"space-y-1\">\r\n                <label for=\"lastName\" class=\"text-sm font-medium text-gray-700\">Last Name</label>\r\n                <input v-model=\"newRequest.lastName\" type=\"text\" id=\"lastName\" class=\"block w-full p-2 border rounded-lg\" placeholder=\"Enter your last name\" required>\r\n              </div>\r\n              <div class=\"space-y-1\">\r\n                <label for=\"email\" class=\"text-sm font-medium text-gray-700\">Email</label>\r\n                <input v-model=\"newRequest.email\" type=\"email\" id=\"email\" class=\"block w-full p-2 border rounded-lg\" placeholder=\"Enter your email\" required>\r\n              </div>\r\n              <div class=\"space-y-1\">\r\n                <label for=\"contactInfo\" class=\"text-sm font-medium text-gray-700\">Contact Number</label>\r\n                <input v-model=\"newRequest.contactInfo\" type=\"text\" id=\"contactInfo\" class=\"block w-full p-2 border rounded-lg\" placeholder=\"Enter your contact number\" required>\r\n              </div>\r\n              <div class=\"space-y-1\">\r\n                <label for=\"positionApplied\" class=\"text-sm font-medium text-gray-700\">Position Applying For</label>\r\n                <select v-model=\"newRequest.positionApplied\" id=\"positionApplied\" class=\"block w-full p-2 border rounded-lg\" required>\r\n                  <option v-for=\"position in positions\" :key=\"position\" :value=\"position\">{{ position }}</option>\r\n                </select>\r\n              </div>\r\n              <div class=\"space-y-1\">\r\n                <label for=\"civilStatus\" class=\"text-sm font-medium text-gray-700\">Civil Status</label>\r\n                <select v-model=\"newRequest.civilStatus\" id=\"civilStatus\" class=\"block w-full p-2 border rounded-lg\" required>\r\n                  <option value=\"Single\">Single</option>\r\n                  <option value=\"Married\">Married</option>\r\n                  <option value=\"Divorced\">Divorced</option>\r\n                  <option value=\"Widowed\">Widowed</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Financial Information -->\r\n          <div class=\"col-span-2\">\r\n            <h3 class=\"text-lg font-semibold text-gray-800 mb-4\">Financial Information</h3>\r\n            <div class=\"grid grid-cols-2 gap-4\">\r\n              <div class=\"space-y-1\">\r\n                <label for=\"salary\" class=\"text-sm font-medium text-gray-700\">Proposed Salary</label>\r\n                <input v-model.number=\"newRequest.salary\" type=\"number\" id=\"salary\" class=\"block w-full p-2 border rounded-lg\" placeholder=\"Enter proposed salary\" required>\r\n              </div>\r\n              <div class=\"space-y-1\">\r\n                <label for=\"sss\" class=\"text-sm font-medium text-gray-700\">SSS Number</label>\r\n                <input v-model=\"newRequest.sss\" type=\"text\" id=\"sss\" class=\"block w-full p-2 border rounded-lg\" placeholder=\"Enter your SSS number\">\r\n              </div>\r\n              <div class=\"space-y-1\">\r\n                <label for=\"philhealth\" class=\"text-sm font-medium text-gray-700\">PhilHealth Number</label>\r\n                <input v-model=\"newRequest.philhealth\" type=\"text\" id=\"philhealth\" class=\"block w-full p-2 border rounded-lg\" placeholder=\"Enter your PhilHealth number\">\r\n              </div>\r\n              <div class=\"space-y-1\">\r\n                <label for=\"hdmf\" class=\"text-sm font-medium text-gray-700\">Pag-IBIG Number</label>\r\n                <input v-model=\"newRequest.hdmf\" type=\"text\" id=\"hdmf\" class=\"block w-full p-2 border rounded-lg\" placeholder=\"Enter your Pag-IBIG number\">\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Credentials -->\r\n          <div class=\"col-span-2\">\r\n            <h3 class=\"text-lg font-semibold text-gray-800 mb-4\">Login Credentials</h3>\r\n            <div class=\"grid grid-cols-2 gap-4\">\r\n              <div class=\"space-y-1\">\r\n                <label for=\"username\" class=\"text-sm font-medium text-gray-700\">Username</label>\r\n                <input v-model=\"newRequest.username\" type=\"text\" id=\"username\" class=\"block w-full p-2 border rounded-lg\" placeholder=\"Choose a username\" required>\r\n              </div>\r\n              <div class=\"space-y-1\">\r\n                <label for=\"password\" class=\"text-sm font-medium text-gray-700\">Password</label>\r\n                <input v-model=\"newRequest.password\" type=\"password\" id=\"password\" class=\"block w-full p-2 border rounded-lg\" placeholder=\"Choose a password\" required>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Buttons -->\r\n          <div class=\"col-span-2 flex justify-end space-x-2 mt-6\">\r\n            <button type=\"button\" @click=\"showRegisterModal = false\" class=\"bg-gray-500 text-white py-2 px-4 rounded-lg hover:bg-gray-600 transition duration-200\">Cancel</button>\r\n            <button type=\"submit\" class=\"bg-blue-500 text-white py-2 px-4 rounded-lg hover:bg-blue-600 transition duration-200\">Submit Request</button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  name: 'EmployeeLogin',\r\n  data() {\r\n    return {\r\n      username: '',\r\n      password: '',\r\n      loginError: '',\r\n      showRegisterModal: false,\r\n      newRequest: {\r\n        username: '',\r\n        password: '',\r\n        firstName: '',\r\n        lastName: '',\r\n        positionApplied: '',\r\n        civilStatus: '',\r\n        contactInfo: '',\r\n        email: '',\r\n        salary: 0,\r\n        sss: '',\r\n        philhealth: '',\r\n        hdmf: '',\r\n        deductions: { sss: 0, philhealth: 0, pagibig: 0 },\r\n        earnings: { travelExpenses: 0, otherEarnings: 0 },\r\n        status: 'pending'\r\n      },\r\n      positions: ['Manager', 'Assistant', 'Developer'], // Static for now, can be fetched from API\r\n      testCredentials: {\r\n        username: 'employee',\r\n        password: 'employee123'\r\n      }\r\n    };\r\n  },\r\n  methods: {\r\n    login() {\r\n      this.loginError = '';\r\n      if (this.username === this.testCredentials.username && \r\n          this.password === this.testCredentials.password) {\r\n        this.$store.dispatch('login', { username: this.username, role: 'employee' });\r\n        this.$router.push('/employee');\r\n      } else {\r\n        this.loginError = 'Wrong username or password. Please try again.';\r\n        this.password = '';\r\n      }\r\n    },\r\n    async submitRequest() {\r\n      try {\r\n        // Prepare the request data\r\n        const requestData = {\r\n          ...this.newRequest,\r\n          name: `${this.newRequest.firstName} ${this.newRequest.lastName}`,\r\n          contactNumber: this.newRequest.contactInfo,\r\n          // Map HDMF to pagibig for consistency with admin panel\r\n          deductions: {\r\n            sss: this.newRequest.sss ? 200 : 0, // Default values, can be adjusted\r\n            philhealth: this.newRequest.philhealth ? 150 : 0,\r\n            pagibig: this.newRequest.hdmf ? 100 : 0\r\n          }\r\n        };\r\n\r\n        // Remove fields not needed in pending request\r\n        delete requestData.firstName;\r\n        delete requestData.lastName;\r\n        delete requestData.contactInfo;\r\n        delete requestData.sss;\r\n        delete requestData.philhealth;\r\n        delete requestData.hdmf;\r\n\r\n        const response = await axios.post('/api/pending-requests', requestData);\r\n        if (response.status === 200 || response.status === 201) {\r\n          this.showRegisterModal = false;\r\n          this.resetNewRequest();\r\n          alert('Account request submitted successfully! Please wait for admin approval.');\r\n        }\r\n      } catch (error) {\r\n        console.error('Failed to submit request:', error);\r\n        alert('Failed to submit request. Please try again.');\r\n      }\r\n    },\r\n    resetNewRequest() {\r\n      this.newRequest = {\r\n        username: '',\r\n        password: '',\r\n        firstName: '',\r\n        lastName: '',\r\n        positionApplied: '',\r\n        civilStatus: '',\r\n        contactInfo: '',\r\n        email: '',\r\n        salary: 0,\r\n        sss: '',\r\n        philhealth: '',\r\n        hdmf: '',\r\n        deductions: { sss: 0, philhealth: 0, pagibig: 0 },\r\n        earnings: { travelExpenses: 0, otherEarnings: 0 },\r\n        status: 'pending'\r\n      };\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.modal-enter-active,\r\n.modal-leave-active {\r\n  transition: opacity 0.3s ease;\r\n}\r\n\r\n.modal-enter-from,\r\n.modal-leave-to {\r\n  opacity: 0;\r\n}\r\n\r\n/* Add some additional styling for better form presentation */\r\ninput, select {\r\n  transition: border-color 0.2s ease-in-out;\r\n}\r\n\r\ninput:focus, select:focus {\r\n  outline: none;\r\n  border-color: #3b82f6;\r\n  box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.2);\r\n}\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
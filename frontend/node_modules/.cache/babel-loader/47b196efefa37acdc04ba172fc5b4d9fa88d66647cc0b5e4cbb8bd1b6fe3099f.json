{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport \"core-js/modules/es.iterator.find.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nimport axios from 'axios';\nexport default {\n  name: 'EmployeeLogin',\n  data() {\n    return {\n      username: '',\n      password: '',\n      loginError: '',\n      showRegisterModal: false,\n      isSubmitting: false,\n      isLoggingIn: false,\n      statusMessage: '',\n      adminPositions: [],\n      // Positions from backend\n      newRequest: {\n        empNo: '',\n        username: '',\n        password: '',\n        firstName: '',\n        middleName: '',\n        lastName: '',\n        position: '',\n        civilStatus: 'Single',\n        contactNumber: '',\n        email: '',\n        salary: 0,\n        hourlyRate: 0,\n        sss: '',\n        philhealth: '',\n        hdmf: '',\n        tin: '',\n        hireDate: new Date().toISOString().slice(0, 10),\n        status: 'pending',\n        role: 'employee',\n        earnings: {\n          travelExpenses: 0,\n          otherEarnings: 0\n        }\n      },\n      showLoginPassword: false,\n      showPassword: false,\n      showConfirmPassword: false,\n      confirmPassword: '',\n      emailError: '',\n      phoneError: '',\n      passwordError: ''\n    };\n  },\n  watch: {\n    'newRequest.salary'(newSalary) {\n      this.newRequest.hourlyRate = newSalary ? newSalary / (8 * 22) : 0;\n    }\n  },\n  computed: {\n    passwordStrength() {\n      const password = this.newRequest.password;\n      if (!password) return 'Weak';\n      if (password.length < 8) return 'Weak';\n      const hasUpper = /[A-Z]/.test(password);\n      const hasLower = /[a-z]/.test(password);\n      const hasNumber = /[0-9]/.test(password);\n      const hasSpecial = /[^A-Za-z0-9]/.test(password);\n      const strengthScore = [hasUpper, hasLower, hasNumber, hasSpecial].filter(Boolean).length;\n      if (password.length >= 12 && strengthScore >= 3) return 'Strong';\n      if (password.length >= 8 && strengthScore >= 2) return 'Medium';\n      return 'Weak';\n    },\n    passwordStrengthClass() {\n      return {\n        'text-red-500': this.passwordStrength === 'Weak',\n        'text-yellow-500': this.passwordStrength === 'Medium',\n        'text-green-500': this.passwordStrength === 'Strong'\n      };\n    },\n    passwordsMatch() {\n      return this.newRequest.password === this.confirmPassword;\n    },\n    isSubmitDisabled() {\n      return this.isSubmitting || !this.passwordsMatch || !!this.emailError || !!this.phoneError || !!this.passwordError || !this.newRequest.position || this.adminPositions.length === 0;\n    }\n  },\n  mounted() {\n    this.fetchPositions();\n  },\n  methods: {\n    async fetchPositions() {\n      try {\n        const response = await axios.get('http://localhost:7777/api/positions');\n        this.adminPositions = response.data.map(pos => ({\n          _id: pos._id,\n          name: pos.name,\n          salary: pos.salary\n        }));\n        if (this.adminPositions.length === 0) {\n          this.showErrorMessage('No positions available. Please contact your admin to create positions.');\n        }\n      } catch (error) {\n        console.error('Error fetching positions:', error.response?.data || error.message);\n        if (error.response?.status === 403) {\n          this.showErrorMessage('Access denied. Please ensure positions are available or contact your admin.');\n        } else {\n          this.showErrorMessage('Failed to load positions. Please check your connection or contact your admin.');\n        }\n        this.adminPositions = [];\n      }\n    },\n    async login() {\n      this.isLoggingIn = true;\n      this.loginError = '';\n      try {\n        const response = await axios.post('http://localhost:7777/api/auth/login', {\n          username: this.username.trim(),\n          password: this.password\n        });\n        if (!response.data || typeof response.data.id === 'undefined') {\n          throw new Error('Invalid response from server');\n        }\n        const userData = {\n          id: response.data.id,\n          empNo: response.data.empNo,\n          username: response.data.username,\n          name: response.data.name,\n          email: response.data.email,\n          role: response.data.role,\n          hireDate: response.data.hireDate\n        };\n        if (this.$store) {\n          this.$store.dispatch('login', userData);\n        }\n        localStorage.setItem('userId', userData.id);\n        localStorage.setItem('userEmpNo', userData.empNo);\n        localStorage.setItem('userRole', userData.role);\n        localStorage.setItem('userName', userData.name);\n        localStorage.setItem('userEmail', userData.email);\n        localStorage.setItem('userHireDate', userData.hireDate);\n        this.$router.push(userData.role === 'admin' ? '/admin' : '/employee');\n      } catch (error) {\n        console.error('Login error:', error.response || error);\n        this.loginError = error.response?.data?.error || 'Unable to connect to the server. Please try again later.';\n        this.password = '';\n      } finally {\n        this.isLoggingIn = false;\n      }\n    },\n    toggleLoginPasswordVisibility() {\n      this.showLoginPassword = !this.showLoginPassword;\n    },\n    togglePasswordVisibility() {\n      this.showPassword = !this.showPassword;\n    },\n    toggleConfirmPasswordVisibility() {\n      this.showConfirmPassword = !this.showConfirmPassword;\n    },\n    validateEmail() {\n      const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n      this.emailError = emailRegex.test(this.newRequest.email) ? '' : 'Please enter a valid email address.';\n    },\n    validatePhoneNumber() {\n      const phoneRegex = /^\\d{11}$/;\n      this.phoneError = phoneRegex.test(this.newRequest.contactNumber) ? '' : 'Please enter a valid 11-digit phone number.';\n    },\n    validatePassword() {\n      const password = this.newRequest.password;\n      if (!password) {\n        this.passwordError = 'Password is required.';\n      } else if (password.length < 8) {\n        this.passwordError = 'Password must be at least 8 characters long.';\n      } else if (!/[A-Za-z]/.test(password) || !/[0-9]/.test(password)) {\n        this.passwordError = 'Password must contain letters and numbers.';\n      } else {\n        this.passwordError = '';\n      }\n    },\n    updateSalaryFromPosition() {\n      const selectedPosition = this.adminPositions.find(pos => pos.name === this.newRequest.position);\n      if (selectedPosition) {\n        this.newRequest.salary = selectedPosition.salary;\n        this.newRequest.hourlyRate = selectedPosition.salary / (8 * 22);\n      } else {\n        this.newRequest.salary = 0;\n        this.newRequest.hourlyRate = 0;\n      }\n    },\n    async submitRequest() {\n      if (!this.passwordsMatch) {\n        this.showErrorMessage('Passwords do not match.');\n        return;\n      }\n      if (this.emailError || this.phoneError || this.passwordError) {\n        this.showErrorMessage('Please fix all validation errors before submitting.');\n        return;\n      }\n      if (!this.newRequest.position || this.adminPositions.length === 0) {\n        this.showErrorMessage('Please select a valid position or contact your admin if none are available.');\n        return;\n      }\n      this.isSubmitting = true;\n      this.statusMessage = '';\n      try {\n        const maxIdResponse = await axios.get('http://localhost:7777/api/pending-requests/max-id');\n        const newId = (maxIdResponse.data.maxId || 0) + 1;\n        const requestData = {\n          ...this.newRequest,\n          id: newId,\n          earnings: {\n            travelExpenses: 0,\n            otherEarnings: 0\n          }\n        };\n        const response = await axios.post('http://localhost:7777/api/pending-requests', requestData);\n        if (response.status === 201) {\n          this.showRegisterModal = false;\n          this.resetNewRequest();\n          this.showSuccessMessage('Account request submitted successfully! Please wait for admin approval.');\n        }\n      } catch (error) {\n        console.error('Submission error:', error.response || error);\n        this.showErrorMessage(error.response?.data?.error || 'Failed to submit request. Please check your connection or try again.');\n      } finally {\n        this.isSubmitting = false;\n      }\n    },\n    resetNewRequest() {\n      this.newRequest = {\n        empNo: '',\n        username: '',\n        password: '',\n        firstName: '',\n        middleName: '',\n        lastName: '',\n        position: '',\n        civilStatus: 'Single',\n        contactNumber: '',\n        email: '',\n        salary: 0,\n        hourlyRate: 0,\n        sss: '',\n        philhealth: '',\n        hdmf: '',\n        tin: '',\n        hireDate: new Date().toISOString().slice(0, 10),\n        status: 'pending',\n        role: 'employee',\n        earnings: {\n          travelExpenses: 0,\n          otherEarnings: 0\n        }\n      };\n      this.confirmPassword = '';\n      this.showPassword = false;\n      this.showConfirmPassword = false;\n      this.emailError = '';\n      this.phoneError = '';\n      this.passwordError = '';\n    },\n    showSuccessMessage(message) {\n      this.statusMessage = message;\n      setTimeout(() => {\n        this.statusMessage = '';\n      }, 5000);\n    },\n    showErrorMessage(message) {\n      this.statusMessage = message;\n      console.error(message);\n      setTimeout(() => {\n        this.statusMessage = '';\n      }, 5000);\n    },\n    calculateSSSContribution(salary) {\n      const monthlySalary = Math.max(salary || 0, 0);\n      if (monthlySalary < 5000) return 250;\n      const salaryCredit = Math.min(Math.max(monthlySalary, 5000), 35000);\n      const regularSSContribution = Math.round(salaryCredit * 0.05);\n      let mpfContribution = salaryCredit > 20000 ? Math.round((Math.min(salaryCredit, 35000) - 20000) * 0.025) : 0;\n      return salaryCredit > 34750 ? 1750 : regularSSContribution + mpfContribution;\n    },\n    calculatePhilHealthContribution(salary) {\n      const monthlySalary = Math.max(salary || 0, 0);\n      return Math.round(Math.min(Math.max(monthlySalary, 10000), 100000) * 0.025);\n    },\n    calculatePagIBIGContribution(salary) {\n      const monthlySalary = Math.max(salary || 0, 0);\n      const cappedSalary = Math.min(monthlySalary, 5000);\n      return Math.round(cappedSalary * (cappedSalary <= 1500 ? 0.01 : 0.02));\n    },\n    calculateWithholdingTax(salary) {\n      const taxableIncome = salary || 0;\n      if (taxableIncome <= 20833) return 0;\n      if (taxableIncome <= 33333) return Math.round((taxableIncome - 20833) * 0.15);\n      if (taxableIncome <= 66667) return Math.round(1875 + (taxableIncome - 33333) * 0.20);\n      if (taxableIncome <= 166667) return Math.round(13541.80 + (taxableIncome - 66667) * 0.25);\n      if (taxableIncome <= 666667) return Math.round(90841.80 + (taxableIncome - 166667) * 0.30);\n      return Math.round(408841.80 + (taxableIncome - 666667) * 0.35);\n    },\n    forgotPassword() {\n      this.loginError = 'Forgot Password feature not implemented yet. Contact your admin.';\n    }\n  }\n};","map":{"version":3,"names":["axios","name","data","username","password","loginError","showRegisterModal","isSubmitting","isLoggingIn","statusMessage","adminPositions","newRequest","empNo","firstName","middleName","lastName","position","civilStatus","contactNumber","email","salary","hourlyRate","sss","philhealth","hdmf","tin","hireDate","Date","toISOString","slice","status","role","earnings","travelExpenses","otherEarnings","showLoginPassword","showPassword","showConfirmPassword","confirmPassword","emailError","phoneError","passwordError","watch","newRequest.salary","newSalary","computed","passwordStrength","length","hasUpper","test","hasLower","hasNumber","hasSpecial","strengthScore","filter","Boolean","passwordStrengthClass","passwordsMatch","isSubmitDisabled","mounted","fetchPositions","methods","response","get","map","pos","_id","showErrorMessage","error","console","message","login","post","trim","id","Error","userData","$store","dispatch","localStorage","setItem","$router","push","toggleLoginPasswordVisibility","togglePasswordVisibility","toggleConfirmPasswordVisibility","validateEmail","emailRegex","validatePhoneNumber","phoneRegex","validatePassword","updateSalaryFromPosition","selectedPosition","find","submitRequest","maxIdResponse","newId","maxId","requestData","resetNewRequest","showSuccessMessage","setTimeout","calculateSSSContribution","monthlySalary","Math","max","salaryCredit","min","regularSSContribution","round","mpfContribution","calculatePhilHealthContribution","calculatePagIBIGContribution","cappedSalary","calculateWithholdingTax","taxableIncome","forgotPassword"],"sources":["C:\\Users\\ASUS\\Desktop\\OJT-PayrollSystem\\OJT-Payroll-System\\frontend\\src\\components\\employeelogin\\EmployeeLogin.vue"],"sourcesContent":["<template>\r\n  <div class=\"min-h-screen bg-gradient-to-br from-blue-50 to-cyan-100 flex items-center justify-center p-4\">\r\n    <div class=\"w-full max-w-md\">\r\n      <!-- Login Card with Fade-In Animation -->\r\n      <div class=\"bg-white/80 backdrop-blur-lg rounded-2xl shadow-xl p-8 space-y-6 transform transition-all duration-500 ease-out animate-fadeIn\">\r\n        <div class=\"text-center space-y-2\">\r\n          <div class=\"bg-blue-500 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 animate-pulse-slow\">\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"w-8 h-8 text-white\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\" />\r\n            </svg>\r\n          </div>\r\n          <h1 class=\"text-2xl font-bold text-gray-900\">Employee Portal</h1>\r\n          <p class=\"text-gray-500 text-sm\">Welcome to your workspace</p>\r\n        </div>\r\n\r\n        <form @submit.prevent=\"login\" class=\"space-y-4\">\r\n          <div class=\"space-y-1\">\r\n            <label for=\"username\" class=\"text-sm font-medium text-gray-700\">Username</label>\r\n            <input\r\n              v-model=\"username\"\r\n              type=\"text\"\r\n              id=\"username\"\r\n              class=\"block w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 ease-in-out hover:border-blue-300\"\r\n              placeholder=\"Enter your username\"\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <div class=\"space-y-1\">\r\n            <label for=\"password\" class=\"text-sm font-medium text-gray-700\">Password</label>\r\n            <div class=\"relative\">\r\n              <input\r\n                v-model=\"password\"\r\n                :type=\"showLoginPassword ? 'text' : 'password'\"\r\n                id=\"password\"\r\n                class=\"block w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-10 transition-all duration-300 ease-in-out hover:border-blue-300\"\r\n                placeholder=\"Enter your password\"\r\n                required\r\n              />\r\n              <button\r\n                type=\"button\"\r\n                @click=\"toggleLoginPasswordVisibility\"\r\n                class=\"absolute inset-y-0 right-0 pr-3 flex items-center transition-transform duration-300 hover:scale-110\"\r\n              >\r\n                <svg\r\n                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                  fill=\"none\"\r\n                  viewBox=\"0 0 24 24\"\r\n                  stroke-width=\"1.5\"\r\n                  stroke=\"currentColor\"\r\n                  class=\"w-5 h-5 text-gray-500\"\r\n                >\r\n                  <path\r\n                    stroke-linecap=\"round\"\r\n                    stroke-linejoin=\"round\"\r\n                    d=\"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z\"\r\n                  />\r\n                  <path\r\n                    stroke-linecap=\"round\"\r\n                    stroke-linejoin=\"round\"\r\n                    d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"\r\n                  />\r\n                </svg>\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          <div v-if=\"loginError\" class=\"text-red-500 text-sm text-center animate-pulse-fast\">\r\n            {{ loginError }}\r\n          </div>\r\n\r\n          <div class=\"text-right\">\r\n            <a href=\"#\" @click.prevent=\"forgotPassword\" class=\"text-sm text-blue-500 hover:underline transition-colors duration-300 hover:text-blue-700\">Forgot Password?</a>\r\n          </div>\r\n\r\n          <button\r\n            type=\"submit\"\r\n            class=\"w-full bg-blue-500 text-white py-2.5 rounded-lg hover:bg-blue-600 transition-all duration-300 ease-in-out transform hover:scale-105 disabled:bg-gray-400 disabled:cursor-not-allowed\"\r\n            :disabled=\"isLoggingIn\"\r\n          >\r\n            {{ isLoggingIn ? 'Signing in...' : 'Sign in' }}\r\n          </button>\r\n        </form>\r\n\r\n        <div class=\"text-center\">\r\n          <p class=\"text-sm text-gray-700\">\r\n            Don't have an account?\r\n            <a href=\"#\" @click.prevent=\"showRegisterModal = true\" class=\"text-blue-500 hover:underline transition-colors duration-300 hover:text-blue-700\">Request an account</a>\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Register Modal with Slide-In Animation -->\r\n    <div v-if=\"showRegisterModal\" class=\"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50\">\r\n      <div class=\"bg-white p-6 rounded-2xl shadow-xl w-full max-w-4xl max-h-[85vh] overflow-y-auto transform transition-all duration-500 ease-out animate-slideIn\">\r\n        <h2 class=\"text-xl font-bold mb-4 text-gray-900\">Request Account Creation</h2>\r\n        <form @submit.prevent=\"submitRequest\" class=\"space-y-6\">\r\n          <!-- Row 1: Basic Information (3 Columns) -->\r\n          <div>\r\n            <h3 class=\"text-base font-semibold text-gray-800 mb-3\">Basic Information</h3>\r\n            <div class=\"grid grid-cols-3 gap-4\">\r\n              <div class=\"space-y-1\">\r\n                <label for=\"empNo\" class=\"text-sm font-medium text-gray-700\">Employee Number</label>\r\n                <input\r\n                  v-model=\"newRequest.empNo\"\r\n                  type=\"text\"\r\n                  id=\"empNo\"\r\n                  class=\"block w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 ease-in-out hover:border-blue-300\"\r\n                  placeholder=\"Enter your employee number\"\r\n                  required\r\n                />\r\n              </div>\r\n              <div class=\"space-y-1\">\r\n                <label for=\"firstName\" class=\"text-sm font-medium text-gray-700\">First Name</label>\r\n                <input\r\n                  v-model=\"newRequest.firstName\"\r\n                  type=\"text\"\r\n                  id=\"firstName\"\r\n                  class=\"block w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 ease-in-out hover:border-blue-300\"\r\n                  placeholder=\"Enter your first name\"\r\n                  required\r\n                />\r\n              </div>\r\n              <div class=\"space-y-1\">\r\n                <label for=\"middleName\" class=\"text-sm font-medium text-gray-700\">Middle Name</label>\r\n                <input\r\n                  v-model=\"newRequest.middleName\"\r\n                  type=\"text\"\r\n                  id=\"middleName\"\r\n                  class=\"block w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 ease-in-out hover:border-blue-300\"\r\n                  placeholder=\"Enter your middle name\"\r\n                />\r\n              </div>\r\n              <div class=\"space-y-1\">\r\n                <label for=\"lastName\" class=\"text-sm font-medium text-gray-700\">Last Name</label>\r\n                <input\r\n                  v-model=\"newRequest.lastName\"\r\n                  type=\"text\"\r\n                  id=\"lastName\"\r\n                  class=\"block w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 ease-in-out hover:border-blue-300\"\r\n                  placeholder=\"Enter your last name\"\r\n                  required\r\n                />\r\n              </div>\r\n              <div class=\"space-y-1\">\r\n                <label for=\"email\" class=\"text-sm font-medium text-gray-700\">Email</label>\r\n                <input\r\n                  v-model=\"newRequest.email\"\r\n                  type=\"email\"\r\n                  id=\"email\"\r\n                  class=\"block w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 ease-in-out hover:border-blue-300\"\r\n                  placeholder=\"Enter your email\"\r\n                  required\r\n                  @input=\"validateEmail\"\r\n                />\r\n                <p v-if=\"emailError\" class=\"text-red-500 text-xs mt-1 animate-pulse-fast\">{{ emailError }}</p>\r\n              </div>\r\n              <div class=\"space-y-1\">\r\n                <label for=\"contactNumber\" class=\"text-sm font-medium text-gray-700\">Contact Number</label>\r\n                <input\r\n                  v-model=\"newRequest.contactNumber\"\r\n                  type=\"text\"\r\n                  id=\"contactNumber\"\r\n                  class=\"block w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 ease-in-out hover:border-blue-300\"\r\n                  placeholder=\"09123456789\"\r\n                  required\r\n                  pattern=\"\\d{11}\"\r\n                  title=\"Please enter an 11-digit phone number (e.g., 09123456789)\"\r\n                  @input=\"validatePhoneNumber\"\r\n                />\r\n                <p v-if=\"phoneError\" class=\"text-red-500 text-xs mt-1 animate-pulse-fast\">{{ phoneError }}</p>\r\n              </div>\r\n              <div class=\"space-y-1\">\r\n                <label for=\"position\" class=\"text-sm font-medium text-gray-700\">Position</label>\r\n                <select\r\n                  v-model=\"newRequest.position\"\r\n                  id=\"position\"\r\n                  class=\"block w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 ease-in-out hover:border-blue-300\"\r\n                  required\r\n                  @change=\"updateSalaryFromPosition\"\r\n                >\r\n                  <option value=\"\" disabled>Select a position</option>\r\n                  <option v-for=\"position in adminPositions\" :key=\"position._id\" :value=\"position.name\">{{ position.name }}</option>\r\n                </select>\r\n                <p v-if=\"adminPositions.length === 0\" class=\"text-red-500 text-xs mt-1\">No positions available. Contact your admin.</p>\r\n              </div>\r\n              <div class=\"space-y-1\">\r\n                <label for=\"civilStatus\" class=\"text-sm font-medium text-gray-700\">Civil Status</label>\r\n                <select\r\n                  v-model=\"newRequest.civilStatus\"\r\n                  id=\"civilStatus\"\r\n                  class=\"block w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 ease-in-out hover:border-blue-300\"\r\n                  required\r\n                >\r\n                  <option value=\"Single\">Single</option>\r\n                  <option value=\"Married\">Married</option>\r\n                  <option value=\"Divorced\">Divorced</option>\r\n                  <option value=\"Widowed\">Widowed</option>\r\n                </select>\r\n              </div>\r\n              <div class=\"space-y-1\">\r\n                <label for=\"hireDate\" class=\"text-sm font-medium text-gray-700\">Hire Date</label>\r\n                <input\r\n                  v-model=\"newRequest.hireDate\"\r\n                  type=\"date\"\r\n                  id=\"hireDate\"\r\n                  class=\"block w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 ease-in-out hover:border-blue-300\"\r\n                  required\r\n                />\r\n              </div>\r\n              <div class=\"space-y-1\">\r\n                <label for=\"sss\" class=\"text-sm font-medium text-gray-700\">SSS ID</label>\r\n                <input\r\n                  v-model=\"newRequest.sss\"\r\n                  type=\"text\"\r\n                  id=\"sss\"\r\n                  class=\"block w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 ease-in-out hover:border-blue-300\"\r\n                  placeholder=\"1234567890\"\r\n                  pattern=\"\\d{10}\"\r\n                  title=\"Please enter a 10-digit SSS ID (e.g., 1234567890)\"\r\n                />\r\n              </div>\r\n              <div class=\"space-y-1\">\r\n                <label for=\"philhealth\" class=\"text-sm font-medium text-gray-700\">PhilHealth ID</label>\r\n                <input\r\n                  v-model=\"newRequest.philhealth\"\r\n                  type=\"text\"\r\n                  id=\"philhealth\"\r\n                  class=\"block w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 ease-in-out hover:border-blue-300\"\r\n                  placeholder=\"123456789012\"\r\n                  pattern=\"\\d{12}\"\r\n                  title=\"Please enter a 12-digit PhilHealth ID (e.g., 123456789012)\"\r\n                />\r\n              </div>\r\n              <div class=\"space-y-1\">\r\n                <label for=\"hdmf\" class=\"text-sm font-medium text-gray-700\">HDMF ID</label>\r\n                <input\r\n                  v-model=\"newRequest.hdmf\"\r\n                  type=\"text\"\r\n                  id=\"hdmf\"\r\n                  class=\"block w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 ease-in-out hover:border-blue-300\"\r\n                  placeholder=\"123456789012\"\r\n                  pattern=\"\\d{12}\"\r\n                  title=\"Please enter a 12-digit Pag-IBIG ID (e.g., 123456789012)\"\r\n                />\r\n              </div>\r\n              <div class=\"space-y-1\">\r\n                <label for=\"tin\" class=\"text-sm font-medium text-gray-700\">TIN</label>\r\n                <input\r\n                  v-model=\"newRequest.tin\"\r\n                  type=\"text\"\r\n                  id=\"tin\"\r\n                  class=\"block w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 ease-in-out hover:border-blue-300\"\r\n                  placeholder=\"123456789\"\r\n                  pattern=\"\\d{9,12}\"\r\n                  title=\"Please enter a 9-12 digit TIN (e.g., 123456789)\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Row 2: Login Credentials (3 Columns) -->\r\n          <div>\r\n            <h3 class=\"text-base font-semibold text-gray-800 mb-3\">Login Credentials</h3>\r\n            <div class=\"grid grid-cols-3 gap-4\">\r\n              <div class=\"space-y-1\">\r\n                <label for=\"newUsername\" class=\"text-sm font-medium text-gray-700\">Username</label>\r\n                <input\r\n                  v-model=\"newRequest.username\"\r\n                  type=\"text\"\r\n                  id=\"newUsername\"\r\n                  class=\"block w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 ease-in-out hover:border-blue-300\"\r\n                  placeholder=\"Choose a username\"\r\n                  required\r\n                  minlength=\"4\"\r\n                />\r\n              </div>\r\n              <div class=\"space-y-1\">\r\n                <label for=\"newPassword\" class=\"text-sm font-medium text-gray-700\">Password</label>\r\n                <div class=\"relative\">\r\n                  <input\r\n                    v-model=\"newRequest.password\"\r\n                    :type=\"showPassword ? 'text' : 'password'\"\r\n                    id=\"newPassword\"\r\n                    class=\"block w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-10 transition-all duration-300 ease-in-out hover:border-blue-300\"\r\n                    placeholder=\"Choose a password\"\r\n                    required\r\n                    minlength=\"8\"\r\n                    @input=\"validatePassword\"\r\n                  />\r\n                  <button\r\n                    type=\"button\"\r\n                    @click=\"togglePasswordVisibility\"\r\n                    class=\"absolute inset-y-0 right-0 pr-3 flex items-center transition-transform duration-300 hover:scale-110\"\r\n                  >\r\n                    <svg\r\n                      xmlns=\"http://www.w3.org/2000/svg\"\r\n                      fill=\"none\"\r\n                      viewBox=\"0 0 24 24\"\r\n                      stroke-width=\"1.5\"\r\n                      stroke=\"currentColor\"\r\n                      class=\"w-5 h-5 text-gray-500\"\r\n                    >\r\n                      <path\r\n                        stroke-linecap=\"round\"\r\n                        stroke-linejoin=\"round\"\r\n                        d=\"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z\"\r\n                      />\r\n                      <path\r\n                        stroke-linecap=\"round\"\r\n                        stroke-linejoin=\"round\"\r\n                        d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"\r\n                      />\r\n                    </svg>\r\n                  </button>\r\n                </div>\r\n                <div class=\"text-sm text-gray-600 mt-2\">\r\n                  Password strength: <span :class=\"passwordStrengthClass\">{{ passwordStrength }}</span>\r\n                </div>\r\n                <p v-if=\"passwordError\" class=\"text-red-500 text-xs mt-1 animate-pulse-fast\">{{ passwordError }}</p>\r\n              </div>\r\n              <div class=\"space-y-1\">\r\n                <label for=\"confirmPassword\" class=\"text-sm font-medium text-gray-700\">Confirm Password</label>\r\n                <div class=\"relative\">\r\n                  <input\r\n                    v-model=\"confirmPassword\"\r\n                    :type=\"showConfirmPassword ? 'text' : 'password'\"\r\n                    id=\"confirmPassword\"\r\n                    class=\"block w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-10 transition-all duration-300 ease-in-out hover:border-blue-300\"\r\n                    placeholder=\"Confirm your password\"\r\n                    required\r\n                    @input=\"validatePassword\"\r\n                  />\r\n                  <button\r\n                    type=\"button\"\r\n                    @click=\"toggleConfirmPasswordVisibility\"\r\n                    class=\"absolute inset-y-0 right-0 pr-3 flex items-center transition-transform duration-300 hover:scale-110\"\r\n                  >\r\n                    <svg\r\n                      xmlns=\"http://www.w3.org/2000/svg\"\r\n                      fill=\"none\"\r\n                      viewBox=\"0 0 24 24\"\r\n                      stroke-width=\"1.5\"\r\n                      stroke=\"currentColor\"\r\n                      class=\"w-5 h-5 text-gray-500\"\r\n                    >\r\n                      <path\r\n                        stroke-linecap=\"round\"\r\n                        stroke-linejoin=\"round\"\r\n                        d=\"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z\"\r\n                      />\r\n                      <path\r\n                        stroke-linecap=\"round\"\r\n                        stroke-linejoin=\"round\"\r\n                        d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"\r\n                      />\r\n                    </svg>\r\n                  </button>\r\n                </div>\r\n                <div class=\"text-sm text-red-500 mt-1 animate-pulse-fast\" v-if=\"!passwordsMatch\">\r\n                  Passwords do not match\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Buttons and Status Message (Outside Rows) -->\r\n          <div class=\"flex justify-end space-x-2 mt-4\">\r\n            <button\r\n              type=\"button\"\r\n              @click=\"showRegisterModal = false\"\r\n              class=\"bg-gray-500 text-white py-2 px-4 rounded-lg hover:bg-gray-600 transition-all duration-300 ease-in-out transform hover:scale-105 disabled:bg-gray-400 disabled:cursor-not-allowed\"\r\n              :disabled=\"isSubmitting\"\r\n            >\r\n              Cancel\r\n            </button>\r\n            <button\r\n              type=\"submit\"\r\n              class=\"bg-blue-500 text-white py-2 px-4 rounded-lg hover:bg-blue-600 transition-all duration-300 ease-in-out transform hover:scale-105 disabled:bg-gray-400 disabled:cursor-not-allowed\"\r\n              :disabled=\"isSubmitDisabled\"\r\n            >\r\n              {{ isSubmitting ? 'Submitting...' : 'Submit Request' }}\r\n            </button>\r\n          </div>\r\n          <div\r\n            v-if=\"statusMessage\"\r\n            :class=\"statusMessage.includes('successfully') ? 'bg-green-50 text-green-700' : 'bg-red-50 text-red-700'\"\r\n            class=\"mt-4 p-3 rounded-lg text-center animate-bounce-in\"\r\n          >\r\n            {{ statusMessage }}\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  name: 'EmployeeLogin',\r\n  data() {\r\n    return {\r\n      username: '',\r\n      password: '',\r\n      loginError: '',\r\n      showRegisterModal: false,\r\n      isSubmitting: false,\r\n      isLoggingIn: false,\r\n      statusMessage: '',\r\n      adminPositions: [], // Positions from backend\r\n      newRequest: {\r\n        empNo: '',\r\n        username: '',\r\n        password: '',\r\n        firstName: '',\r\n        middleName: '',\r\n        lastName: '',\r\n        position: '',\r\n        civilStatus: 'Single',\r\n        contactNumber: '',\r\n        email: '',\r\n        salary: 0,\r\n        hourlyRate: 0,\r\n        sss: '',\r\n        philhealth: '',\r\n        hdmf: '',\r\n        tin: '',\r\n        hireDate: new Date().toISOString().slice(0, 10),\r\n        status: 'pending',\r\n        role: 'employee',\r\n        earnings: { travelExpenses: 0, otherEarnings: 0 }\r\n      },\r\n      showLoginPassword: false,\r\n      showPassword: false,\r\n      showConfirmPassword: false,\r\n      confirmPassword: '',\r\n      emailError: '',\r\n      phoneError: '',\r\n      passwordError: ''\r\n    };\r\n  },\r\n  watch: {\r\n    'newRequest.salary'(newSalary) {\r\n      this.newRequest.hourlyRate = newSalary ? newSalary / (8 * 22) : 0;\r\n    }\r\n  },\r\n  computed: {\r\n    passwordStrength() {\r\n      const password = this.newRequest.password;\r\n      if (!password) return 'Weak';\r\n      if (password.length < 8) return 'Weak';\r\n      const hasUpper = /[A-Z]/.test(password);\r\n      const hasLower = /[a-z]/.test(password);\r\n      const hasNumber = /[0-9]/.test(password);\r\n      const hasSpecial = /[^A-Za-z0-9]/.test(password);\r\n      const strengthScore = [hasUpper, hasLower, hasNumber, hasSpecial].filter(Boolean).length;\r\n      if (password.length >= 12 && strengthScore >= 3) return 'Strong';\r\n      if (password.length >= 8 && strengthScore >= 2) return 'Medium';\r\n      return 'Weak';\r\n    },\r\n    passwordStrengthClass() {\r\n      return {\r\n        'text-red-500': this.passwordStrength === 'Weak',\r\n        'text-yellow-500': this.passwordStrength === 'Medium',\r\n        'text-green-500': this.passwordStrength === 'Strong'\r\n      };\r\n    },\r\n    passwordsMatch() {\r\n      return this.newRequest.password === this.confirmPassword;\r\n    },\r\n    isSubmitDisabled() {\r\n      return this.isSubmitting || !this.passwordsMatch || !!this.emailError || !!this.phoneError || !!this.passwordError || !this.newRequest.position || this.adminPositions.length === 0;\r\n    }\r\n  },\r\n  mounted() {\r\n    this.fetchPositions();\r\n  },\r\n  methods: {\r\n    async fetchPositions() {\r\n      try {\r\n        const response = await axios.get('http://localhost:7777/api/positions');\r\n        this.adminPositions = response.data.map(pos => ({\r\n          _id: pos._id,\r\n          name: pos.name,\r\n          salary: pos.salary\r\n        }));\r\n        if (this.adminPositions.length === 0) {\r\n          this.showErrorMessage('No positions available. Please contact your admin to create positions.');\r\n        }\r\n      } catch (error) {\r\n        console.error('Error fetching positions:', error.response?.data || error.message);\r\n        if (error.response?.status === 403) {\r\n          this.showErrorMessage('Access denied. Please ensure positions are available or contact your admin.');\r\n        } else {\r\n          this.showErrorMessage('Failed to load positions. Please check your connection or contact your admin.');\r\n        }\r\n        this.adminPositions = [];\r\n      }\r\n    },\r\n    async login() {\r\n      this.isLoggingIn = true;\r\n      this.loginError = '';\r\n      try {\r\n        const response = await axios.post('http://localhost:7777/api/auth/login', {\r\n          username: this.username.trim(),\r\n          password: this.password\r\n        });\r\n\r\n        if (!response.data || typeof response.data.id === 'undefined') {\r\n          throw new Error('Invalid response from server');\r\n        }\r\n\r\n        const userData = {\r\n          id: response.data.id,\r\n          empNo: response.data.empNo,\r\n          username: response.data.username,\r\n          name: response.data.name,\r\n          email: response.data.email,\r\n          role: response.data.role,\r\n          hireDate: response.data.hireDate\r\n        };\r\n\r\n        if (this.$store) {\r\n          this.$store.dispatch('login', userData);\r\n        }\r\n\r\n        localStorage.setItem('userId', userData.id);\r\n        localStorage.setItem('userEmpNo', userData.empNo);\r\n        localStorage.setItem('userRole', userData.role);\r\n        localStorage.setItem('userName', userData.name);\r\n        localStorage.setItem('userEmail', userData.email);\r\n        localStorage.setItem('userHireDate', userData.hireDate);\r\n\r\n        this.$router.push(userData.role === 'admin' ? '/admin' : '/employee');\r\n      } catch (error) {\r\n        console.error('Login error:', error.response || error);\r\n        this.loginError = error.response?.data?.error || 'Unable to connect to the server. Please try again later.';\r\n        this.password = '';\r\n      } finally {\r\n        this.isLoggingIn = false;\r\n      }\r\n    },\r\n    toggleLoginPasswordVisibility() {\r\n      this.showLoginPassword = !this.showLoginPassword;\r\n    },\r\n    togglePasswordVisibility() {\r\n      this.showPassword = !this.showPassword;\r\n    },\r\n    toggleConfirmPasswordVisibility() {\r\n      this.showConfirmPassword = !this.showConfirmPassword;\r\n    },\r\n    validateEmail() {\r\n      const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n      this.emailError = emailRegex.test(this.newRequest.email) ? '' : 'Please enter a valid email address.';\r\n    },\r\n    validatePhoneNumber() {\r\n      const phoneRegex = /^\\d{11}$/;\r\n      this.phoneError = phoneRegex.test(this.newRequest.contactNumber) ? '' : 'Please enter a valid 11-digit phone number.';\r\n    },\r\n    validatePassword() {\r\n      const password = this.newRequest.password;\r\n      if (!password) {\r\n        this.passwordError = 'Password is required.';\r\n      } else if (password.length < 8) {\r\n        this.passwordError = 'Password must be at least 8 characters long.';\r\n      } else if (!/[A-Za-z]/.test(password) || !/[0-9]/.test(password)) {\r\n        this.passwordError = 'Password must contain letters and numbers.';\r\n      } else {\r\n        this.passwordError = '';\r\n      }\r\n    },\r\n    updateSalaryFromPosition() {\r\n      const selectedPosition = this.adminPositions.find(pos => pos.name === this.newRequest.position);\r\n      if (selectedPosition) {\r\n        this.newRequest.salary = selectedPosition.salary;\r\n        this.newRequest.hourlyRate = selectedPosition.salary / (8 * 22);\r\n      } else {\r\n        this.newRequest.salary = 0;\r\n        this.newRequest.hourlyRate = 0;\r\n      }\r\n    },\r\n    async submitRequest() {\r\n      if (!this.passwordsMatch) {\r\n        this.showErrorMessage('Passwords do not match.');\r\n        return;\r\n      }\r\n      if (this.emailError || this.phoneError || this.passwordError) {\r\n        this.showErrorMessage('Please fix all validation errors before submitting.');\r\n        return;\r\n      }\r\n      if (!this.newRequest.position || this.adminPositions.length === 0) {\r\n        this.showErrorMessage('Please select a valid position or contact your admin if none are available.');\r\n        return;\r\n      }\r\n\r\n      this.isSubmitting = true;\r\n      this.statusMessage = '';\r\n      try {\r\n        const maxIdResponse = await axios.get('http://localhost:7777/api/pending-requests/max-id');\r\n        const newId = (maxIdResponse.data.maxId || 0) + 1;\r\n\r\n        const requestData = {\r\n          ...this.newRequest,\r\n          id: newId,\r\n          earnings: { travelExpenses: 0, otherEarnings: 0 }\r\n        };\r\n\r\n        const response = await axios.post('http://localhost:7777/api/pending-requests', requestData);\r\n\r\n        if (response.status === 201) {\r\n          this.showRegisterModal = false;\r\n          this.resetNewRequest();\r\n          this.showSuccessMessage('Account request submitted successfully! Please wait for admin approval.');\r\n        }\r\n      } catch (error) {\r\n        console.error('Submission error:', error.response || error);\r\n        this.showErrorMessage(error.response?.data?.error || 'Failed to submit request. Please check your connection or try again.');\r\n      } finally {\r\n        this.isSubmitting = false;\r\n      }\r\n    },\r\n    resetNewRequest() {\r\n      this.newRequest = {\r\n        empNo: '',\r\n        username: '',\r\n        password: '',\r\n        firstName: '',\r\n        middleName: '',\r\n        lastName: '',\r\n        position: '',\r\n        civilStatus: 'Single',\r\n        contactNumber: '',\r\n        email: '',\r\n        salary: 0,\r\n        hourlyRate: 0,\r\n        sss: '',\r\n        philhealth: '',\r\n        hdmf: '',\r\n        tin: '',\r\n        hireDate: new Date().toISOString().slice(0, 10),\r\n        status: 'pending',\r\n        role: 'employee',\r\n        earnings: { travelExpenses: 0, otherEarnings: 0 }\r\n      };\r\n      this.confirmPassword = '';\r\n      this.showPassword = false;\r\n      this.showConfirmPassword = false;\r\n      this.emailError = '';\r\n      this.phoneError = '';\r\n      this.passwordError = '';\r\n    },\r\n    showSuccessMessage(message) {\r\n      this.statusMessage = message;\r\n      setTimeout(() => { this.statusMessage = ''; }, 5000);\r\n    },\r\n    showErrorMessage(message) {\r\n      this.statusMessage = message;\r\n      console.error(message);\r\n      setTimeout(() => { this.statusMessage = ''; }, 5000);\r\n    },\r\n    calculateSSSContribution(salary) {\r\n      const monthlySalary = Math.max(salary || 0, 0);\r\n      if (monthlySalary < 5000) return 250;\r\n      const salaryCredit = Math.min(Math.max(monthlySalary, 5000), 35000);\r\n      const regularSSContribution = Math.round(salaryCredit * 0.05);\r\n      let mpfContribution = salaryCredit > 20000 ? Math.round((Math.min(salaryCredit, 35000) - 20000) * 0.025) : 0;\r\n      return salaryCredit > 34750 ? 1750 : regularSSContribution + mpfContribution;\r\n    },\r\n    calculatePhilHealthContribution(salary) {\r\n      const monthlySalary = Math.max(salary || 0, 0);\r\n      return Math.round(Math.min(Math.max(monthlySalary, 10000), 100000) * 0.025);\r\n    },\r\n    calculatePagIBIGContribution(salary) {\r\n      const monthlySalary = Math.max(salary || 0, 0);\r\n      const cappedSalary = Math.min(monthlySalary, 5000);\r\n      return Math.round(cappedSalary * (cappedSalary <= 1500 ? 0.01 : 0.02));\r\n    },\r\n    calculateWithholdingTax(salary) {\r\n      const taxableIncome = salary || 0;\r\n      if (taxableIncome <= 20833) return 0;\r\n      if (taxableIncome <= 33333) return Math.round((taxableIncome - 20833) * 0.15);\r\n      if (taxableIncome <= 66667) return Math.round(1875 + (taxableIncome - 33333) * 0.20);\r\n      if (taxableIncome <= 166667) return Math.round(13541.80 + (taxableIncome - 66667) * 0.25);\r\n      if (taxableIncome <= 666667) return Math.round(90841.80 + (taxableIncome - 166667) * 0.30);\r\n      return Math.round(408841.80 + (taxableIncome - 666667) * 0.35);\r\n    },\r\n    forgotPassword() {\r\n      this.loginError = 'Forgot Password feature not implemented yet. Contact your admin.';\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n/* Animation Keyframes */\r\n@keyframes fadeIn {\r\n  from { opacity: 0; transform: translateY(-20px); }\r\n  to { opacity: 1; transform: translateY(0); }\r\n}\r\n\r\n@keyframes slideIn {\r\n  from { opacity: 0; transform: translateY(20px) scale(0.95); }\r\n  to { opacity: 1; transform: translateY(0) scale(1); }\r\n}\r\n\r\n@keyframes bounceIn {\r\n  0%, 100% { transform: scale(1); }\r\n  50% { transform: scale(1.05); }\r\n}\r\n\r\n@keyframes pulseSlow {\r\n  0%, 100% { transform: scale(1); }\r\n  50% { transform: scale(1.1); }\r\n}\r\n\r\n@keyframes pulseFast {\r\n  0%, 100% { transform: scale(1); }\r\n  50% { transform: scale(1.05); }\r\n}\r\n\r\n/* Animation Classes */\r\n.animate-fadeIn { animation: fadeIn 0.5s ease-out; }\r\n.animate-slideIn { animation: slideIn 0.5s ease-out; }\r\n.animate-bounce-in { animation: bounceIn 0.5s ease-out; }\r\n.animate-pulse-slow { animation: pulseSlow 2s infinite ease-in-out; }\r\n.animate-pulse-fast { animation: pulseFast 1s infinite ease-in-out; }\r\n\r\n/* Custom Styles for Better UX */\r\ninput:focus, select:focus, button:focus {\r\n  outline: none;\r\n  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.3);\r\n}\r\n\r\n.disabled:bg-gray-400:disabled { opacity: 0.7; }\r\n.bg-gray-100:disabled { background-color: #f3f4f6; cursor: not-allowed; }\r\n\r\n/* Responsive Adjustments */\r\n@media (max-width: 640px) {\r\n  .grid-cols-2 { grid-template-columns: 1fr; }\r\n  .w-full.max-w-3xl { max-width: 90%; }\r\n  .p-6 { padding: 4; }\r\n}\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
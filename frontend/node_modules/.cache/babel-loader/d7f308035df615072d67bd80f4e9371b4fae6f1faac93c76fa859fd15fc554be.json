{"ast":null,"code":"export default {\n  name: 'AddPayheadModal',\n  props: {\n    availablePayheads: {\n      type: Array,\n      required: true\n    },\n    selectedEmployeePayheads: {\n      type: Array,\n      required: true\n    },\n    totalPayableSalary: {\n      type: Number,\n      default: 0\n    },\n    selectedEmployee: {\n      type: Object,\n      required: true\n    },\n    isUpdate: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data() {\n    return {\n      selectedPayhead: null\n    };\n  },\n  methods: {\n    addPayhead() {\n      if (this.selectedPayhead) {\n        this.$emit('addPayhead', {\n          ...this.selectedPayhead,\n          uniqueId: Date.now() + Math.random()\n        });\n        this.selectedPayhead = null;\n      }\n    },\n    removePayhead(payhead) {\n      this.$emit('removePayhead', payhead);\n    },\n    updatePayhead(payhead) {\n      this.$emit('updatePayhead', payhead);\n    }\n  }\n};","map":{"version":3,"names":["name","props","availablePayheads","type","Array","required","selectedEmployeePayheads","totalPayableSalary","Number","default","selectedEmployee","Object","isUpdate","Boolean","data","selectedPayhead","methods","addPayhead","$emit","uniqueId","Date","now","Math","random","removePayhead","payhead","updatePayhead"],"sources":["C:\\Users\\ASUS\\Desktop\\OJT-PayrollSystem\\OJT-Payroll-System\\frontend\\src\\components\\payhead\\AddPayheadModal.vue"],"sourcesContent":["<template>\r\n  <div\r\n    class=\"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50\"\r\n  >\r\n    <div\r\n      class=\"bg-white p-6 rounded-xl shadow-xl w-full max-w-md max-h-[90vh] overflow-y-auto\"\r\n    >\r\n      <div class=\"flex justify-between items-center mb-4\">\r\n        <h2 class=\"text-2xl font-bold text-gray-800\">\r\n          {{ isUpdate ? 'Edit Payheads' : 'Add Payheads for Employee' }}\r\n        </h2>\r\n        <button\r\n          @click=\"$emit('close')\"\r\n          class=\"text-gray-500 hover:text-gray-700\"\r\n        >\r\n          <span class=\"material-icons-outlined\">close</span>\r\n        </button>\r\n      </div>\r\n\r\n      <div class=\"space-y-4\">\r\n        <!-- Selected Employee Info -->\r\n        <div class=\"bg-gray-100 p-4 rounded-lg\">\r\n          <p class=\"text-sm text-gray-700\">\r\n            Employee: {{ selectedEmployee.name || 'N/A' }}\r\n          </p>\r\n          <p class=\"text-sm text-gray-700\">\r\n            Base Salary: ₱{{ (selectedEmployee.salary || 0).toLocaleString() }}\r\n          </p>\r\n          <p class=\"text-sm text-gray-700\">\r\n            Total Payable Salary: ₱{{ (totalPayableSalary || 0).toLocaleString() }}\r\n          </p>\r\n        </div>\r\n\r\n        <!-- Available Payheads -->\r\n        <div class=\"space-y-2\" v-if=\"!isUpdate\">\r\n          <h3 class=\"text-lg font-semibold text-gray-800\">Available Payheads</h3>\r\n          <select\r\n            v-model=\"selectedPayhead\"\r\n            class=\"block w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n            :disabled=\"isUpdate\"\r\n          >\r\n            <option value=\"\" disabled>Select a Payhead</option>\r\n            <option\r\n              v-for=\"payhead in availablePayheads\"\r\n              :key=\"payhead.id\"\r\n              :value=\"payhead\"\r\n            >\r\n              {{ payhead.name }} ({{ payhead.type }}, ₱{{ payhead.amount }}{{ payhead.isRecurring ? ', Recurring' : '' }})\r\n            </option>\r\n          </select>\r\n          <button\r\n            @click=\"addPayhead\"\r\n            class=\"mt-2 py-2 px-4 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition duration-200\"\r\n            :disabled=\"!selectedPayhead || isUpdate\"\r\n          >\r\n            Add Payhead\r\n          </button>\r\n        </div>\r\n\r\n        <!-- Selected Payheads -->\r\n        <div class=\"space-y-2\">\r\n          <h3 class=\"text-lg font-semibold text-gray-800\">Selected Payheads</h3>\r\n          <div\r\n            v-for=\"(payhead) in selectedEmployeePayheads\"\r\n            :key=\"payhead.uniqueId\"\r\n            class=\"flex items-center justify-between p-2 bg-gray-50 rounded-lg\"\r\n          >\r\n            <span>{{ payhead.name }} ({{ payhead.type }}, ₱{{ payhead.amount }}{{ payhead.isRecurring ? ', Recurring' : '' }})</span>\r\n            <div>\r\n              <input\r\n                v-model.number=\"payhead.amount\"\r\n                type=\"number\"\r\n                class=\"w-24 p-1 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                @change=\"updatePayhead(payhead)\"\r\n                min=\"0\"\r\n                :disabled=\"isUpdate\"\r\n              />\r\n              <button\r\n                @click=\"removePayhead(payhead)\"\r\n                class=\"ml-2 p-1 text-red-500 hover:text-red-700\"\r\n                :disabled=\"isUpdate\"\r\n              >\r\n                <span class=\"material-icons-outlined\">delete</span>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Actions -->\r\n      <div class=\"mt-6 flex justify-end gap-4\">\r\n        <button\r\n          @click=\"$emit('close')\"\r\n          class=\"py-2 px-4 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition duration-200\"\r\n        >\r\n          Cancel\r\n        </button>\r\n        <button\r\n          @click=\"$emit('save')\"\r\n          class=\"py-2 px-4 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition duration-200\"\r\n          :disabled=\"isUpdate\" \r\n        >\r\n          {{ isUpdate ? 'Update Payheads' : 'Save Payheads' }}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'AddPayheadModal',\r\n  props: {\r\n    availablePayheads: {\r\n      type: Array,\r\n      required: true\r\n    },\r\n    selectedEmployeePayheads: {\r\n      type: Array,\r\n      required: true\r\n    },\r\n    totalPayableSalary: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    selectedEmployee: {\r\n      type: Object,\r\n      required: true\r\n    },\r\n    isUpdate: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      selectedPayhead: null\r\n    };\r\n  },\r\n  methods: {\r\n    addPayhead() {\r\n      if (this.selectedPayhead) {\r\n        this.$emit('addPayhead', { ...this.selectedPayhead, uniqueId: Date.now() + Math.random() });\r\n        this.selectedPayhead = null;\r\n      }\r\n    },\r\n    removePayhead(payhead) {\r\n      this.$emit('removePayhead', payhead);\r\n    },\r\n    updatePayhead(payhead) {\r\n      this.$emit('updatePayhead', payhead);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.transition-all {\r\n  transition: all 0.2s ease-in-out;\r\n}\r\n\r\n.hover\\:bg-gray-50:hover {\r\n  background-color: #f9fafb;\r\n}\r\n</style>"],"mappings":"AA8GA,eAAe;EACbA,IAAI,EAAE,iBAAiB;EACvBC,KAAK,EAAE;IACLC,iBAAiB,EAAE;MACjBC,IAAI,EAAEC,KAAK;MACXC,QAAQ,EAAE;IACZ,CAAC;IACDC,wBAAwB,EAAE;MACxBH,IAAI,EAAEC,KAAK;MACXC,QAAQ,EAAE;IACZ,CAAC;IACDE,kBAAkB,EAAE;MAClBJ,IAAI,EAAEK,MAAM;MACZC,OAAO,EAAE;IACX,CAAC;IACDC,gBAAgB,EAAE;MAChBP,IAAI,EAAEQ,MAAM;MACZN,QAAQ,EAAE;IACZ,CAAC;IACDO,QAAQ,EAAE;MACRT,IAAI,EAAEU,OAAO;MACbJ,OAAO,EAAE;IACX;EACF,CAAC;EACDK,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,eAAe,EAAE;IACnB,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACPC,UAAUA,CAAA,EAAG;MACX,IAAI,IAAI,CAACF,eAAe,EAAE;QACxB,IAAI,CAACG,KAAK,CAAC,YAAY,EAAE;UAAE,GAAG,IAAI,CAACH,eAAe;UAAEI,QAAQ,EAAEC,IAAI,CAACC,GAAG,CAAC,IAAIC,IAAI,CAACC,MAAM,CAAC;QAAE,CAAC,CAAC;QAC3F,IAAI,CAACR,eAAc,GAAI,IAAI;MAC7B;IACF,CAAC;IACDS,aAAaA,CAACC,OAAO,EAAE;MACrB,IAAI,CAACP,KAAK,CAAC,eAAe,EAAEO,OAAO,CAAC;IACtC,CAAC;IACDC,aAAaA,CAACD,OAAO,EAAE;MACrB,IAAI,CAACP,KAAK,CAAC,eAAe,EAAEO,OAAO,CAAC;IACtC;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
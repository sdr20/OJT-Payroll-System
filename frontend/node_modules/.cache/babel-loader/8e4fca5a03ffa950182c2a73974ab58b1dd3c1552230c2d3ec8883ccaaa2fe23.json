{"ast":null,"code":"import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, createTextVNode as _createTextVNode, vModelText as _vModelText, withDirectives as _withDirectives, withModifiers as _withModifiers } from \"vue\";\nconst _hoisted_1 = {\n  class: \"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 p-4\"\n};\nconst _hoisted_2 = {\n  class: \"max-w-6xl mx-auto\"\n};\nconst _hoisted_3 = {\n  class: \"bg-white p-6 rounded-xl shadow-md\"\n};\nconst _hoisted_4 = {\n  class: \"flex justify-between items-center mb-6\"\n};\nconst _hoisted_5 = {\n  class: \"overflow-x-auto\"\n};\nconst _hoisted_6 = {\n  class: \"min-w-full divide-y divide-gray-200\"\n};\nconst _hoisted_7 = {\n  class: \"bg-white divide-y divide-gray-200\"\n};\nconst _hoisted_8 = {\n  class: \"px-6 py-4 whitespace-nowrap text-sm text-gray-900\"\n};\nconst _hoisted_9 = {\n  class: \"px-6 py-4 whitespace-nowrap text-sm text-gray-900\"\n};\nconst _hoisted_10 = {\n  class: \"px-6 py-4 whitespace-nowrap text-sm text-gray-900\"\n};\nconst _hoisted_11 = {\n  class: \"px-6 py-4 whitespace-nowrap text-sm font-medium flex gap-2\"\n};\nconst _hoisted_12 = [\"onClick\"];\nconst _hoisted_13 = [\"onClick\"];\nconst _hoisted_14 = [\"onClick\"];\nconst _hoisted_15 = [\"onClick\"];\nconst _hoisted_16 = {\n  key: 0,\n  class: \"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50\"\n};\nconst _hoisted_17 = {\n  class: \"bg-white p-6 rounded-xl shadow-md max-w-lg w-full\"\n};\nconst _hoisted_18 = {\n  class: \"space-y-2\"\n};\nconst _hoisted_19 = {\n  class: \"flex justify-end gap-3 mt-6\"\n};\nconst _hoisted_20 = {\n  key: 1,\n  class: \"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50\"\n};\nconst _hoisted_21 = {\n  class: \"bg-white p-6 rounded-xl shadow-md max-w-lg w-full\"\n};\nconst _hoisted_22 = {\n  class: \"flex justify-end gap-3\"\n};\nconst _hoisted_23 = [\"disabled\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_cache[7] || (_cache[7] = _createElementVNode(\"h2\", {\n    class: \"text-xl font-bold text-gray-900\"\n  }, \"Leave Management\", -1 /* HOISTED */)), $options.isEmployee ? (_openBlock(), _createElementBlock(\"button\", {\n    key: 0,\n    onClick: _cache[0] || (_cache[0] = $event => $data.showRequestModal = true),\n    class: \"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-all duration-200\"\n  }, \" Request Leave \")) : _createCommentVNode(\"v-if\", true)]), _createCommentVNode(\" Leave Requests Table \"), _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"table\", _hoisted_6, [_cache[8] || (_cache[8] = _createElementVNode(\"thead\", {\n    class: \"bg-gray-50\"\n  }, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", {\n    class: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n  }, \"Employee Name\"), _createElementVNode(\"th\", {\n    class: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n  }, \"Leave Start Date\"), _createElementVNode(\"th\", {\n    class: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n  }, \"Leave End Date\"), _createElementVNode(\"th\", {\n    class: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n  }, \"Status\"), _createElementVNode(\"th\", {\n    class: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n  }, \"Actions\")])], -1 /* HOISTED */)), _createElementVNode(\"tbody\", _hoisted_7, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.leaveRequests, leave => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: leave.id,\n      class: \"hover:bg-gray-50\"\n    }, [_createElementVNode(\"td\", _hoisted_8, _toDisplayString(leave.employeeName), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_9, _toDisplayString(leave.startDate), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_10, _toDisplayString(leave.endDate), 1 /* TEXT */), _createElementVNode(\"td\", {\n      class: _normalizeClass([\"px-6 py-4 whitespace-nowrap text-sm font-semibold\", $options.getStatusClass(leave.status)])\n    }, _toDisplayString(leave.status), 3 /* TEXT, CLASS */), _createElementVNode(\"td\", _hoisted_11, [_createElementVNode(\"button\", {\n      onClick: $event => $options.showReasonModal(leave),\n      class: \"bg-blue-50 text-blue-600 py-1.5 px-3 rounded-lg hover:bg-blue-100 transition-all duration-200\"\n    }, \" View Details \", 8 /* PROPS */, _hoisted_12), $options.isAdmin && leave.status === 'Pending' ? (_openBlock(), _createElementBlock(\"button\", {\n      key: 0,\n      onClick: $event => $options.approveLeave(leave.id),\n      class: \"bg-green-50 text-green-600 py-1.5 px-3 rounded-lg hover:bg-green-100 transition-all duration-200\"\n    }, \" Approve \", 8 /* PROPS */, _hoisted_13)) : _createCommentVNode(\"v-if\", true), $options.isAdmin && leave.status === 'Pending' ? (_openBlock(), _createElementBlock(\"button\", {\n      key: 1,\n      onClick: $event => $options.disapproveLeave(leave.id),\n      class: \"bg-red-50 text-red-600 py-1.5 px-3 rounded-lg hover:bg-red-100 transition-all duration-200\"\n    }, \" Disapprove \", 8 /* PROPS */, _hoisted_14)) : _createCommentVNode(\"v-if\", true), $options.isEmployee && leave.status === 'Pending' ? (_openBlock(), _createElementBlock(\"button\", {\n      key: 2,\n      onClick: $event => $options.cancelLeave(leave.id),\n      class: \"bg-yellow-50 text-yellow-600 py-1.5 px-3 rounded-lg hover:bg-yellow-100 transition-all duration-200\"\n    }, \" Cancel \", 8 /* PROPS */, _hoisted_15)) : _createCommentVNode(\"v-if\", true)])]);\n  }), 128 /* KEYED_FRAGMENT */))])])])]), _createCommentVNode(\" Reason/Details Modal \"), $data.showReasonModalVisible ? (_openBlock(), _createElementBlock(\"div\", _hoisted_16, [_createElementVNode(\"div\", _hoisted_17, [_cache[15] || (_cache[15] = _createElementVNode(\"h2\", {\n    class: \"text-xl font-bold mb-4\"\n  }, \"Leave Details\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_18, [_createElementVNode(\"p\", null, [_cache[9] || (_cache[9] = _createElementVNode(\"strong\", null, \"Employee:\", -1 /* HOISTED */)), _createTextVNode(\" \" + _toDisplayString($data.selectedLeave.employeeName), 1 /* TEXT */)]), _createElementVNode(\"p\", null, [_cache[10] || (_cache[10] = _createElementVNode(\"strong\", null, \"Start Date:\", -1 /* HOISTED */)), _createTextVNode(\" \" + _toDisplayString($data.selectedLeave.startDate), 1 /* TEXT */)]), _createElementVNode(\"p\", null, [_cache[11] || (_cache[11] = _createElementVNode(\"strong\", null, \"End Date:\", -1 /* HOISTED */)), _createTextVNode(\" \" + _toDisplayString($data.selectedLeave.endDate), 1 /* TEXT */)]), _createElementVNode(\"p\", null, [_cache[12] || (_cache[12] = _createElementVNode(\"strong\", null, \"Reason:\", -1 /* HOISTED */)), _createTextVNode(\" \" + _toDisplayString($data.selectedLeave.reason), 1 /* TEXT */)]), _createElementVNode(\"p\", null, [_cache[13] || (_cache[13] = _createElementVNode(\"strong\", null, \"Status:\", -1 /* HOISTED */)), _cache[14] || (_cache[14] = _createTextVNode()), _createElementVNode(\"span\", {\n    class: _normalizeClass($options.getStatusClass($data.selectedLeave.status))\n  }, _toDisplayString($data.selectedLeave.status), 3 /* TEXT, CLASS */)])]), _createElementVNode(\"div\", _hoisted_19, [_createElementVNode(\"button\", {\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.closeReasonModal && $options.closeReasonModal(...args)),\n    class: \"py-2 px-4 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-all duration-200\"\n  }, \" Close \")])])])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Leave Request Modal (Employee Only) \"), $data.showRequestModal ? (_openBlock(), _createElementBlock(\"div\", _hoisted_20, [_createElementVNode(\"div\", _hoisted_21, [_cache[19] || (_cache[19] = _createElementVNode(\"h2\", {\n    class: \"text-xl font-bold mb-4\"\n  }, \"Request a Leave\", -1 /* HOISTED */)), _createElementVNode(\"form\", {\n    onSubmit: _cache[6] || (_cache[6] = _withModifiers((...args) => $options.submitLeaveRequest && $options.submitLeaveRequest(...args), [\"prevent\"])),\n    class: \"space-y-4\"\n  }, [_createElementVNode(\"div\", null, [_cache[16] || (_cache[16] = _createElementVNode(\"label\", {\n    class: \"block text-sm font-medium text-gray-700\"\n  }, \"Start Date\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.newLeave.startDate = $event),\n    type: \"date\",\n    required: \"\",\n    class: \"mt-1 block w-full p-2 border rounded-lg focus:ring-blue-500 focus:border-blue-500\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.newLeave.startDate]])]), _createElementVNode(\"div\", null, [_cache[17] || (_cache[17] = _createElementVNode(\"label\", {\n    class: \"block text-sm font-medium text-gray-700\"\n  }, \"End Date\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.newLeave.endDate = $event),\n    type: \"date\",\n    required: \"\",\n    class: \"mt-1 block w-full p-2 border rounded-lg focus:ring-blue-500 focus:border-blue-500\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.newLeave.endDate]])]), _createElementVNode(\"div\", null, [_cache[18] || (_cache[18] = _createElementVNode(\"label\", {\n    class: \"block text-sm font-medium text-gray-700\"\n  }, \"Reason\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"textarea\", {\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.newLeave.reason = $event),\n    required: \"\",\n    class: \"mt-1 block w-full p-2 border rounded-lg focus:ring-blue-500 focus:border-blue-500\",\n    rows: \"3\",\n    placeholder: \"Enter your reason for leave\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.newLeave.reason]])]), _createElementVNode(\"div\", _hoisted_22, [_createElementVNode(\"button\", {\n    type: \"button\",\n    onClick: _cache[5] || (_cache[5] = $event => $data.showRequestModal = false),\n    class: \"py-2 px-4 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-all duration-200\"\n  }, \" Cancel \"), _createElementVNode(\"button\", {\n    type: \"submit\",\n    class: \"py-2 px-4 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-all duration-200\",\n    disabled: $data.isSubmitting\n  }, _toDisplayString($data.isSubmitting ? 'Submitting...' : 'Submit'), 9 /* TEXT, PROPS */, _hoisted_23)])], 32 /* NEED_HYDRATION */)])])) : _createCommentVNode(\"v-if\", true)])]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","$options","isEmployee","onClick","_cache","$event","$data","showRequestModal","_createCommentVNode","_hoisted_5","_hoisted_6","_hoisted_7","_Fragment","_renderList","leaveRequests","leave","id","_hoisted_8","_toDisplayString","employeeName","_hoisted_9","startDate","_hoisted_10","endDate","_normalizeClass","getStatusClass","status","_hoisted_11","showReasonModal","_hoisted_12","isAdmin","approveLeave","_hoisted_13","disapproveLeave","_hoisted_14","cancelLeave","_hoisted_15","showReasonModalVisible","_hoisted_16","_hoisted_17","_hoisted_18","_createTextVNode","selectedLeave","reason","_hoisted_19","args","closeReasonModal","_hoisted_20","_hoisted_21","onSubmit","_withModifiers","submitLeaveRequest","newLeave","type","required","rows","placeholder","_hoisted_22","disabled","isSubmitting","_hoisted_23"],"sources":["C:\\Users\\ASUS\\Desktop\\Payroll_system\\frontend\\src\\views\\employee\\EmployeeLeaveManagement.vue"],"sourcesContent":["<template>\r\n  <div class=\"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 p-4\">\r\n    <div class=\"max-w-6xl mx-auto\">\r\n      <div class=\"bg-white p-6 rounded-xl shadow-md\">\r\n        <div class=\"flex justify-between items-center mb-6\">\r\n          <h2 class=\"text-xl font-bold text-gray-900\">Leave Management</h2>\r\n          <button v-if=\"isEmployee\" @click=\"showRequestModal = true\" \r\n                  class=\"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-all duration-200\">\r\n            Request Leave\r\n          </button>\r\n        </div>\r\n\r\n        <!-- Leave Requests Table -->\r\n        <div class=\"overflow-x-auto\">\r\n          <table class=\"min-w-full divide-y divide-gray-200\">\r\n            <thead class=\"bg-gray-50\">\r\n              <tr>\r\n                <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Employee Name</th>\r\n                <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Leave Start Date</th>\r\n                <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Leave End Date</th>\r\n                <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Status</th>\r\n                <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Actions</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody class=\"bg-white divide-y divide-gray-200\">\r\n              <tr v-for=\"leave in leaveRequests\" :key=\"leave.id\" class=\"hover:bg-gray-50\">\r\n                <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">{{ leave.employeeName }}</td>\r\n                <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">{{ leave.startDate }}</td>\r\n                <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">{{ leave.endDate }}</td>\r\n                <td class=\"px-6 py-4 whitespace-nowrap text-sm font-semibold\"\r\n                    :class=\"getStatusClass(leave.status)\">\r\n                  {{ leave.status }}\r\n                </td>\r\n                <td class=\"px-6 py-4 whitespace-nowrap text-sm font-medium flex gap-2\">\r\n                  <button @click=\"showReasonModal(leave)\" \r\n                          class=\"bg-blue-50 text-blue-600 py-1.5 px-3 rounded-lg hover:bg-blue-100 transition-all duration-200\">\r\n                    View Details\r\n                  </button>\r\n                  <button v-if=\"isAdmin && leave.status === 'Pending'\" @click=\"approveLeave(leave.id)\" \r\n                          class=\"bg-green-50 text-green-600 py-1.5 px-3 rounded-lg hover:bg-green-100 transition-all duration-200\">\r\n                    Approve\r\n                  </button>\r\n                  <button v-if=\"isAdmin && leave.status === 'Pending'\" @click=\"disapproveLeave(leave.id)\" \r\n                          class=\"bg-red-50 text-red-600 py-1.5 px-3 rounded-lg hover:bg-red-100 transition-all duration-200\">\r\n                    Disapprove\r\n                  </button>\r\n                  <button v-if=\"isEmployee && leave.status === 'Pending'\" @click=\"cancelLeave(leave.id)\" \r\n                          class=\"bg-yellow-50 text-yellow-600 py-1.5 px-3 rounded-lg hover:bg-yellow-100 transition-all duration-200\">\r\n                    Cancel\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Reason/Details Modal -->\r\n      <div v-if=\"showReasonModalVisible\" class=\"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50\">\r\n        <div class=\"bg-white p-6 rounded-xl shadow-md max-w-lg w-full\">\r\n          <h2 class=\"text-xl font-bold mb-4\">Leave Details</h2>\r\n          <div class=\"space-y-2\">\r\n            <p><strong>Employee:</strong> {{ selectedLeave.employeeName }}</p>\r\n            <p><strong>Start Date:</strong> {{ selectedLeave.startDate }}</p>\r\n            <p><strong>End Date:</strong> {{ selectedLeave.endDate }}</p>\r\n            <p><strong>Reason:</strong> {{ selectedLeave.reason }}</p>\r\n            <p><strong>Status:</strong> <span :class=\"getStatusClass(selectedLeave.status)\">{{ selectedLeave.status }}</span></p>\r\n          </div>\r\n          <div class=\"flex justify-end gap-3 mt-6\">\r\n            <button @click=\"closeReasonModal\" \r\n                    class=\"py-2 px-4 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-all duration-200\">\r\n              Close\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Leave Request Modal (Employee Only) -->\r\n      <div v-if=\"showRequestModal\" class=\"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50\">\r\n        <div class=\"bg-white p-6 rounded-xl shadow-md max-w-lg w-full\">\r\n          <h2 class=\"text-xl font-bold mb-4\">Request a Leave</h2>\r\n          <form @submit.prevent=\"submitLeaveRequest\" class=\"space-y-4\">\r\n            <div>\r\n              <label class=\"block text-sm font-medium text-gray-700\">Start Date</label>\r\n              <input v-model=\"newLeave.startDate\" type=\"date\" required \r\n                     class=\"mt-1 block w-full p-2 border rounded-lg focus:ring-blue-500 focus:border-blue-500\">\r\n            </div>\r\n            <div>\r\n              <label class=\"block text-sm font-medium text-gray-700\">End Date</label>\r\n              <input v-model=\"newLeave.endDate\" type=\"date\" required \r\n                     class=\"mt-1 block w-full p-2 border rounded-lg focus:ring-blue-500 focus:border-blue-500\">\r\n            </div>\r\n            <div>\r\n              <label class=\"block text-sm font-medium text-gray-700\">Reason</label>\r\n              <textarea v-model=\"newLeave.reason\" required \r\n                        class=\"mt-1 block w-full p-2 border rounded-lg focus:ring-blue-500 focus:border-blue-500\" \r\n                        rows=\"3\" placeholder=\"Enter your reason for leave\"></textarea>\r\n            </div>\r\n            <div class=\"flex justify-end gap-3\">\r\n              <button type=\"button\" @click=\"showRequestModal = false\" \r\n                      class=\"py-2 px-4 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-all duration-200\">\r\n                Cancel\r\n              </button>\r\n              <button type=\"submit\" \r\n                      class=\"py-2 px-4 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-all duration-200\"\r\n                      :disabled=\"isSubmitting\">\r\n                {{ isSubmitting ? 'Submitting...' : 'Submit' }}\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  name: 'EmployeeLeaveManagement',\r\n  data() {\r\n    return {\r\n      leaveRequests: [],\r\n      showReasonModalVisible: false, // Renamed to avoid duplication\r\n      showRequestModal: false,\r\n      selectedLeave: {},\r\n      newLeave: {\r\n        startDate: '',\r\n        endDate: '',\r\n        reason: ''\r\n      },\r\n      isSubmitting: false,\r\n      userRole: localStorage.getItem('userRole') || 'employee' // Default to 'employee' if not set\r\n    };\r\n  },\r\n  computed: {\r\n    isAdmin() {\r\n      return this.userRole === 'admin';\r\n    },\r\n    isEmployee() {\r\n      return this.userRole === 'employee';\r\n    }\r\n  },\r\n  mounted() {\r\n    this.fetchLeaveRequests();\r\n  },\r\n  methods: {\r\n    async fetchLeaveRequests() {\r\n      try {\r\n        const userId = localStorage.getItem('userId');\r\n        const endpoint = this.isAdmin \r\n          ? 'http://localhost:7777/api/leaves/all' \r\n          : `http://localhost:7777/api/leaves/employee/${userId}`;\r\n        const response = await axios.get(endpoint);\r\n        this.leaveRequests = response.data || [];\r\n      } catch (error) {\r\n        console.error('Failed to fetch leave requests:', error);\r\n        alert('Failed to load leave requests. Please try again.');\r\n      }\r\n    },\r\n    showReasonModal(leave) {\r\n      this.selectedLeave = { ...leave };\r\n      this.showReasonModalVisible = true;\r\n    },\r\n    closeReasonModal() {\r\n      this.showReasonModalVisible = false;\r\n      this.selectedLeave = {};\r\n    },\r\n    async approveLeave(id) {\r\n      try {\r\n        const response = await axios.put(`http://localhost:7777/api/leaves/${id}/approve`);\r\n        if (response.status === 200) {\r\n          this.leaveRequests = this.leaveRequests.map(leave => \r\n            leave.id === id ? { ...leave, status: 'Approved' } : leave\r\n          );\r\n          alert('Leave approved successfully!');\r\n        }\r\n      } catch (error) {\r\n        console.error('Failed to approve leave:', error);\r\n        alert('Failed to approve leave. Please try again.');\r\n      }\r\n    },\r\n    async disapproveLeave(id) {\r\n      try {\r\n        const response = await axios.put(`http://localhost:7777/api/leaves/${id}/disapprove`);\r\n        if (response.status === 200) {\r\n          this.leaveRequests = this.leaveRequests.map(leave => \r\n            leave.id === id ? { ...leave, status: 'Disapproved' } : leave\r\n          );\r\n          alert('Leave disapproved successfully!');\r\n        }\r\n      } catch (error) {\r\n        console.error('Failed to disapprove leave:', error);\r\n        alert('Failed to disapprove leave. Please try again.');\r\n      }\r\n    },\r\n    async cancelLeave(id) {\r\n      if (confirm('Are you sure you want to cancel this leave request?')) {\r\n        try {\r\n          const response = await axios.delete(`http://localhost:7777/api/leaves/${id}`);\r\n          if (response.status === 200 || response.status === 204) {\r\n            this.leaveRequests = this.leaveRequests.filter(leave => leave.id !== id);\r\n            alert('Leave request cancelled successfully!');\r\n          }\r\n        } catch (error) {\r\n          console.error('Failed to cancel leave:', error);\r\n          alert('Failed to cancel leave request. Please try again.');\r\n        }\r\n      }\r\n    },\r\n    async submitLeaveRequest() {\r\n      this.isSubmitting = true;\r\n      try {\r\n        const userId = localStorage.getItem('userId');\r\n        if (!userId) throw new Error('User not authenticated');\r\n\r\n        const leaveData = {\r\n          employeeId: userId,\r\n          employeeName: localStorage.getItem('userName') || 'Unknown',\r\n          startDate: this.newLeave.startDate,\r\n          endDate: this.newLeave.endDate,\r\n          reason: this.newLeave.reason,\r\n          status: 'Pending'\r\n        };\r\n\r\n        const response = await axios.post('http://localhost:7777/api/leaves', leaveData);\r\n        if (response.status === 201) {\r\n          this.leaveRequests.push(response.data);\r\n          this.showRequestModal = false;\r\n          this.resetNewLeave();\r\n          alert('Leave request submitted successfully!');\r\n        }\r\n      } catch (error) {\r\n        console.error('Failed to submit leave request:', error);\r\n        alert('Failed to submit leave request. Please try again.');\r\n      } finally {\r\n        this.isSubmitting = false;\r\n      }\r\n    },\r\n    resetNewLeave() {\r\n      this.newLeave = {\r\n        startDate: '',\r\n        endDate: '',\r\n        reason: ''\r\n      };\r\n    },\r\n    getStatusClass(status) {\r\n      switch (status) {\r\n        case 'Pending':\r\n          return 'text-yellow-600';\r\n        case 'Approved':\r\n          return 'text-green-600';\r\n        case 'Disapproved':\r\n          return 'text-red-600';\r\n        default:\r\n          return 'text-gray-600';\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\nbutton:disabled {\r\n  cursor: not-allowed;\r\n  opacity: 0.7;\r\n}\r\n\r\n.transition-all {\r\n  transition: all 0.2s ease-in-out;\r\n}\r\n\r\n.focus\\:ring-blue-500:focus {\r\n  outline: none;\r\n  box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.5);\r\n}\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 p-1\"\n};\nconst _hoisted_2 = {\n  class: \"max-w-6xl mx-auto\"\n};\nconst _hoisted_3 = {\n  key: 0,\n  class: \"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50\"\n};\nconst _hoisted_4 = {\n  class: \"bg-white p-6 rounded-xl shadow-md max-w-md w-full\"\n};\nconst _hoisted_5 = {\n  class: \"mb-4\"\n};\nconst _hoisted_6 = {\n  class: \"space-y-2 max-h-48 overflow-y-auto\"\n};\nconst _hoisted_7 = [\"onClick\", \"disabled\"];\nconst _hoisted_8 = {\n  class: \"mb-4\"\n};\nconst _hoisted_9 = {\n  class: \"space-y-2 max-h-48 overflow-y-auto\"\n};\nconst _hoisted_10 = [\"onClick\"];\nconst _hoisted_11 = {\n  class: \"mb-4\"\n};\nconst _hoisted_12 = {\n  class: \"p-2 border border-gray-200 rounded-lg\"\n};\nconst _hoisted_13 = {\n  class: \"flex justify-end gap-3\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_cache[6] || (_cache[6] = _createElementVNode(\"div\", {\n    class: \"bg-white p-5 rounded-xl shadow-md\"\n  }, null, -1 /* HOISTED */)), _ctx.showAddPayheadModal ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_cache[5] || (_cache[5] = _createElementVNode(\"h2\", {\n    class: \"text-xl font-bold mb-4\"\n  }, \"Add Payhead to Employee\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_5, [_cache[2] || (_cache[2] = _createElementVNode(\"label\", {\n    class: \"block text-gray-700 mb-1 font-medium text-sm\"\n  }, \"Available Payheads\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_6, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.availablePayheads, payhead => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: payhead.id,\n      class: \"flex justify-between items-center p-2 border border-gray-200 rounded-lg\"\n    }, [_createElementVNode(\"span\", null, _toDisplayString(payhead.name) + \" (\" + _toDisplayString(payhead.type) + \")\", 1 /* TEXT */), _createElementVNode(\"button\", {\n      onClick: $event => $options.togglePayhead(payhead),\n      class: _normalizeClass([{\n        'bg-green-50 text-green-600 hover:bg-green-100': !$options.isSelected(payhead),\n        'bg-gray-300 text-gray-500 hover:bg-gray-400': $options.isSelected(payhead)\n      }, \"font-semibold py-1 px-2 rounded-lg transition-all duration-200 text-xs\"]),\n      disabled: $options.isSelected(payhead)\n    }, _toDisplayString($options.isSelected(payhead) ? 'Added' : 'Add'), 11 /* TEXT, CLASS, PROPS */, _hoisted_7)]);\n  }), 128 /* KEYED_FRAGMENT */))])]), _createElementVNode(\"div\", _hoisted_8, [_cache[3] || (_cache[3] = _createElementVNode(\"label\", {\n    class: \"block text-gray-700 mb-1 font-medium text-sm\"\n  }, \"Payheads Added to Employee\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_9, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.selectedEmployeePayheads, payhead => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: payhead.id,\n      class: \"flex justify-between items-center p-2 border border-gray-200 rounded-lg\"\n    }, [_createElementVNode(\"span\", null, _toDisplayString(payhead.name) + \" (\" + _toDisplayString(payhead.type) + \")\", 1 /* TEXT */), _createElementVNode(\"button\", {\n      onClick: $event => $options.removePayheadFromEmployee(payhead),\n      class: \"bg-red-50 text-red-600 font-semibold py-1 px-2 rounded-lg hover:bg-red-100 transition-all duration-200 text-xs\"\n    }, \"X\", 8 /* PROPS */, _hoisted_10)]);\n  }), 128 /* KEYED_FRAGMENT */))])]), _createElementVNode(\"div\", _hoisted_11, [_cache[4] || (_cache[4] = _createElementVNode(\"label\", {\n    class: \"block text-gray-700 mb-1 font-medium text-sm\"\n  }, \"Total Payhead\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_12, [_createElementVNode(\"span\", null, \"Total Payable Salary: P \" + _toDisplayString(_ctx.totalPayableSalary.toLocaleString()), 1 /* TEXT */)])]), _createElementVNode(\"div\", _hoisted_13, [_createElementVNode(\"button\", {\n    type: \"button\",\n    onClick: _cache[0] || (_cache[0] = $event => _ctx.showAddPayheadModal = false),\n    class: \"py-2 px-4 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-all duration-200\"\n  }, \"Cancel\"), _createElementVNode(\"button\", {\n    type: \"button\",\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.savePayheads && $options.savePayheads(...args)),\n    class: \"py-2 px-4 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-all duration-200\"\n  }, \"Save\")])])])) : _createCommentVNode(\"v-if\", true)])]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_ctx","showAddPayheadModal","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_Fragment","_renderList","$data","availablePayheads","payhead","id","_toDisplayString","name","type","onClick","$event","$options","togglePayhead","_normalizeClass","isSelected","disabled","_hoisted_7","_hoisted_8","_hoisted_9","selectedEmployeePayheads","removePayheadFromEmployee","_hoisted_10","_hoisted_11","_hoisted_12","totalPayableSalary","toLocaleString","_hoisted_13","_cache","args","savePayheads","_createCommentVNode"],"sources":["C:\\Users\\ASUS\\Desktop\\Payroll_system\\frontend\\src\\views\\ManagePayHeads.vue"],"sourcesContent":["<template>\r\n  <div class=\"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 p-1\">\r\n    <div class=\"max-w-6xl mx-auto\">\r\n\r\n      <div class=\"bg-white p-5 rounded-xl shadow-md\">\r\n        </div>\r\n\r\n      <div v-if=\"showAddPayheadModal\" class=\"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50\">\r\n        <div class=\"bg-white p-6 rounded-xl shadow-md max-w-md w-full\">\r\n          <h2 class=\"text-xl font-bold mb-4\">Add Payhead to Employee</h2>\r\n\r\n          <div class=\"mb-4\">\r\n            <label class=\"block text-gray-700 mb-1 font-medium text-sm\">Available Payheads</label>\r\n            <div class=\"space-y-2 max-h-48 overflow-y-auto\"> <div v-for=\"payhead in availablePayheads\" :key=\"payhead.id\" class=\"flex justify-between items-center p-2 border border-gray-200 rounded-lg\">\r\n                <span>{{ payhead.name }} ({{ payhead.type }})</span>\r\n                <button @click=\"togglePayhead(payhead)\" :class=\"{'bg-green-50 text-green-600 hover:bg-green-100': !isSelected(payhead), 'bg-gray-300 text-gray-500 hover:bg-gray-400': isSelected(payhead)}\"\r\n                  class=\"font-semibold py-1 px-2 rounded-lg transition-all duration-200 text-xs\" :disabled=\"isSelected(payhead)\">\r\n                  {{ isSelected(payhead) ? 'Added' : 'Add' }}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"mb-4\">\r\n            <label class=\"block text-gray-700 mb-1 font-medium text-sm\">Payheads Added to Employee</label>\r\n            <div class=\"space-y-2 max-h-48 overflow-y-auto\"> <div v-for=\"payhead in selectedEmployeePayheads\" :key=\"payhead.id\" class=\"flex justify-between items-center p-2 border border-gray-200 rounded-lg\">\r\n                <span>{{ payhead.name }} ({{ payhead.type }})</span>\r\n                <button @click=\"removePayheadFromEmployee(payhead)\" class=\"bg-red-50 text-red-600 font-semibold py-1 px-2 rounded-lg hover:bg-red-100 transition-all duration-200 text-xs\">X</button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"mb-4\">\r\n            <label class=\"block text-gray-700 mb-1 font-medium text-sm\">Total Payhead</label>\r\n            <div class=\"p-2 border border-gray-200 rounded-lg\">\r\n              <span>Total Payable Salary: P {{ totalPayableSalary.toLocaleString() }}</span>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"flex justify-end gap-3\">\r\n            <button type=\"button\" @click=\"showAddPayheadModal = false\" class=\"py-2 px-4 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-all duration-200\">Cancel</button>\r\n            <button type=\"button\" @click=\"savePayheads\" class=\"py-2 px-4 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-all duration-200\">Save</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'ManagePayHeads',\r\n  data() {\r\n    return {\r\n      payHeads: [\r\n        { id: 1, name: 'Basic Salary', amount: 30000, type: 'Earnings' },\r\n        { id: 2, name: 'Health Insurance', amount: 2000, type: 'Deductions' },\r\n        { id: 3, name: 'Bonus', amount: 5000, type: 'Earnings' },\r\n        { id: 4, name: 'Tax', amount: 3000, type: 'Deductions' },\r\n        { id: 5, name: 'Overtime', amount: 2000, type: 'Earnings' },\r\n        { id: 6, name: 'Loan', amount: 1000, type: 'Deductions' },\r\n        // Add more pay head data as needed\r\n      ],\r\n      employees: [\r\n        { id: 1, name: 'John Doe', position: 'Software Engineer', totalDeduction: 2000, totalEarnings: 30000, totalSalary: 28000, payheads: [] },\r\n        { id: 2, name: 'Jane Smith', position: 'Product Manager', totalDeduction: 1500, totalEarnings: 35000, totalSalary: 33500, payheads: [] },\r\n        // Add more employee data as needed\r\n      ],\r\n      // ... (Other data properties remain the same)\r\n      selectedEmployeePayheads: [],\r\n      availablePayheads: [],\r\n      selectedPayheadIds: new Set(),\r\n    };\r\n  },\r\n  computed: {\r\n    // ... (computed properties remain the same)\r\n  },\r\n  methods: {\r\n    // ... (Other methods remain the same)\r\n\r\n    openAddPayheadModal(employee) {\r\n      this.selectedEmployee = employee;\r\n      this.selectedEmployeePayheads = employee.payheads ? [...employee.payheads] : [];\r\n      this.availablePayheads = this.payHeads.filter(p => !this.selectedEmployeePayheads.find(sp => sp.id === p.id));\r\n      this.selectedPayheadIds = new Set(this.selectedEmployeePayheads.map(p => p.id));\r\n      this.showAddPayheadModal = true;\r\n    },\r\n    togglePayhead(payhead) {\r\n      if (this.isSelected(payhead)) {\r\n        this.removePayheadFromEmployee(payhead);\r\n      } else {\r\n        this.addPayheadToEmployee(payhead);\r\n      }\r\n    },\r\n    isSelected(payhead) {\r\n      return this.selectedPayheadIds.has(payhead.id);\r\n    },\r\n    addPayheadToEmployee(payhead) {\r\n      this.selectedEmployeePayheads.push(payhead);\r\n      this.selectedPayheadIds.add(payhead.id);\r\n      //this.availablePayheads = this.availablePayheads.filter(p => p.id !== payhead.id); //Don't filter here\r\n    },\r\n    removePayheadFromEmployee(payhead) {\r\n      this.selectedEmployeePayheads = this.selectedEmployeePayheads.filter(p => p.id !== payhead.id);\r\n      this.selectedPayheadIds.delete(payhead.id);\r\n      this.availablePayheads.push(payhead);\r\n    },\r\n    savePayheads() {\r\n      this.selectedEmployee.payheads = [...this.selectedEmployeePayheads];\r\n      this.showAddPayheadModal = false;\r\n    },\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n/* Added styling for scrollable divs */\r\n.max-h-48 {\r\n  max-height: 12rem; /* Adjust as needed */\r\n}\r\n\r\n.overflow-y-auto {\r\n  overflow-y: auto;\r\n}\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}